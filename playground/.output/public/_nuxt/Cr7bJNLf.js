const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DWuLgtwn.js","./Aria.DZipsVLp.css","./yag8oBXn.js","./Bnf_lRQy.js","./C8y7k1hF.js","./LibColorPicker.BCpprP8K.css","./nEDlxHUw.js","./CMAC6f-8.js","./B1l52TQG.js","./zksowYXp.js","./BPQwXZVQ.js","./C7Z183xh.js","./kP40z9O2.js","./BwMj1Qis.js","./Cj1oMjUK.js","./C7zzMuqj.js","./n_lVdSVr.js","./B1ZZs3dc.js","./CtCmopnp.js","./LdOp3z_q.js","./CYbN8MoI.js","./DEqR9Afu.js","./DuuJ7sAa.js","./CKvYNDQG.js","./4DHJ1cZk.js","./CLhnK0uA.js","./dDkmq814.js","./B3hNgn5c.js","./Ash2trnT.js","./lMsVdpwf.js","./CawLkUjl.js","./B6z5u1xA.js","./CSDBd3gR.js","./QgTngDH5.js","./CPgnnmFG.js","./B9QMCIbF.js","./OUOCEPhM.js","./DltQxv-Z.js","./67yv8MUv.js","./Dn8aqQSn.js","./B9hMVHjz.js","./CAGD1vQt.js","./zvKEumDX.js","./ByX1p-MC.js","./DrzsTfQl.js","./CrumeEqI.js","./8CuD8aeJ.js","./Q0G3kSBE.js","./BAqtwYlo.js","./BUiCOGBj.js","./CiwhzYVc.js","./DkLtuBJ2.js","./CmCXVd74.js","./rcr_2_Au.js","./C9PYxg-P.js","./CgEYd65H.js","./CJUaWEUs.js","./BoTjDSvJ.js","./BHyIW7mM.js","./DfEggqIp.js","./D1V0MPAB.js","./4Ux7Zsf_.js","./E6iptbBk.js","./bp7LOAXw.js","./KU2GcRGR.js","./urHl5b3U.js","./_7BUmMaz.js","./AHSh5YjK.js","./BxwFa1T_.js","./CZM6E03B.js","./CHMSUyLJ.js","./CmH3qNTd.js","./BSS_HsAf.js","./CKyaS9Ed.js","./BAcejCCi.js","./LyLEGTrs.js","./DcPYm5Dg.js","./CBaFEvH3.js","./55BRSkMQ.js","./Di4S5DOg.js","./Cs9o9ESP.js","./BhpJIvvw.js","./hrYf2Rk5.js","./CLfUFbxr.js","./eSz_-OcX.js","./PRNaSbKx.js","./CsI6C2wP.js","./CNcoTEx5.js","./BlloJCIM.js","./0qpC7d8J.js","./Be96_g6E.js","./CZJo0vSi.js","./DNI3Hsbm.js","./D_dWILRY.js","./DuEmHK4M.js","./DiTmLxSS.js","./CQZWKAb4.js","./BJKGRTHq.js","./Cwbt3har.js","./CmxgsE9I.js","./CcCwHUc2.js","./Co-AyC30.js","./BmXe8uOm.js","./DNFHdh4-.js","./D1eCj3Ns.js","./C6Ut8YfI.js","./Bes2XG0J.js","./B9oE02Jg.js","./vlqBxsc8.js","./BO6a2n7Q.js","./CFu-DpUf.js","./BDd6TLce.js","./XuNKOpmR.js","./DLGFH_Et.js","./ZKqJFzIR.js","./3GArE9D5.js","./p26zUPpQ.js","./DgkrZfmL.js","./DTM70KEY.js","./CZarM2xV.js","./D_szdFTr.js","./CPs7Ap9z.js","./DFmVPsEM.js","./D6eCV2__.js","./Dj_XMCeR.js","./D05WyPuQ.js","./ClawiVzN.js","./DM_og3v4.js","./F2cLyAUB.js","./Cx0HPwMS.js","./CWDYvhNn.js","./5RlFyxH8.js","./C81e4_en.js","./D9n-Vrpx.js","./C65rLZ-T.js","./CVKtbz--.js","./B_DmNinz.js","./aFFPrTQR.js","./Bs63xNba.js","./B7znD_bI.js","./Bcd0JfR1.js","./Df328vV4.js","./B7EV854e.js","./D7jw2IbN.js","./C5o5dEVi.js","./BPx_y7j8.js","./-e4PUdg1.js","./CnqvexOJ.js","./eEvgCQRo.js","./CtZu4a3z.js","./CqCV3b9a.js","./DPQANhhf.js","./DrIFS6K-.js","./DVpOnIQ7.js","./apRUv7jm.js","./Th0HjqH7.js","./BJvwEw5v.js","./BzBMumBU.js","./Cl9Qp7Ad.js","./DGfXQlJ3.js","./vhVHt3-2.js","./BXKc7xR_.js","./CJfzOPK4.js","./CN8Hrpxq.js","./5QVx-SYC.js","./B1m0cdo-.js","./Dfvu38yT.js","./CZVjXekG.js","./DwglIrW-.js","./gEAVUauH.js","./C44dlMtn.js","./B3BVgEsG.js","./DysDRLbu.js","./C-H3XeIY.js","./8jJ8FLEb.js","./cM2r36SR.js","./DXiMImP8.js","./SN7C1QxY.js","./BVvZDNgu.js","./Cmaf_p_H.js","./BYJTe-B6.js","./CvZOtPS0.js","./B0vqsjWO.js","./DIYVocXf.js","./rEaAwfqx.js","./BIWdxRW3.js","./DpQ5qxKJ.js","./BCFmLHRf.js","./Cbptp1Bv.js","./Cw-eF_bm.js","./DWXft66g.js","./DxA_h8RG.js","./BUAIdBNF.js","./lHs7bxnR.js","./BVsBEjzZ.js","./8JypSBRn.js","./BR7-mOxG.js","./CaRdZePf.js","./BYMS51ZD.js","./C89BS9ZO.js","./dfIWITyu.js","./BiL0olPs.js","./Bl9gXpxz.js","./Cs32ELhi.js","./DinJAV-V.js","./C_Mv1LMn.js","./CO_pUp74.js","./CzzpxbQG.js","./CXgmx_x7.js","./8x1fjvuK.js","./CxIinq_y.js","./kICRHiK3.js","./BLqx3yos.js","./BN8hHKjp.js","./Duf0b2P0.js","./BrP960CR.js","./CVFzLnkv.js","./uHYlFNe5.js","./BxyHMfE6.js","./D4e1gXu7.js","./ge2dNfCz.js","./DRU3P1C3.js","./BcOQ18Du.js","./BnhBFzFh.js","./DRGeAcuP.js","./BFgZyA1Y.js","./fzCDWj70.js","./BdcX4Kzi.js","./HYusGmGI.js","./BdYrIkPP.js","./BFwHiOs8.js","./Dk5OekI8.js","./BUj85T5O.js","./DNTM-Edc.js","./BGLiND7R.js","./SSlQnVOM.js","./xqW1pOJt.js","./DceYKEd5.js","./DgMKJay6.js","./CBDMqks5.js","./DxwZhbp0.js","./CwEijJ2O.js","./Dmv2AFTt.js","./PSCCBrkG.js","./CRia5Uc0.js","./BPU_w6x4.js","./Dgag79HQ.js","./S647ZvLU.js","./DTEJgRr9.js","./OgC8GHd4.js","./CtF0R70F.js","./BI0B0W2W.js","./DyIjGHG3.js","./D3nKyFNx.js","./C0c5cERX.js","./COetekFt.js","./EPxOrg_7.js","./Dn0ParC3.js","./DU8-6XDd.js","./Hk_kG51l.js","./FTLt5W8X.js","./BWtAWCfC.js","./Cc1wIyfO.js","./D1SDRx1P.js","./DF5jNU2j.js","./D0fsCUJu.js","./BNv3GU7b.js","./C2Kz6oUw.js","./9TaPyhl6.js","./RzUjv5fn.js","./BFIlRFe8.js","./CPM70vnn.js","./CtsxUR61.js","./CxBQ9L9I.js","./BUunpd9M.js","./BTRu8Ib4.js","./D0gaEx3Y.js","./DAUMw13y.js","./DqzqNlOy.js","./BuitP8eU.js","./Cm2N7D1j.js","./BuZcL2r6.js","./Z9XDCYBj.js","./CZgCE6EI.js","./oj6IpAiE.js","./C6VLidOE.js","./DXiR8UJX.js","./CJHFDVnx.js","./B7uc1q_a.js","./c1UTHEVL.js","./DDMUG3jh.js","./BkThuqGa.js","./ClsJpkHH.js","./kSlZHhJb.js","./CZqJJrAo.js","./DJbR5VpX.js","./D7StBbBj.js","./DDXdSnWH.js","./OMw8O2By.js","./DWz4c2Y4.js","./CO2bKUrV.js","./CvdgUMek.js","./M6fUj73l.js","./BP2ur4qb.js","./Cgsjchii.js","./2Tx8FFq5.js","./DR5Ir4nn.js","./BoRh9nSr.js","./DVL2jBvT.js","./TT4xEWeJ.js","./m6S5ACfo.js","./wplcGSzq.js","./DTgzko2q.js","./DqpkaCmA.js","./BMlDPEdC.js","./-wLIKMc1.js","./BUfKhIdH.js","./ppA27pAY.js","./D8t1tobG.js","./CTk4KSn7.js","./vfYUXP8U.js","./Dlczz2HB.js","./Buy1xbTy.js","./CnsWMHJW.js","./BL6I34r4.js","./BxzW-F5E.js","./DceD4kcs.js","./k1ee8ZNu.js","./Dugzluiy.js","./CHxz8c5N.js","./6TVzIg93.js","./Cdx5PrwE.js","./BTfVko3H.js","./BKgbqFhe.js","./BtHQPR_R.js","./DtYQJOLc.js","./BcHfjyQo.js","./BiIoudD1.js","./PLHwo0Lu.js","./BlcfLgqy.js","./CjMO7Y2W.js","./DioKLDM4.js","./zYWBLjpe.js","./Qjmn_h1N.js","./CEdtpkhK.js","./X6x8gpyJ.js","./DqramSLm.js","./ffEEV5Cw.js","./6aWWV9xZ.js","./C4DmZ2ME.js","./B5RA10VZ.js","./BRtzqzUM.js","./DXQNEBQP.js","./Dw0nFAIu.js","./CFLjeRcb.js","./BdSax8nO.js","./BwCFHhd3.js","./BEKdav-Z.js","./Dj-ffFGx.js","./D2SYd55b.js","./C9VIUf0i.js","./CO1mxmAv.js","./C9mHRT-y.js","./BVybyj25.js","./CEumB2Y2.js","./BPN8917S.js","./tzCnaA6D.js","./BqSgWHyS.js","./C_VoTOsz.js","./Br-hJVOx.js","./Duz12aYq.js","./CenSoNQX.js","./Dj30kkhN.js","./B1GjPiYW.js","./YyOy7RDP.js","./ClpfIGzb.js","./LSpZmJps.js","./5bjx9WS2.js","./C1QJ3sPW.js","./FmSvnV9S.js","./9mDNVNY2.js","./CjZP3ZRM.js","./BexNtnJA.js","./pijs5jNr.js","./OVhb5BEv.js","./Cg7CP1Al.js","./CS1Xbxvs.js","./BXBhIUeX.js","./BMJLAPjC.js","./zIZj301A.js","./DV6mZbAW.js","./C0KBHMtm.js","./CdanMj_K.js","./Uro1zfwH.js","./CuDMerAG.js","./BSaCqeEE.js","./error-404.BrnzQOPY.css","./COUzoPTg.js","./error-500.Dx_k7MLJ.css"])))=>i.map(i=>d[i]);
var j1=Object.defineProperty;var P1=(e,t,n)=>t in e?j1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var We=(e,t,n)=>P1(e,typeof t!="symbol"?t+"":t,n);/**
* @vue/shared v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function df(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Le={},ls=[],Kn=()=>{},N1=()=>!1,Pi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),ff=e=>e.startsWith("onUpdate:"),ot=Object.assign,hf=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},V1=Object.prototype.hasOwnProperty,je=(e,t)=>V1.call(e,t),he=Array.isArray,as=e=>Ni(e)==="[object Map]",Is=e=>Ni(e)==="[object Set]",Ph=e=>Ni(e)==="[object Date]",ve=e=>typeof e=="function",Ye=e=>typeof e=="string",Mn=e=>typeof e=="symbol",Fe=e=>e!==null&&typeof e=="object",l0=e=>(Fe(e)||ve(e))&&ve(e.then)&&ve(e.catch),a0=Object.prototype.toString,Ni=e=>a0.call(e),$1=e=>Ni(e).slice(8,-1),c0=e=>Ni(e)==="[object Object]",pf=e=>Ye(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,cs=df(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),bc=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},B1=/-(\w)/g,on=bc(e=>e.replace(B1,(t,n)=>n?n.toUpperCase():"")),H1=/\B([A-Z])/g,_r=bc(e=>e.replace(H1,"-$1").toLowerCase()),vc=bc(e=>e.charAt(0).toUpperCase()+e.slice(1)),Jc=bc(e=>e?`on${vc(e)}`:""),zt=(e,t)=>!Object.is(e,t),Cl=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},u0=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},ql=e=>{const t=parseFloat(e);return isNaN(t)?e:t},d0=e=>{const t=Ye(e)?Number(e):NaN;return isNaN(t)?e:t};let Nh;const Ec=()=>Nh||(Nh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Wn(e){if(he(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=Ye(r)?W1(r):Wn(r);if(o)for(const s in o)t[s]=o[s]}return t}else if(Ye(e)||Fe(e))return e}const F1=/;(?![^(]*\))/g,z1=/:([^]+)/,K1=/\/\*[^]*?\*\//g;function W1(e){const t={};return e.replace(K1,"").split(F1).forEach(n=>{if(n){const r=n.split(z1);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function st(e){let t="";if(Ye(e))t=e;else if(he(e))for(let n=0;n<e.length;n++){const r=st(e[n]);r&&(t+=r+" ")}else if(Fe(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Ft(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Ye(t)&&(e.class=st(t)),n&&(e.style=Wn(n)),e}const U1="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",q1=df(U1);function f0(e){return!!e||e===""}function G1(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Io(e[r],t[r]);return n}function Io(e,t){if(e===t)return!0;let n=Ph(e),r=Ph(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Mn(e),r=Mn(t),n||r)return e===t;if(n=he(e),r=he(t),n||r)return n&&r?G1(e,t):!1;if(n=Fe(e),r=Fe(t),n||r){if(!n||!r)return!1;const o=Object.keys(e).length,s=Object.keys(t).length;if(o!==s)return!1;for(const i in e){const l=e.hasOwnProperty(i),a=t.hasOwnProperty(i);if(l&&!a||!l&&a||!Io(e[i],t[i]))return!1}}return String(e)===String(t)}function mf(e,t){return e.findIndex(n=>Io(n,t))}const h0=e=>!!(e&&e.__v_isRef===!0),Dt=e=>Ye(e)?e:e==null?"":he(e)||Fe(e)&&(e.toString===a0||!ve(e.toString))?h0(e)?Dt(e.value):JSON.stringify(e,p0,2):String(e),p0=(e,t)=>h0(t)?p0(e,t.value):as(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o],s)=>(n[Xc(r,s)+" =>"]=o,n),{})}:Is(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Xc(n))}:Mn(t)?Xc(t):Fe(t)&&!he(t)&&!c0(t)?String(t):t,Xc=(e,t="")=>{var n;return Mn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let nn;class m0{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=nn,!t&&nn&&(this.index=(nn.scopes||(nn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=nn;try{return nn=this,t()}finally{nn=n}}}on(){nn=this}off(){nn=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function J1(e){return new m0(e)}function g0(){return nn}let Ue;const Yc=new WeakSet;class _0{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,nn&&nn.active&&nn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Yc.has(this)&&(Yc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||b0(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Vh(this),v0(this);const t=Ue,n=Cn;Ue=this,Cn=!0;try{return this.fn()}finally{E0(this),Ue=t,Cn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)yf(t);this.deps=this.depsTail=void 0,Vh(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Yc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Wu(this)&&this.run()}get dirty(){return Wu(this)}}let y0=0,Qs,Zs;function b0(e,t=!1){if(e.flags|=8,t){e.next=Zs,Zs=e;return}e.next=Qs,Qs=e}function gf(){y0++}function _f(){if(--y0>0)return;if(Zs){let t=Zs;for(Zs=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Qs;){let t=Qs;for(Qs=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function v0(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function E0(e){let t,n=e.depsTail,r=n;for(;r;){const o=r.prevDep;r.version===-1?(r===n&&(n=o),yf(r),X1(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=o}e.deps=t,e.depsTail=n}function Wu(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(k0(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function k0(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===fi))return;e.globalVersion=fi;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Wu(e)){e.flags&=-3;return}const n=Ue,r=Cn;Ue=e,Cn=!0;try{v0(e);const o=e.fn(e._value);(t.version===0||zt(o,e._value))&&(e._value=o,t.version++)}catch(o){throw t.version++,o}finally{Ue=n,Cn=r,E0(e),e.flags&=-3}}function yf(e,t=!1){const{dep:n,prevSub:r,nextSub:o}=e;if(r&&(r.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)yf(s,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function X1(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Cn=!0;const w0=[];function Yr(){w0.push(Cn),Cn=!1}function Qr(){const e=w0.pop();Cn=e===void 0?!0:e}function Vh(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Ue;Ue=void 0;try{t()}finally{Ue=n}}}let fi=0,Y1=class{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class kc{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Ue||!Cn||Ue===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ue)n=this.activeLink=new Y1(Ue,this),Ue.deps?(n.prevDep=Ue.depsTail,Ue.depsTail.nextDep=n,Ue.depsTail=n):Ue.deps=Ue.depsTail=n,x0(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Ue.depsTail,n.nextDep=void 0,Ue.depsTail.nextDep=n,Ue.depsTail=n,Ue.deps===n&&(Ue.deps=r)}return n}trigger(t){this.version++,fi++,this.notify(t)}notify(t){gf();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{_f()}}}function x0(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)x0(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Gl=new WeakMap,bo=Symbol(""),Uu=Symbol(""),hi=Symbol("");function At(e,t,n){if(Cn&&Ue){let r=Gl.get(e);r||Gl.set(e,r=new Map);let o=r.get(n);o||(r.set(n,o=new kc),o.map=r,o.key=n),o.track()}}function ar(e,t,n,r,o,s){const i=Gl.get(e);if(!i){fi++;return}const l=a=>{a&&a.trigger()};if(gf(),t==="clear")i.forEach(l);else{const a=he(e),c=a&&pf(n);if(a&&n==="length"){const u=Number(r);i.forEach((d,f)=>{(f==="length"||f===hi||!Mn(f)&&f>=u)&&l(d)})}else switch((n!==void 0||i.has(void 0))&&l(i.get(n)),c&&l(i.get(hi)),t){case"add":a?c&&l(i.get("length")):(l(i.get(bo)),as(e)&&l(i.get(Uu)));break;case"delete":a||(l(i.get(bo)),as(e)&&l(i.get(Uu)));break;case"set":as(e)&&l(i.get(bo));break}}_f()}function Q1(e,t){const n=Gl.get(e);return n&&n.get(t)}function qo(e){const t=Te(e);return t===e?t:(At(t,"iterate",hi),gn(e)?t:t.map(Ot))}function wc(e){return At(e=Te(e),"iterate",hi),e}const Z1={__proto__:null,[Symbol.iterator](){return Qc(this,Symbol.iterator,Ot)},concat(...e){return qo(this).concat(...e.map(t=>he(t)?qo(t):t))},entries(){return Qc(this,"entries",e=>(e[1]=Ot(e[1]),e))},every(e,t){return Zn(this,"every",e,t,void 0,arguments)},filter(e,t){return Zn(this,"filter",e,t,n=>n.map(Ot),arguments)},find(e,t){return Zn(this,"find",e,t,Ot,arguments)},findIndex(e,t){return Zn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Zn(this,"findLast",e,t,Ot,arguments)},findLastIndex(e,t){return Zn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Zn(this,"forEach",e,t,void 0,arguments)},includes(...e){return Zc(this,"includes",e)},indexOf(...e){return Zc(this,"indexOf",e)},join(e){return qo(this).join(e)},lastIndexOf(...e){return Zc(this,"lastIndexOf",e)},map(e,t){return Zn(this,"map",e,t,void 0,arguments)},pop(){return Vs(this,"pop")},push(...e){return Vs(this,"push",e)},reduce(e,...t){return $h(this,"reduce",e,t)},reduceRight(e,...t){return $h(this,"reduceRight",e,t)},shift(){return Vs(this,"shift")},some(e,t){return Zn(this,"some",e,t,void 0,arguments)},splice(...e){return Vs(this,"splice",e)},toReversed(){return qo(this).toReversed()},toSorted(e){return qo(this).toSorted(e)},toSpliced(...e){return qo(this).toSpliced(...e)},unshift(...e){return Vs(this,"unshift",e)},values(){return Qc(this,"values",Ot)}};function Qc(e,t,n){const r=wc(e),o=r[t]();return r!==e&&!gn(e)&&(o._next=o.next,o.next=()=>{const s=o._next();return s.value&&(s.value=n(s.value)),s}),o}const eE=Array.prototype;function Zn(e,t,n,r,o,s){const i=wc(e),l=i!==e&&!gn(e),a=i[t];if(a!==eE[t]){const d=a.apply(e,s);return l?Ot(d):d}let c=n;i!==e&&(l?c=function(d,f){return n.call(this,Ot(d),f,e)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,e)}));const u=a.call(i,c,r);return l&&o?o(u):u}function $h(e,t,n,r){const o=wc(e);let s=n;return o!==e&&(gn(e)?n.length>3&&(s=function(i,l,a){return n.call(this,i,l,a,e)}):s=function(i,l,a){return n.call(this,i,Ot(l),a,e)}),o[t](s,...r)}function Zc(e,t,n){const r=Te(e);At(r,"iterate",hi);const o=r[t](...n);return(o===-1||o===!1)&&Ef(n[0])?(n[0]=Te(n[0]),r[t](...n)):o}function Vs(e,t,n=[]){Yr(),gf();const r=Te(e)[t].apply(e,n);return _f(),Qr(),r}const tE=df("__proto__,__v_isRef,__isVue"),C0=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Mn));function nE(e){Mn(e)||(e=String(e));const t=Te(this);return At(t,"has",e),t.hasOwnProperty(e)}class T0{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){const o=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(o?s?fE:O0:s?A0:M0).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const i=he(t);if(!o){let a;if(i&&(a=Z1[n]))return a;if(n==="hasOwnProperty")return nE}const l=Reflect.get(t,n,_t(t)?t:r);return(Mn(n)?C0.has(n):tE(n))||(o||At(t,"get",n),s)?l:_t(l)?i&&pf(n)?l:l.value:Fe(l)?o?Fn(l):vn(l):l}}class S0 extends T0{constructor(t=!1){super(!1,t)}set(t,n,r,o){let s=t[n];if(!this._isShallow){const a=Ur(s);if(!gn(r)&&!Ur(r)&&(s=Te(s),r=Te(r)),!he(t)&&_t(s)&&!_t(r))return a?!1:(s.value=r,!0)}const i=he(t)&&pf(n)?Number(n)<t.length:je(t,n),l=Reflect.set(t,n,r,_t(t)?t:o);return t===Te(o)&&(i?zt(r,s)&&ar(t,"set",n,r):ar(t,"add",n,r)),l}deleteProperty(t,n){const r=je(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&r&&ar(t,"delete",n,void 0),o}has(t,n){const r=Reflect.has(t,n);return(!Mn(n)||!C0.has(n))&&At(t,"has",n),r}ownKeys(t){return At(t,"iterate",he(t)?"length":bo),Reflect.ownKeys(t)}}class rE extends T0{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const oE=new S0,sE=new rE,iE=new S0(!0);const qu=e=>e,Qi=e=>Reflect.getPrototypeOf(e);function lE(e,t,n){return function(...r){const o=this.__v_raw,s=Te(o),i=as(s),l=e==="entries"||e===Symbol.iterator&&i,a=e==="keys"&&i,c=o[e](...r),u=n?qu:t?Gu:Ot;return!t&&At(s,"iterate",a?Uu:bo),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:l?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function Zi(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function aE(e,t){const n={get(o){const s=this.__v_raw,i=Te(s),l=Te(o);e||(zt(o,l)&&At(i,"get",o),At(i,"get",l));const{has:a}=Qi(i),c=t?qu:e?Gu:Ot;if(a.call(i,o))return c(s.get(o));if(a.call(i,l))return c(s.get(l));s!==i&&s.get(o)},get size(){const o=this.__v_raw;return!e&&At(Te(o),"iterate",bo),Reflect.get(o,"size",o)},has(o){const s=this.__v_raw,i=Te(s),l=Te(o);return e||(zt(o,l)&&At(i,"has",o),At(i,"has",l)),o===l?s.has(o):s.has(o)||s.has(l)},forEach(o,s){const i=this,l=i.__v_raw,a=Te(l),c=t?qu:e?Gu:Ot;return!e&&At(a,"iterate",bo),l.forEach((u,d)=>o.call(s,c(u),c(d),i))}};return ot(n,e?{add:Zi("add"),set:Zi("set"),delete:Zi("delete"),clear:Zi("clear")}:{add(o){!t&&!gn(o)&&!Ur(o)&&(o=Te(o));const s=Te(this);return Qi(s).has.call(s,o)||(s.add(o),ar(s,"add",o,o)),this},set(o,s){!t&&!gn(s)&&!Ur(s)&&(s=Te(s));const i=Te(this),{has:l,get:a}=Qi(i);let c=l.call(i,o);c||(o=Te(o),c=l.call(i,o));const u=a.call(i,o);return i.set(o,s),c?zt(s,u)&&ar(i,"set",o,s):ar(i,"add",o,s),this},delete(o){const s=Te(this),{has:i,get:l}=Qi(s);let a=i.call(s,o);a||(o=Te(o),a=i.call(s,o)),l&&l.call(s,o);const c=s.delete(o);return a&&ar(s,"delete",o,void 0),c},clear(){const o=Te(this),s=o.size!==0,i=o.clear();return s&&ar(o,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=lE(o,e,t)}),n}function bf(e,t){const n=aE(e,t);return(r,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(je(n,o)&&o in r?n:r,o,s)}const cE={get:bf(!1,!1)},uE={get:bf(!1,!0)},dE={get:bf(!0,!1)};const M0=new WeakMap,A0=new WeakMap,O0=new WeakMap,fE=new WeakMap;function hE(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function pE(e){return e.__v_skip||!Object.isExtensible(e)?0:hE($1(e))}function vn(e){return Ur(e)?e:vf(e,!1,oE,cE,M0)}function ss(e){return vf(e,!1,iE,uE,A0)}function Fn(e){return vf(e,!0,sE,dE,O0)}function vf(e,t,n,r,o){if(!Fe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const i=pE(e);if(i===0)return e;const l=new Proxy(e,i===2?r:n);return o.set(e,l),l}function vo(e){return Ur(e)?vo(e.__v_raw):!!(e&&e.__v_isReactive)}function Ur(e){return!!(e&&e.__v_isReadonly)}function gn(e){return!!(e&&e.__v_isShallow)}function Ef(e){return e?!!e.__v_raw:!1}function Te(e){const t=e&&e.__v_raw;return t?Te(t):e}function Me(e){return!je(e,"__v_skip")&&Object.isExtensible(e)&&u0(e,"__v_skip",!0),e}const Ot=e=>Fe(e)?vn(e):e,Gu=e=>Fe(e)?Fn(e):e;function _t(e){return e?e.__v_isRef===!0:!1}function Q(e){return I0(e,!1)}function Jl(e){return I0(e,!0)}function I0(e,t){return _t(e)?e:new mE(e,t)}class mE{constructor(t,n){this.dep=new kc,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Te(t),this._value=n?t:Ot(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||gn(t)||Ur(t);t=r?t:Te(t),zt(t,n)&&(this._rawValue=t,this._value=r?t:Ot(t),this.dep.trigger())}}function S(e){return _t(e)?e.value:e}const gE={get:(e,t,n)=>t==="__v_raw"?e:S(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return _t(o)&&!_t(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function R0(e){return vo(e)?e:new Proxy(e,gE)}class _E{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new kc,{get:r,set:o}=t(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=o}get value(){return this._value=this._get()}set value(t){this._set(t)}}function D0(e){return new _E(e)}function yE(e){const t=he(e)?new Array(e.length):{};for(const n in e)t[n]=L0(e,n);return t}class bE{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Q1(Te(this._object),this._key)}}class vE{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function us(e,t,n){return _t(e)?e:ve(e)?new vE(e):Fe(e)&&arguments.length>1?L0(e,t,n):Q(e)}function L0(e,t,n){const r=e[t];return _t(r)?r:new bE(e,t,n)}class EE{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new kc(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=fi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Ue!==this)return b0(this,!0),!0}get value(){const t=this.dep.track();return k0(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function kE(e,t,n=!1){let r,o;return ve(e)?r=e:(r=e.get,o=e.set),new EE(r,o,n)}const el={},Xl=new WeakMap;let lo;function wE(e,t=!1,n=lo){if(n){let r=Xl.get(n);r||Xl.set(n,r=[]),r.push(e)}}function xE(e,t,n=Le){const{immediate:r,deep:o,once:s,scheduler:i,augmentJob:l,call:a}=n,c=E=>o?E:gn(E)||o===!1||o===0?cr(E,1):cr(E);let u,d,f,h,p=!1,g=!1;if(_t(e)?(d=()=>e.value,p=gn(e)):vo(e)?(d=()=>c(e),p=!0):he(e)?(g=!0,p=e.some(E=>vo(E)||gn(E)),d=()=>e.map(E=>{if(_t(E))return E.value;if(vo(E))return c(E);if(ve(E))return a?a(E,2):E()})):ve(e)?t?d=a?()=>a(e,2):e:d=()=>{if(f){Yr();try{f()}finally{Qr()}}const E=lo;lo=u;try{return a?a(e,3,[h]):e(h)}finally{lo=E}}:d=Kn,t&&o){const E=d,T=o===!0?1/0:o;d=()=>cr(E(),T)}const y=g0(),_=()=>{u.stop(),y&&hf(y.effects,u)};if(s&&t){const E=t;t=(...T)=>{E(...T),_()}}let w=g?new Array(e.length).fill(el):el;const b=E=>{if(!(!(u.flags&1)||!u.dirty&&!E))if(t){const T=u.run();if(o||p||(g?T.some((x,D)=>zt(x,w[D])):zt(T,w))){f&&f();const x=lo;lo=u;try{const D=[T,w===el?void 0:g&&w[0]===el?[]:w,h];a?a(t,3,D):t(...D),w=T}finally{lo=x}}}else u.run()};return l&&l(b),u=new _0(d),u.scheduler=i?()=>i(b,!1):b,h=E=>wE(E,!1,u),f=u.onStop=()=>{const E=Xl.get(u);if(E){if(a)a(E,4);else for(const T of E)T();Xl.delete(u)}},t?r?b(!0):w=u.run():i?i(b.bind(null,!0),!0):u.run(),_.pause=u.pause.bind(u),_.resume=u.resume.bind(u),_.stop=_,_}function cr(e,t=1/0,n){if(t<=0||!Fe(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,_t(e))cr(e.value,t,n);else if(he(e))for(let r=0;r<e.length;r++)cr(e[r],t,n);else if(Is(e)||as(e))e.forEach(r=>{cr(r,t,n)});else if(c0(e)){for(const r in e)cr(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&cr(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Vi(e,t,n,r){try{return r?e(...r):e()}catch(o){Rs(o,t,n)}}function An(e,t,n,r){if(ve(e)){const o=Vi(e,t,n,r);return o&&l0(o)&&o.catch(s=>{Rs(s,t,n)}),o}if(he(e)){const o=[];for(let s=0;s<e.length;s++)o.push(An(e[s],t,n,r));return o}}function Rs(e,t,n,r=!0){const o=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||Le;if(t){let l=t.parent;const a=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const u=l.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](e,a,c)===!1)return}l=l.parent}if(s){Yr(),Vi(s,null,10,[e,a,c]),Qr();return}}CE(e,n,o,r,i)}function CE(e,t,n,r=!0,o=!1){if(o)throw e;console.error(e)}const Pt=[];let Ln=-1;const ds=[];let Mr=null,es=0;const j0=Promise.resolve();let Yl=null;function Gt(e){const t=Yl||j0;return e?t.then(this?e.bind(this):e):t}function TE(e){let t=Ln+1,n=Pt.length;for(;t<n;){const r=t+n>>>1,o=Pt[r],s=pi(o);s<e||s===e&&o.flags&2?t=r+1:n=r}return t}function kf(e){if(!(e.flags&1)){const t=pi(e),n=Pt[Pt.length-1];!n||!(e.flags&2)&&t>=pi(n)?Pt.push(e):Pt.splice(TE(t),0,e),e.flags|=1,P0()}}function P0(){Yl||(Yl=j0.then(N0))}function Ju(e){he(e)?ds.push(...e):Mr&&e.id===-1?Mr.splice(es+1,0,e):e.flags&1||(ds.push(e),e.flags|=1),P0()}function Bh(e,t,n=Ln+1){for(;n<Pt.length;n++){const r=Pt[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Pt.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Ql(e){if(ds.length){const t=[...new Set(ds)].sort((n,r)=>pi(n)-pi(r));if(ds.length=0,Mr){Mr.push(...t);return}for(Mr=t,es=0;es<Mr.length;es++){const n=Mr[es];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Mr=null,es=0}}const pi=e=>e.id==null?e.flags&2?-1:1/0:e.id;function N0(e){try{for(Ln=0;Ln<Pt.length;Ln++){const t=Pt[Ln];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Vi(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ln<Pt.length;Ln++){const t=Pt[Ln];t&&(t.flags&=-2)}Ln=-1,Pt.length=0,Ql(),Yl=null,(Pt.length||ds.length)&&N0()}}let dt=null,V0=null;function Zl(e){const t=dt;return dt=e,V0=e&&e.type.__scopeId||null,t}function me(e,t=dt,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&tp(-1);const s=Zl(t);let i;try{i=e(...o)}finally{Zl(s),r._d&&tp(1)}return i};return r._n=!0,r._c=!0,r._d=!0,r}function Vo(e,t){if(dt===null)return e;const n=Tc(dt),r=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[s,i,l,a=Le]=t[o];s&&(ve(s)&&(s={mounted:s,updated:s}),s.deep&&cr(i),r.push({dir:s,instance:n,value:i,oldValue:void 0,arg:l,modifiers:a}))}return e}function $n(e,t,n,r){const o=e.dirs,s=t&&t.dirs;for(let i=0;i<o.length;i++){const l=o[i];s&&(l.oldValue=s[i].value);let a=l.dir[r];a&&(Yr(),An(a,n,8,[e.el,l,e,t]),Qr())}}const $0=Symbol("_vte"),B0=e=>e.__isTeleport,ei=e=>e&&(e.disabled||e.disabled===""),SE=e=>e&&(e.defer||e.defer===""),Hh=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Fh=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Xu=(e,t)=>{const n=e&&e.to;return Ye(n)?t?t(n):null:n},ME={name:"Teleport",__isTeleport:!0,process(e,t,n,r,o,s,i,l,a,c){const{mc:u,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:g,createComment:y}}=c,_=ei(t.props);let{shapeFlag:w,children:b,dynamicChildren:E}=t;if(e==null){const T=t.el=g(""),x=t.anchor=g("");h(T,n,r),h(x,n,r);const D=(M,O)=>{w&16&&(o&&o.isCE&&(o.ce._teleportTarget=M),u(b,M,O,o,s,i,l,a))},N=()=>{const M=t.target=Xu(t.props,p),O=H0(M,t,g,h);M&&(i!=="svg"&&Hh(M)?i="svg":i!=="mathml"&&Fh(M)&&(i="mathml"),_||(D(M,O),Tl(t,!1)))};_&&(D(n,x),Tl(t,!0)),SE(t.props)?Ht(N,s):N()}else{t.el=e.el,t.targetStart=e.targetStart;const T=t.anchor=e.anchor,x=t.target=e.target,D=t.targetAnchor=e.targetAnchor,N=ei(e.props),M=N?n:x,O=N?T:D;if(i==="svg"||Hh(x)?i="svg":(i==="mathml"||Fh(x))&&(i="mathml"),E?(f(e.dynamicChildren,E,M,o,s,i,l),Mf(e,t,!0)):a||d(e,t,M,O,o,s,i,l,!1),_)N?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):tl(t,n,T,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const $=t.target=Xu(t.props,p);$&&tl(t,$,null,c,0)}else N&&tl(t,x,D,c,1);Tl(t,_)}},remove(e,t,n,{um:r,o:{remove:o}},s){const{shapeFlag:i,children:l,anchor:a,targetStart:c,targetAnchor:u,target:d,props:f}=e;if(d&&(o(c),o(u)),s&&o(a),i&16){const h=s||!ei(f);for(let p=0;p<l.length;p++){const g=l[p];r(g,t,n,h,!!g.dynamicChildren)}}},move:tl,hydrate:AE};function tl(e,t,n,{o:{insert:r},m:o},s=2){s===0&&r(e.targetAnchor,t,n);const{el:i,anchor:l,shapeFlag:a,children:c,props:u}=e,d=s===2;if(d&&r(i,t,n),(!d||ei(u))&&a&16)for(let f=0;f<c.length;f++)o(c[f],t,n,2);d&&r(l,t,n)}function AE(e,t,n,r,o,s,{o:{nextSibling:i,parentNode:l,querySelector:a,insert:c,createText:u}},d){const f=t.target=Xu(t.props,a);if(f){const h=ei(t.props),p=f._lpa||f.firstChild;if(t.shapeFlag&16)if(h)t.anchor=d(i(e),t,l(e),n,r,o,s),t.targetStart=p,t.targetAnchor=p&&i(p);else{t.anchor=i(e);let g=p;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")t.targetStart=g;else if(g.data==="teleport anchor"){t.targetAnchor=g,f._lpa=t.targetAnchor&&i(t.targetAnchor);break}}g=i(g)}t.targetAnchor||H0(f,t,u,c),d(p&&i(p),t,f,n,r,o,s)}Tl(t,h)}return t.anchor&&i(t.anchor)}const zh=ME;function Tl(e,t){const n=e.ctx;if(n&&n.ut){let r,o;for(t?(r=e.el,o=e.anchor):(r=e.targetStart,o=e.targetAnchor);r&&r!==o;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function H0(e,t,n,r){const o=t.targetStart=n(""),s=t.targetAnchor=n("");return o[$0]=s,e&&(r(o,e),r(s,e)),s}const Ar=Symbol("_leaveCb"),nl=Symbol("_enterCb");function F0(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return St(()=>{e.isMounted=!0}),kn(()=>{e.isUnmounting=!0}),e}const an=[Function,Array],z0={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:an,onEnter:an,onAfterEnter:an,onEnterCancelled:an,onBeforeLeave:an,onLeave:an,onAfterLeave:an,onLeaveCancelled:an,onBeforeAppear:an,onAppear:an,onAfterAppear:an,onAppearCancelled:an},K0=e=>{const t=e.subTree;return t.component?K0(t.component):t},OE={name:"BaseTransition",props:z0,setup(e,{slots:t}){const n=Zr(),r=F0();return()=>{const o=t.default&&wf(t.default(),!0);if(!o||!o.length)return;const s=W0(o),i=Te(e),{mode:l}=i;if(r.isLeaving)return eu(s);const a=Kh(s);if(!a)return eu(s);let c=mi(a,i,r,n,f=>c=f);a.type!==gt&&Ro(a,c);const u=n.subTree,d=u&&Kh(u);if(d&&d.type!==gt&&!Hn(a,d)&&K0(n).type!==gt){const f=mi(d,i,r,n);if(Ro(d,f),l==="out-in"&&a.type!==gt)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave},eu(s);l==="in-out"&&a.type!==gt&&(f.delayLeave=(h,p,g)=>{const y=U0(r,d);y[String(d.key)]=d,h[Ar]=()=>{p(),h[Ar]=void 0,delete c.delayedLeave},c.delayedLeave=g})}return s}}};function W0(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==gt){t=n;break}}return t}const IE=OE;function U0(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function mi(e,t,n,r,o){const{appear:s,mode:i,persisted:l=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:y,onAppear:_,onAfterAppear:w,onAppearCancelled:b}=t,E=String(e.key),T=U0(n,e),x=(M,O)=>{M&&An(M,r,9,O)},D=(M,O)=>{const $=O[1];x(M,O),he(M)?M.every(v=>v.length<=1)&&$():M.length<=1&&$()},N={mode:i,persisted:l,beforeEnter(M){let O=a;if(!n.isMounted)if(s)O=y||a;else return;M[Ar]&&M[Ar](!0);const $=T[E];$&&Hn(e,$)&&$.el[Ar]&&$.el[Ar](),x(O,[M])},enter(M){let O=c,$=u,v=d;if(!n.isMounted)if(s)O=_||c,$=w||u,v=b||d;else return;let L=!1;const H=M[nl]=W=>{L||(L=!0,W?x(v,[M]):x($,[M]),N.delayedLeave&&N.delayedLeave(),M[nl]=void 0)};O?D(O,[M,H]):H()},leave(M,O){const $=String(e.key);if(M[nl]&&M[nl](!0),n.isUnmounting)return O();x(f,[M]);let v=!1;const L=M[Ar]=H=>{v||(v=!0,O(),H?x(g,[M]):x(p,[M]),M[Ar]=void 0,T[$]===e&&delete T[$])};T[$]=e,h?D(h,[M,L]):L()},clone(M){const O=mi(M,t,n,r,o);return o&&o(O),O}};return N}function eu(e){if($i(e))return e=qr(e),e.children=null,e}function Kh(e){if(!$i(e))return B0(e.type)&&e.children?W0(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&ve(n.default))return n.default()}}function Ro(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ro(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function wf(e,t=!1,n){let r=[],o=0;for(let s=0;s<e.length;s++){let i=e[s];const l=n==null?i.key:String(n)+String(i.key!=null?i.key:s);i.type===Xe?(i.patchFlag&128&&o++,r=r.concat(wf(i.children,t,l))):(t||i.type!==gt)&&r.push(l!=null?qr(i,{key:l}):i)}if(o>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Se(e,t){return ve(e)?ot({name:e.name},t,{setup:e}):e}function RE(){const e=Zr();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function xf(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function ea(e,t,n,r,o=!1){if(he(e)){e.forEach((p,g)=>ea(p,t&&(he(t)?t[g]:t),n,r,o));return}if(Eo(r)&&!o)return;const s=r.shapeFlag&4?Tc(r.component):r.el,i=o?null:s,{i:l,r:a}=e,c=t&&t.r,u=l.refs===Le?l.refs={}:l.refs,d=l.setupState,f=Te(d),h=d===Le?()=>!1:p=>je(f,p);if(c!=null&&c!==a&&(Ye(c)?(u[c]=null,h(c)&&(d[c]=null)):_t(c)&&(c.value=null)),ve(a))Vi(a,l,12,[i,u]);else{const p=Ye(a),g=_t(a);if(p||g){const y=()=>{if(e.f){const _=p?h(a)?d[a]:u[a]:a.value;o?he(_)&&hf(_,s):he(_)?_.includes(s)||_.push(s):p?(u[a]=[s],h(a)&&(d[a]=u[a])):(a.value=[s],e.k&&(u[e.k]=a.value))}else p?(u[a]=i,h(a)&&(d[a]=i)):g&&(a.value=i,e.k&&(u[e.k]=i))};i?(y.id=-1,Ht(y,n)):y()}}}let Wh=!1;const Go=()=>{Wh||(console.error("Hydration completed but contains mismatches."),Wh=!0)},DE=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",LE=e=>e.namespaceURI.includes("MathML"),rl=e=>{if(e.nodeType===1){if(DE(e))return"svg";if(LE(e))return"mathml"}},is=e=>e.nodeType===8;function jE(e){const{mt:t,p:n,o:{patchProp:r,createText:o,nextSibling:s,parentNode:i,remove:l,insert:a,createComment:c}}=e,u=(b,E)=>{if(!E.hasChildNodes()){n(null,b,E),Ql(),E._vnode=b;return}d(E.firstChild,b,null,null,null),Ql(),E._vnode=b},d=(b,E,T,x,D,N=!1)=>{N=N||!!E.dynamicChildren;const M=is(b)&&b.data==="[",O=()=>g(b,E,T,x,D,M),{type:$,ref:v,shapeFlag:L,patchFlag:H}=E;let W=b.nodeType;E.el=b,H===-2&&(N=!1,E.dynamicChildren=null);let P=null;switch($){case wo:W!==3?E.children===""?(a(E.el=o(""),i(b),b),P=b):P=O():(b.data!==E.children&&(Go(),b.data=E.children),P=s(b));break;case gt:w(b)?(P=s(b),_(E.el=b.content.firstChild,b,T)):W!==8||M?P=O():P=s(b);break;case Sl:if(M&&(b=s(b),W=b.nodeType),W===1||W===3){P=b;const k=!E.children.length;for(let I=0;I<E.staticCount;I++)k&&(E.children+=P.nodeType===1?P.outerHTML:P.data),I===E.staticCount-1&&(E.anchor=P),P=s(P);return M?s(P):P}else O();break;case Xe:M?P=p(b,E,T,x,D,N):P=O();break;default:if(L&1)(W!==1||E.type.toLowerCase()!==b.tagName.toLowerCase())&&!w(b)?P=O():P=f(b,E,T,x,D,N);else if(L&6){E.slotScopeIds=D;const k=i(b);if(M?P=y(b):is(b)&&b.data==="teleport start"?P=y(b,b.data,"teleport end"):P=s(b),t(E,k,null,T,x,rl(k),N),Eo(E)){let I;M?(I=te(Xe),I.anchor=P?P.previousSibling:k.lastChild):I=b.nodeType===3?It(""):te("div"),I.el=b,E.component.subTree=I}}else L&64?W!==8?P=O():P=E.type.hydrate(b,E,T,x,D,N,e,h):L&128&&(P=E.type.hydrate(b,E,T,x,rl(i(b)),D,N,e,d))}return v!=null&&ea(v,null,x,E),P},f=(b,E,T,x,D,N)=>{N=N||!!E.dynamicChildren;const{type:M,props:O,patchFlag:$,shapeFlag:v,dirs:L,transition:H}=E,W=M==="input"||M==="option";if(W||$!==-1){L&&$n(E,null,T,"created");let P=!1;if(w(b)){P=y_(null,H)&&T&&T.vnode.props&&T.vnode.props.appear;const I=b.content.firstChild;P&&H.beforeEnter(I),_(I,b,T),E.el=b=I}if(v&16&&!(O&&(O.innerHTML||O.textContent))){let I=h(b.firstChild,E,b,T,x,D,N);for(;I;){ol(b,1)||Go();const K=I;I=I.nextSibling,l(K)}}else if(v&8){let I=E.children;I[0]===`
`&&(b.tagName==="PRE"||b.tagName==="TEXTAREA")&&(I=I.slice(1)),b.textContent!==I&&(ol(b,0)||Go(),b.textContent=E.children)}if(O){if(W||!N||$&48){const I=b.tagName.includes("-");for(const K in O)(W&&(K.endsWith("value")||K==="indeterminate")||Pi(K)&&!cs(K)||K[0]==="."||I)&&r(b,K,null,O[K],void 0,T)}else if(O.onClick)r(b,"onClick",null,O.onClick,void 0,T);else if($&4&&vo(O.style))for(const I in O.style)O.style[I]}let k;(k=O&&O.onVnodeBeforeMount)&&dn(k,T,E),L&&$n(E,null,T,"beforeMount"),((k=O&&O.onVnodeMounted)||L||P)&&C_(()=>{k&&dn(k,T,E),P&&H.enter(b),L&&$n(E,null,T,"mounted")},x)}return b.nextSibling},h=(b,E,T,x,D,N,M)=>{M=M||!!E.dynamicChildren;const O=E.children,$=O.length;for(let v=0;v<$;v++){const L=M?O[v]:O[v]=rn(O[v]),H=L.type===wo;b?(H&&!M&&v+1<$&&rn(O[v+1]).type===wo&&(a(o(b.data.slice(L.children.length)),T,s(b)),b.data=L.children),b=d(b,L,x,D,N,M)):H&&!L.children?a(L.el=o(""),T):(ol(T,1)||Go(),n(null,L,T,null,x,D,rl(T),N))}return b},p=(b,E,T,x,D,N)=>{const{slotScopeIds:M}=E;M&&(D=D?D.concat(M):M);const O=i(b),$=h(s(b),E,O,T,x,D,N);return $&&is($)&&$.data==="]"?s(E.anchor=$):(Go(),a(E.anchor=c("]"),O,$),$)},g=(b,E,T,x,D,N)=>{if(ol(b.parentElement,1)||Go(),E.el=null,N){const $=y(b);for(;;){const v=s(b);if(v&&v!==$)l(v);else break}}const M=s(b),O=i(b);return l(b),n(null,E,O,M,T,x,rl(O),D),M},y=(b,E="[",T="]")=>{let x=0;for(;b;)if(b=s(b),b&&is(b)&&(b.data===E&&x++,b.data===T)){if(x===0)return s(b);x--}return b},_=(b,E,T)=>{const x=E.parentNode;x&&x.replaceChild(b,E);let D=T;for(;D;)D.vnode.el===E&&(D.vnode.el=D.subTree.el=b),D=D.parent},w=b=>b.nodeType===1&&b.tagName==="TEMPLATE";return[u,d]}const Uh="data-allow-mismatch",PE={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function ol(e,t){if(t===0||t===1)for(;e&&!e.hasAttribute(Uh);)e=e.parentElement;const n=e&&e.getAttribute(Uh);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return t===0&&r.includes("children")?!0:n.split(",").includes(PE[t])}}Ec().requestIdleCallback;Ec().cancelIdleCallback;function NE(e,t){if(is(e)&&e.data==="["){let n=1,r=e.nextSibling;for(;r;){if(r.nodeType===1){if(t(r)===!1)break}else if(is(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else t(e)}const Eo=e=>!!e.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function Je(e){ve(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:r,delay:o=200,hydrate:s,timeout:i,suspensible:l=!0,onError:a}=e;let c=null,u,d=0;const f=()=>(d++,c=null,h()),h=()=>{let p;return c||(p=c=t().catch(g=>{if(g=g instanceof Error?g:new Error(String(g)),a)return new Promise((y,_)=>{a(g,()=>y(f()),()=>_(g),d+1)});throw g}).then(g=>p!==c&&c?c:(g&&(g.__esModule||g[Symbol.toStringTag]==="Module")&&(g=g.default),u=g,g)))};return Se({name:"AsyncComponentWrapper",__asyncLoader:h,__asyncHydrate(p,g,y){const _=s?()=>{const w=s(y,b=>NE(p,b));w&&(g.bum||(g.bum=[])).push(w)}:y;u?_():h().then(()=>!g.isUnmounted&&_())},get __asyncResolved(){return u},setup(){const p=ut;if(xf(p),u)return()=>tu(u,p);const g=b=>{c=null,Rs(b,p,13,!r)};if(l&&p.suspense||bs)return h().then(b=>()=>tu(b,p)).catch(b=>(g(b),()=>r?te(r,{error:b}):null));const y=Q(!1),_=Q(),w=Q(!!o);return o&&setTimeout(()=>{w.value=!1},o),i!=null&&setTimeout(()=>{if(!y.value&&!_.value){const b=new Error(`Async component timed out after ${i}ms.`);g(b),_.value=b}},i),h().then(()=>{y.value=!0,p.parent&&$i(p.parent.vnode)&&p.parent.update()}).catch(b=>{g(b),_.value=b}),()=>{if(y.value&&u)return tu(u,p);if(_.value&&r)return te(r,{error:_.value});if(n&&!w.value)return te(n)}}})}function tu(e,t){const{ref:n,props:r,children:o,ce:s}=t.vnode,i=te(e,r,o);return i.ref=n,i.ce=s,delete t.vnode.ce,i}const $i=e=>e.type.__isKeepAlive;function q0(e,t){J0(e,"a",t)}function G0(e,t){J0(e,"da",t)}function J0(e,t,n=ut){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(xc(t,r,n),n){let o=n.parent;for(;o&&o.parent;)$i(o.parent.vnode)&&VE(r,t,n,o),o=o.parent}}function VE(e,t,n,r){const o=xc(t,e,r,!0);Cf(()=>{hf(r[t],o)},n)}function xc(e,t,n=ut,r=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...i)=>{Yr();const l=Hi(n),a=An(t,n,e,i);return l(),Qr(),a});return r?o.unshift(s):o.push(s),s}}const yr=e=>(t,n=ut)=>{(!bs||e==="sp")&&xc(e,(...r)=>t(...r),n)},$E=yr("bm"),St=yr("m"),BE=yr("bu"),X0=yr("u"),kn=yr("bum"),Cf=yr("um"),HE=yr("sp"),FE=yr("rtg"),zE=yr("rtc");function Y0(e,t=ut){xc("ec",e,t)}const Q0="components";function Z0(e,t){return t_(Q0,e,!0,t)||e}const e_=Symbol.for("v-ndc");function $o(e){return Ye(e)?t_(Q0,e,!1)||e:e||e_}function t_(e,t,n=!0,r=!1){const o=dt||ut;if(o){const s=o.type;{const l=Ik(s,!1);if(l&&(l===t||l===on(t)||l===vc(on(t))))return s}const i=qh(o[e]||s[e],t)||qh(o.appContext[e],t);return!i&&r?s:i}}function qh(e,t){return e&&(e[t]||e[on(t)]||e[vc(on(t))])}function gi(e,t,n,r){let o;const s=n,i=he(e);if(i||Ye(e)){const l=i&&vo(e);let a=!1;l&&(a=!gn(e),e=wc(e)),o=new Array(e.length);for(let c=0,u=e.length;c<u;c++)o[c]=t(a?Ot(e[c]):e[c],c,void 0,s)}else if(typeof e=="number"){o=new Array(e);for(let l=0;l<e;l++)o[l]=t(l+1,l,void 0,s)}else if(Fe(e))if(e[Symbol.iterator])o=Array.from(e,(l,a)=>t(l,a,void 0,s));else{const l=Object.keys(e);o=new Array(l.length);for(let a=0,c=l.length;a<c;a++){const u=l[a];o[a]=t(e[u],u,a,s)}}else o=[];return o}function KE(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(he(r))for(let o=0;o<r.length;o++)e[r[o].name]=r[o].fn;else r&&(e[r.name]=r.key?(...o)=>{const s=r.fn(...o);return s&&(s.key=r.key),s}:r.fn)}return e}function ct(e,t,n={},r,o){if(dt.ce||dt.parent&&Eo(dt.parent)&&dt.parent.ce)return t!=="default"&&(n.name=t),z(),ke(Xe,null,[te("slot",n,r&&r())],64);let s=e[t];s&&s._c&&(s._d=!1),z();const i=s&&n_(s(n)),l=n.key||i&&i.key,a=ke(Xe,{key:(l&&!Mn(l)?l:`_${t}`)+(!i&&r?"_fb":"")},i||(r?r():[]),i&&e._===1?64:-2);return!o&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function n_(e){return e.some(t=>ys(t)?!(t.type===gt||t.type===Xe&&!n_(t.children)):!0)?e:null}const Yu=e=>e?A_(e)?Tc(e):Yu(e.parent):null,ti=ot(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Yu(e.parent),$root:e=>Yu(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Tf(e),$forceUpdate:e=>e.f||(e.f=()=>{kf(e.update)}),$nextTick:e=>e.n||(e.n=Gt.bind(e.proxy)),$watch:e=>dk.bind(e)}),nu=(e,t)=>e!==Le&&!e.__isScriptSetup&&je(e,t),WE={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:o,props:s,accessCache:i,type:l,appContext:a}=e;let c;if(t[0]!=="$"){const h=i[t];if(h!==void 0)switch(h){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(nu(r,t))return i[t]=1,r[t];if(o!==Le&&je(o,t))return i[t]=2,o[t];if((c=e.propsOptions[0])&&je(c,t))return i[t]=3,s[t];if(n!==Le&&je(n,t))return i[t]=4,n[t];Qu&&(i[t]=0)}}const u=ti[t];let d,f;if(u)return t==="$attrs"&&At(e.attrs,"get",""),u(e);if((d=l.__cssModules)&&(d=d[t]))return d;if(n!==Le&&je(n,t))return i[t]=4,n[t];if(f=a.config.globalProperties,je(f,t))return f[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:s}=e;return nu(o,t)?(o[t]=n,!0):r!==Le&&je(r,t)?(r[t]=n,!0):je(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:s}},i){let l;return!!n[i]||e!==Le&&je(e,i)||nu(t,i)||(l=s[0])&&je(l,i)||je(r,i)||je(ti,i)||je(o.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:je(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function r_(){return o_().slots}function br(){return o_().attrs}function o_(){const e=Zr();return e.setupContext||(e.setupContext=I_(e))}function _i(e){return he(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function Bo(e,t){const n=_i(e);for(const r in t){if(r.startsWith("__skip"))continue;let o=n[r];o?he(o)||ve(o)?o=n[r]={type:o,default:t[r]}:o.default=t[r]:o===null&&(o=n[r]={default:t[r]}),o&&t[`__skip_${r}`]&&(o.skipFactory=!0)}return n}function En(e,t){return!e||!t?e||t:he(e)&&he(t)?e.concat(t):ot({},_i(e),_i(t))}let Qu=!0;function UE(e){const t=Tf(e),n=e.proxy,r=e.ctx;Qu=!1,t.beforeCreate&&Gh(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:i,watch:l,provide:a,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:g,deactivated:y,beforeDestroy:_,beforeUnmount:w,destroyed:b,unmounted:E,render:T,renderTracked:x,renderTriggered:D,errorCaptured:N,serverPrefetch:M,expose:O,inheritAttrs:$,components:v,directives:L,filters:H}=t;if(c&&qE(c,r,null),i)for(const k in i){const I=i[k];ve(I)&&(r[k]=I.bind(n))}if(o){const k=o.call(n,n);Fe(k)&&(e.data=vn(k))}if(Qu=!0,s)for(const k in s){const I=s[k],K=ve(I)?I.bind(n,n):ve(I.get)?I.get.bind(n,n):Kn,Z=!ve(I)&&ve(I.set)?I.set.bind(n):Kn,ie=Ee({get:K,set:Z});Object.defineProperty(r,k,{enumerable:!0,configurable:!0,get:()=>ie.value,set:pe=>ie.value=pe})}if(l)for(const k in l)s_(l[k],r,n,k);if(a){const k=ve(a)?a.call(n):a;Reflect.ownKeys(k).forEach(I=>{tt(I,k[I])})}u&&Gh(u,e,"c");function P(k,I){he(I)?I.forEach(K=>k(K.bind(n))):I&&k(I.bind(n))}if(P($E,d),P(St,f),P(BE,h),P(X0,p),P(q0,g),P(G0,y),P(Y0,N),P(zE,x),P(FE,D),P(kn,w),P(Cf,E),P(HE,M),he(O))if(O.length){const k=e.exposed||(e.exposed={});O.forEach(I=>{Object.defineProperty(k,I,{get:()=>n[I],set:K=>n[I]=K})})}else e.exposed||(e.exposed={});T&&e.render===Kn&&(e.render=T),$!=null&&(e.inheritAttrs=$),v&&(e.components=v),L&&(e.directives=L),M&&xf(e)}function qE(e,t,n=Kn){he(e)&&(e=Zu(e));for(const r in e){const o=e[r];let s;Fe(o)?"default"in o?s=Ne(o.from||r,o.default,!0):s=Ne(o.from||r):s=Ne(o),_t(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:i=>s.value=i}):t[r]=s}}function Gh(e,t,n){An(he(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function s_(e,t,n,r){let o=r.includes(".")?v_(n,r):()=>n[r];if(Ye(e)){const s=t[e];ve(s)&&ze(o,s)}else if(ve(e))ze(o,e.bind(n));else if(Fe(e))if(he(e))e.forEach(s=>s_(s,t,n,r));else{const s=ve(e.handler)?e.handler.bind(n):t[e.handler];ve(s)&&ze(o,s,e)}}function Tf(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:i}}=e.appContext,l=s.get(t);let a;return l?a=l:!o.length&&!n&&!r?a=t:(a={},o.length&&o.forEach(c=>ta(a,c,i,!0)),ta(a,t,i)),Fe(t)&&s.set(t,a),a}function ta(e,t,n,r=!1){const{mixins:o,extends:s}=t;s&&ta(e,s,n,!0),o&&o.forEach(i=>ta(e,i,n,!0));for(const i in t)if(!(r&&i==="expose")){const l=GE[i]||n&&n[i];e[i]=l?l(e[i],t[i]):t[i]}return e}const GE={data:Jh,props:Xh,emits:Xh,methods:Ws,computed:Ws,beforeCreate:jt,created:jt,beforeMount:jt,mounted:jt,beforeUpdate:jt,updated:jt,beforeDestroy:jt,beforeUnmount:jt,destroyed:jt,unmounted:jt,activated:jt,deactivated:jt,errorCaptured:jt,serverPrefetch:jt,components:Ws,directives:Ws,watch:XE,provide:Jh,inject:JE};function Jh(e,t){return t?e?function(){return ot(ve(e)?e.call(this,this):e,ve(t)?t.call(this,this):t)}:t:e}function JE(e,t){return Ws(Zu(e),Zu(t))}function Zu(e){if(he(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function jt(e,t){return e?[...new Set([].concat(e,t))]:t}function Ws(e,t){return e?ot(Object.create(null),e,t):t}function Xh(e,t){return e?he(e)&&he(t)?[...new Set([...e,...t])]:ot(Object.create(null),_i(e),_i(t??{})):t}function XE(e,t){if(!e)return t;if(!t)return e;const n=ot(Object.create(null),e);for(const r in t)n[r]=jt(e[r],t[r]);return n}function i_(){return{app:null,config:{isNativeTag:N1,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let YE=0;function QE(e,t){return function(r,o=null){ve(r)||(r=ot({},r)),o!=null&&!Fe(o)&&(o=null);const s=i_(),i=new WeakSet,l=[];let a=!1;const c=s.app={_uid:YE++,_component:r,_props:o,_container:null,_context:s,_instance:null,version:R_,get config(){return s.config},set config(u){},use(u,...d){return i.has(u)||(u&&ve(u.install)?(i.add(u),u.install(c,...d)):ve(u)&&(i.add(u),u(c,...d))),c},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),c},component(u,d){return d?(s.components[u]=d,c):s.components[u]},directive(u,d){return d?(s.directives[u]=d,c):s.directives[u]},mount(u,d,f){if(!a){const h=c._ceVNode||te(r,o);return h.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),d&&t?t(h,u):e(h,u,f),a=!0,c._container=u,u.__vue_app__=c,Tc(h.component)}},onUnmount(u){l.push(u)},unmount(){a&&(An(l,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,d){return s.provides[u]=d,c},runWithContext(u){const d=ko;ko=c;try{return u()}finally{ko=d}}};return c}}let ko=null;function tt(e,t){if(ut){let n=ut.provides;const r=ut.parent&&ut.parent.provides;r===n&&(n=ut.provides=Object.create(r)),n[e]=t}}function Ne(e,t,n=!1){const r=ut||dt;if(r||ko){const o=ko?ko._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return n&&ve(t)?t.call(r&&r.proxy):t}}function l_(){return!!(ut||dt||ko)}const a_={},c_=()=>Object.create(a_),u_=e=>Object.getPrototypeOf(e)===a_;function ZE(e,t,n,r=!1){const o={},s=c_();e.propsDefaults=Object.create(null),d_(e,t,o,s);for(const i in e.propsOptions[0])i in o||(o[i]=void 0);n?e.props=r?o:ss(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function ek(e,t,n,r){const{props:o,attrs:s,vnode:{patchFlag:i}}=e,l=Te(o),[a]=e.propsOptions;let c=!1;if((r||i>0)&&!(i&16)){if(i&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(Cc(e.emitsOptions,f))continue;const h=t[f];if(a)if(je(s,f))h!==s[f]&&(s[f]=h,c=!0);else{const p=on(f);o[p]=ed(a,l,p,h,e,!1)}else h!==s[f]&&(s[f]=h,c=!0)}}}else{d_(e,t,o,s)&&(c=!0);let u;for(const d in l)(!t||!je(t,d)&&((u=_r(d))===d||!je(t,u)))&&(a?n&&(n[d]!==void 0||n[u]!==void 0)&&(o[d]=ed(a,l,d,void 0,e,!0)):delete o[d]);if(s!==l)for(const d in s)(!t||!je(t,d))&&(delete s[d],c=!0)}c&&ar(e.attrs,"set","")}function d_(e,t,n,r){const[o,s]=e.propsOptions;let i=!1,l;if(t)for(let a in t){if(cs(a))continue;const c=t[a];let u;o&&je(o,u=on(a))?!s||!s.includes(u)?n[u]=c:(l||(l={}))[u]=c:Cc(e.emitsOptions,a)||(!(a in r)||c!==r[a])&&(r[a]=c,i=!0)}if(s){const a=Te(n),c=l||Le;for(let u=0;u<s.length;u++){const d=s[u];n[d]=ed(o,a,d,c[d],e,!je(c,d))}}return i}function ed(e,t,n,r,o,s){const i=e[n];if(i!=null){const l=je(i,"default");if(l&&r===void 0){const a=i.default;if(i.type!==Function&&!i.skipFactory&&ve(a)){const{propsDefaults:c}=o;if(n in c)r=c[n];else{const u=Hi(o);r=c[n]=a.call(null,t),u()}}else r=a;o.ce&&o.ce._setProp(n,r)}i[0]&&(s&&!l?r=!1:i[1]&&(r===""||r===_r(n))&&(r=!0))}return r}const tk=new WeakMap;function f_(e,t,n=!1){const r=n?tk:t.propsCache,o=r.get(e);if(o)return o;const s=e.props,i={},l=[];let a=!1;if(!ve(e)){const u=d=>{a=!0;const[f,h]=f_(d,t,!0);ot(i,f),h&&l.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!s&&!a)return Fe(e)&&r.set(e,ls),ls;if(he(s))for(let u=0;u<s.length;u++){const d=on(s[u]);Yh(d)&&(i[d]=Le)}else if(s)for(const u in s){const d=on(u);if(Yh(d)){const f=s[u],h=i[d]=he(f)||ve(f)?{type:f}:ot({},f),p=h.type;let g=!1,y=!0;if(he(p))for(let _=0;_<p.length;++_){const w=p[_],b=ve(w)&&w.name;if(b==="Boolean"){g=!0;break}else b==="String"&&(y=!1)}else g=ve(p)&&p.name==="Boolean";h[0]=g,h[1]=y,(g||je(h,"default"))&&l.push(d)}}const c=[i,l];return Fe(e)&&r.set(e,c),c}function Yh(e){return e[0]!=="$"&&!cs(e)}const h_=e=>e[0]==="_"||e==="$stable",Sf=e=>he(e)?e.map(rn):[rn(e)],nk=(e,t,n)=>{if(t._n)return t;const r=me((...o)=>Sf(t(...o)),n);return r._c=!1,r},p_=(e,t,n)=>{const r=e._ctx;for(const o in e){if(h_(o))continue;const s=e[o];if(ve(s))t[o]=nk(o,s,r);else if(s!=null){const i=Sf(s);t[o]=()=>i}}},m_=(e,t)=>{const n=Sf(t);e.slots.default=()=>n},g_=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},rk=(e,t,n)=>{const r=e.slots=c_();if(e.vnode.shapeFlag&32){const o=t._;o?(g_(r,t,n),n&&u0(r,"_",o,!0)):p_(t,r)}else t&&m_(e,t)},ok=(e,t,n)=>{const{vnode:r,slots:o}=e;let s=!0,i=Le;if(r.shapeFlag&32){const l=t._;l?n&&l===1?s=!1:g_(o,t,n):(s=!t.$stable,p_(t,o)),i=t}else t&&(m_(e,t),i={default:1});if(s)for(const l in o)!h_(l)&&i[l]==null&&delete o[l]},Ht=C_;function sk(e){return __(e)}function ik(e){return __(e,jE)}function __(e,t){const n=Ec();n.__VUE__=!0;const{insert:r,remove:o,patchProp:s,createElement:i,createText:l,createComment:a,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=Kn,insertStaticContent:p}=e,g=(C,A,F,q=null,X=null,Y=null,j=void 0,re=null,U=!!A.dynamicChildren)=>{if(C===A)return;C&&!Hn(C,A)&&(q=ln(C),pe(C,X,Y,!0),C=null),A.patchFlag===-2&&(U=!1,A.dynamicChildren=null);const{type:V,ref:fe,shapeFlag:ne}=A;switch(V){case wo:y(C,A,F,q);break;case gt:_(C,A,F,q);break;case Sl:C==null&&w(A,F,q,j);break;case Xe:v(C,A,F,q,X,Y,j,re,U);break;default:ne&1?T(C,A,F,q,X,Y,j,re,U):ne&6?L(C,A,F,q,X,Y,j,re,U):(ne&64||ne&128)&&V.process(C,A,F,q,X,Y,j,re,U,Zt)}fe!=null&&X&&ea(fe,C&&C.ref,Y,A||C,!A)},y=(C,A,F,q)=>{if(C==null)r(A.el=l(A.children),F,q);else{const X=A.el=C.el;A.children!==C.children&&c(X,A.children)}},_=(C,A,F,q)=>{C==null?r(A.el=a(A.children||""),F,q):A.el=C.el},w=(C,A,F,q)=>{[C.el,C.anchor]=p(C.children,A,F,q,C.el,C.anchor)},b=({el:C,anchor:A},F,q)=>{let X;for(;C&&C!==A;)X=f(C),r(C,F,q),C=X;r(A,F,q)},E=({el:C,anchor:A})=>{let F;for(;C&&C!==A;)F=f(C),o(C),C=F;o(A)},T=(C,A,F,q,X,Y,j,re,U)=>{A.type==="svg"?j="svg":A.type==="math"&&(j="mathml"),C==null?x(A,F,q,X,Y,j,re,U):M(C,A,X,Y,j,re,U)},x=(C,A,F,q,X,Y,j,re)=>{let U,V;const{props:fe,shapeFlag:ne,transition:ue,dirs:_e}=C;if(U=C.el=i(C.type,Y,fe&&fe.is,fe),ne&8?u(U,C.children):ne&16&&N(C.children,U,null,q,X,ru(C,Y),j,re),_e&&$n(C,null,q,"created"),D(U,C,C.scopeId,j,q),fe){for(const B in fe)B!=="value"&&!cs(B)&&s(U,B,null,fe[B],Y,q);"value"in fe&&s(U,"value",null,fe.value,Y),(V=fe.onVnodeBeforeMount)&&dn(V,q,C)}_e&&$n(C,null,q,"beforeMount");const R=y_(X,ue);R&&ue.beforeEnter(U),r(U,A,F),((V=fe&&fe.onVnodeMounted)||R||_e)&&Ht(()=>{V&&dn(V,q,C),R&&ue.enter(U),_e&&$n(C,null,q,"mounted")},X)},D=(C,A,F,q,X)=>{if(F&&h(C,F),q)for(let Y=0;Y<q.length;Y++)h(C,q[Y]);if(X){let Y=X.subTree;if(A===Y||w_(Y.type)&&(Y.ssContent===A||Y.ssFallback===A)){const j=X.vnode;D(C,j,j.scopeId,j.slotScopeIds,X.parent)}}},N=(C,A,F,q,X,Y,j,re,U=0)=>{for(let V=U;V<C.length;V++){const fe=C[V]=re?Or(C[V]):rn(C[V]);g(null,fe,A,F,q,X,Y,j,re)}},M=(C,A,F,q,X,Y,j)=>{const re=A.el=C.el;let{patchFlag:U,dynamicChildren:V,dirs:fe}=A;U|=C.patchFlag&16;const ne=C.props||Le,ue=A.props||Le;let _e;if(F&&oo(F,!1),(_e=ue.onVnodeBeforeUpdate)&&dn(_e,F,A,C),fe&&$n(A,C,F,"beforeUpdate"),F&&oo(F,!0),(ne.innerHTML&&ue.innerHTML==null||ne.textContent&&ue.textContent==null)&&u(re,""),V?O(C.dynamicChildren,V,re,F,q,ru(A,X),Y):j||I(C,A,re,null,F,q,ru(A,X),Y,!1),U>0){if(U&16)$(re,ne,ue,F,X);else if(U&2&&ne.class!==ue.class&&s(re,"class",null,ue.class,X),U&4&&s(re,"style",ne.style,ue.style,X),U&8){const R=A.dynamicProps;for(let B=0;B<R.length;B++){const J=R[B],ae=ne[J],be=ue[J];(be!==ae||J==="value")&&s(re,J,ae,be,X,F)}}U&1&&C.children!==A.children&&u(re,A.children)}else!j&&V==null&&$(re,ne,ue,F,X);((_e=ue.onVnodeUpdated)||fe)&&Ht(()=>{_e&&dn(_e,F,A,C),fe&&$n(A,C,F,"updated")},q)},O=(C,A,F,q,X,Y,j)=>{for(let re=0;re<A.length;re++){const U=C[re],V=A[re],fe=U.el&&(U.type===Xe||!Hn(U,V)||U.shapeFlag&70)?d(U.el):F;g(U,V,fe,null,q,X,Y,j,!0)}},$=(C,A,F,q,X)=>{if(A!==F){if(A!==Le)for(const Y in A)!cs(Y)&&!(Y in F)&&s(C,Y,A[Y],null,X,q);for(const Y in F){if(cs(Y))continue;const j=F[Y],re=A[Y];j!==re&&Y!=="value"&&s(C,Y,re,j,X,q)}"value"in F&&s(C,"value",A.value,F.value,X)}},v=(C,A,F,q,X,Y,j,re,U)=>{const V=A.el=C?C.el:l(""),fe=A.anchor=C?C.anchor:l("");let{patchFlag:ne,dynamicChildren:ue,slotScopeIds:_e}=A;_e&&(re=re?re.concat(_e):_e),C==null?(r(V,F,q),r(fe,F,q),N(A.children||[],F,fe,X,Y,j,re,U)):ne>0&&ne&64&&ue&&C.dynamicChildren?(O(C.dynamicChildren,ue,F,X,Y,j,re),(A.key!=null||X&&A===X.subTree)&&Mf(C,A,!0)):I(C,A,F,fe,X,Y,j,re,U)},L=(C,A,F,q,X,Y,j,re,U)=>{A.slotScopeIds=re,C==null?A.shapeFlag&512?X.ctx.activate(A,F,q,j,U):H(A,F,q,X,Y,j,U):W(C,A,U)},H=(C,A,F,q,X,Y,j)=>{const re=C.component=Sk(C,q,X);if($i(C)&&(re.ctx.renderer=Zt),Mk(re,!1,j),re.asyncDep){if(X&&X.registerDep(re,P,j),!C.el){const U=re.subTree=te(gt);_(null,U,A,F)}}else P(re,C,A,F,X,Y,j)},W=(C,A,F)=>{const q=A.component=C.component;if(gk(C,A,F))if(q.asyncDep&&!q.asyncResolved){k(q,A,F);return}else q.next=A,q.update();else A.el=C.el,q.vnode=A},P=(C,A,F,q,X,Y,j)=>{const re=()=>{if(C.isMounted){let{next:ne,bu:ue,u:_e,parent:R,vnode:B}=C;{const Et=b_(C);if(Et){ne&&(ne.el=B.el,k(C,ne,j)),Et.asyncDep.then(()=>{C.isUnmounted||re()});return}}let J=ne,ae;oo(C,!1),ne?(ne.el=B.el,k(C,ne,j)):ne=B,ue&&Cl(ue),(ae=ne.props&&ne.props.onVnodeBeforeUpdate)&&dn(ae,R,ne,B),oo(C,!0);const be=ou(C),De=C.subTree;C.subTree=be,g(De,be,d(De.el),ln(De),C,X,Y),ne.el=be.el,J===null&&Of(C,be.el),_e&&Ht(_e,X),(ae=ne.props&&ne.props.onVnodeUpdated)&&Ht(()=>dn(ae,R,ne,B),X)}else{let ne;const{el:ue,props:_e}=A,{bm:R,m:B,parent:J,root:ae,type:be}=C,De=Eo(A);if(oo(C,!1),R&&Cl(R),!De&&(ne=_e&&_e.onVnodeBeforeMount)&&dn(ne,J,A),oo(C,!0),ue&&Yn){const Et=()=>{C.subTree=ou(C),Yn(ue,C.subTree,C,X,null)};De&&be.__asyncHydrate?be.__asyncHydrate(ue,C,Et):Et()}else{ae.ce&&ae.ce._injectChildStyle(be);const Et=C.subTree=ou(C);g(null,Et,F,q,C,X,Y),A.el=Et.el}if(B&&Ht(B,X),!De&&(ne=_e&&_e.onVnodeMounted)){const Et=A;Ht(()=>dn(ne,J,Et),X)}(A.shapeFlag&256||J&&Eo(J.vnode)&&J.vnode.shapeFlag&256)&&C.a&&Ht(C.a,X),C.isMounted=!0,A=F=q=null}};C.scope.on();const U=C.effect=new _0(re);C.scope.off();const V=C.update=U.run.bind(U),fe=C.job=U.runIfDirty.bind(U);fe.i=C,fe.id=C.uid,U.scheduler=()=>kf(fe),oo(C,!0),V()},k=(C,A,F)=>{A.component=C;const q=C.vnode.props;C.vnode=A,C.next=null,ek(C,A.props,q,F),ok(C,A.children,F),Yr(),Bh(C),Qr()},I=(C,A,F,q,X,Y,j,re,U=!1)=>{const V=C&&C.children,fe=C?C.shapeFlag:0,ne=A.children,{patchFlag:ue,shapeFlag:_e}=A;if(ue>0){if(ue&128){Z(V,ne,F,q,X,Y,j,re,U);return}else if(ue&256){K(V,ne,F,q,X,Y,j,re,U);return}}_e&8?(fe&16&&Be(V,X,Y),ne!==V&&u(F,ne)):fe&16?_e&16?Z(V,ne,F,q,X,Y,j,re,U):Be(V,X,Y,!0):(fe&8&&u(F,""),_e&16&&N(ne,F,q,X,Y,j,re,U))},K=(C,A,F,q,X,Y,j,re,U)=>{C=C||ls,A=A||ls;const V=C.length,fe=A.length,ne=Math.min(V,fe);let ue;for(ue=0;ue<ne;ue++){const _e=A[ue]=U?Or(A[ue]):rn(A[ue]);g(C[ue],_e,F,null,X,Y,j,re,U)}V>fe?Be(C,X,Y,!0,!1,ne):N(A,F,q,X,Y,j,re,U,ne)},Z=(C,A,F,q,X,Y,j,re,U)=>{let V=0;const fe=A.length;let ne=C.length-1,ue=fe-1;for(;V<=ne&&V<=ue;){const _e=C[V],R=A[V]=U?Or(A[V]):rn(A[V]);if(Hn(_e,R))g(_e,R,F,null,X,Y,j,re,U);else break;V++}for(;V<=ne&&V<=ue;){const _e=C[ne],R=A[ue]=U?Or(A[ue]):rn(A[ue]);if(Hn(_e,R))g(_e,R,F,null,X,Y,j,re,U);else break;ne--,ue--}if(V>ne){if(V<=ue){const _e=ue+1,R=_e<fe?A[_e].el:q;for(;V<=ue;)g(null,A[V]=U?Or(A[V]):rn(A[V]),F,R,X,Y,j,re,U),V++}}else if(V>ue)for(;V<=ne;)pe(C[V],X,Y,!0),V++;else{const _e=V,R=V,B=new Map;for(V=R;V<=ue;V++){const en=A[V]=U?Or(A[V]):rn(A[V]);en.key!=null&&B.set(en.key,V)}let J,ae=0;const be=ue-R+1;let De=!1,Et=0;const Qn=new Array(be);for(V=0;V<be;V++)Qn[V]=0;for(V=_e;V<=ne;V++){const en=C[V];if(ae>=be){pe(en,X,Y,!0);continue}let Dn;if(en.key!=null)Dn=B.get(en.key);else for(J=R;J<=ue;J++)if(Qn[J-R]===0&&Hn(en,A[J])){Dn=J;break}Dn===void 0?pe(en,X,Y,!0):(Qn[Dn-R]=V+1,Dn>=Et?Et=Dn:De=!0,g(en,A[Dn],F,null,X,Y,j,re,U),ae++)}const Lh=De?lk(Qn):ls;for(J=Lh.length-1,V=be-1;V>=0;V--){const en=R+V,Dn=A[en],jh=en+1<fe?A[en+1].el:q;Qn[V]===0?g(null,Dn,F,jh,X,Y,j,re,U):De&&(J<0||V!==Lh[J]?ie(Dn,F,jh,2):J--)}}},ie=(C,A,F,q,X=null)=>{const{el:Y,type:j,transition:re,children:U,shapeFlag:V}=C;if(V&6){ie(C.component.subTree,A,F,q);return}if(V&128){C.suspense.move(A,F,q);return}if(V&64){j.move(C,A,F,Zt);return}if(j===Xe){r(Y,A,F);for(let ne=0;ne<U.length;ne++)ie(U[ne],A,F,q);r(C.anchor,A,F);return}if(j===Sl){b(C,A,F);return}if(q!==2&&V&1&&re)if(q===0)re.beforeEnter(Y),r(Y,A,F),Ht(()=>re.enter(Y),X);else{const{leave:ne,delayLeave:ue,afterLeave:_e}=re,R=()=>r(Y,A,F),B=()=>{ne(Y,()=>{R(),_e&&_e()})};ue?ue(Y,R,B):B()}else r(Y,A,F)},pe=(C,A,F,q=!1,X=!1)=>{const{type:Y,props:j,ref:re,children:U,dynamicChildren:V,shapeFlag:fe,patchFlag:ne,dirs:ue,cacheIndex:_e}=C;if(ne===-2&&(X=!1),re!=null&&ea(re,null,F,C,!0),_e!=null&&(A.renderCache[_e]=void 0),fe&256){A.ctx.deactivate(C);return}const R=fe&1&&ue,B=!Eo(C);let J;if(B&&(J=j&&j.onVnodeBeforeUnmount)&&dn(J,A,C),fe&6)Ie(C.component,F,q);else{if(fe&128){C.suspense.unmount(F,q);return}R&&$n(C,null,A,"beforeUnmount"),fe&64?C.type.remove(C,A,F,Zt,q):V&&!V.hasOnce&&(Y!==Xe||ne>0&&ne&64)?Be(V,A,F,!1,!0):(Y===Xe&&ne&384||!X&&fe&16)&&Be(U,A,F),q&&Qe(C)}(B&&(J=j&&j.onVnodeUnmounted)||R)&&Ht(()=>{J&&dn(J,A,C),R&&$n(C,null,A,"unmounted")},F)},Qe=C=>{const{type:A,el:F,anchor:q,transition:X}=C;if(A===Xe){Yt(F,q);return}if(A===Sl){E(C);return}const Y=()=>{o(F),X&&!X.persisted&&X.afterLeave&&X.afterLeave()};if(C.shapeFlag&1&&X&&!X.persisted){const{leave:j,delayLeave:re}=X,U=()=>j(F,Y);re?re(C.el,Y,U):U()}else Y()},Yt=(C,A)=>{let F;for(;C!==A;)F=f(C),o(C),C=F;o(A)},Ie=(C,A,F)=>{const{bum:q,scope:X,job:Y,subTree:j,um:re,m:U,a:V}=C;Qh(U),Qh(V),q&&Cl(q),X.stop(),Y&&(Y.flags|=8,pe(j,C,A,F)),re&&Ht(re,A),Ht(()=>{C.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&C.asyncDep&&!C.asyncResolved&&C.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},Be=(C,A,F,q=!1,X=!1,Y=0)=>{for(let j=Y;j<C.length;j++)pe(C[j],A,F,q,X)},ln=C=>{if(C.shapeFlag&6)return ln(C.component.subTree);if(C.shapeFlag&128)return C.suspense.next();const A=f(C.anchor||C.el),F=A&&A[$0];return F?f(F):A};let Qt=!1;const pt=(C,A,F)=>{C==null?A._vnode&&pe(A._vnode,null,null,!0):g(A._vnode||null,C,A,null,null,null,F),A._vnode=C,Qt||(Qt=!0,Bh(),Ql(),Qt=!1)},Zt={p:g,um:pe,m:ie,r:Qe,mt:H,mc:N,pc:I,pbc:O,n:ln,o:e};let Rn,Yn;return t&&([Rn,Yn]=t(Zt)),{render:pt,hydrate:Rn,createApp:QE(pt,Rn)}}function ru({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function oo({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function y_(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Mf(e,t,n=!1){const r=e.children,o=t.children;if(he(r)&&he(o))for(let s=0;s<r.length;s++){const i=r[s];let l=o[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[s]=Or(o[s]),l.el=i.el),!n&&l.patchFlag!==-2&&Mf(i,l)),l.type===wo&&(l.el=i.el)}}function lk(e){const t=e.slice(),n=[0];let r,o,s,i,l;const a=e.length;for(r=0;r<a;r++){const c=e[r];if(c!==0){if(o=n[n.length-1],e[o]<c){t[r]=o,n.push(r);continue}for(s=0,i=n.length-1;s<i;)l=s+i>>1,e[n[l]]<c?s=l+1:i=l;c<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,i=n[s-1];s-- >0;)n[s]=i,i=t[i];return n}function b_(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:b_(t)}function Qh(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const ak=Symbol.for("v-scx"),ck=()=>Ne(ak);function Af(e,t){return Bi(e,null,t)}function FB(e,t){return Bi(e,null,{flush:"post"})}function uk(e,t){return Bi(e,null,{flush:"sync"})}function ze(e,t,n){return Bi(e,t,n)}function Bi(e,t,n=Le){const{immediate:r,deep:o,flush:s,once:i}=n,l=ot({},n),a=t&&r||!t&&s!=="post";let c;if(bs){if(s==="sync"){const h=ck();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!a){const h=()=>{};return h.stop=Kn,h.resume=Kn,h.pause=Kn,h}}const u=ut;l.call=(h,p,g)=>An(h,u,p,g);let d=!1;s==="post"?l.scheduler=h=>{Ht(h,u&&u.suspense)}:s!=="sync"&&(d=!0,l.scheduler=(h,p)=>{p?h():kf(h)}),l.augmentJob=h=>{t&&(h.flags|=4),d&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const f=xE(e,t,l);return bs&&(c?c.push(f):a&&f()),f}function dk(e,t,n){const r=this.proxy,o=Ye(e)?e.includes(".")?v_(r,e):()=>r[e]:e.bind(r,r);let s;ve(t)?s=t:(s=t.handler,n=t);const i=Hi(this),l=Bi(o,s.bind(r),n);return i(),l}function v_(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function qn(e,t,n=Le){const r=Zr(),o=on(t),s=_r(t),i=E_(e,o),l=D0((a,c)=>{let u,d=Le,f;return uk(()=>{const h=e[o];zt(u,h)&&(u=h,c())}),{get(){return a(),n.get?n.get(u):u},set(h){const p=n.set?n.set(h):h;if(!zt(p,u)&&!(d!==Le&&zt(h,d)))return;const g=r.vnode.props;g&&(t in g||o in g||s in g)&&(`onUpdate:${t}`in g||`onUpdate:${o}`in g||`onUpdate:${s}`in g)||(u=h,c()),r.emit(`update:${t}`,p),zt(h,p)&&zt(h,d)&&!zt(p,f)&&c(),d=h,f=p}}});return l[Symbol.iterator]=()=>{let a=0;return{next(){return a<2?{value:a++?i||Le:l,done:!1}:{done:!0}}}},l}const E_=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${on(t)}Modifiers`]||e[`${_r(t)}Modifiers`];function fk(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Le;let o=n;const s=t.startsWith("update:"),i=s&&E_(r,t.slice(7));i&&(i.trim&&(o=n.map(u=>Ye(u)?u.trim():u)),i.number&&(o=n.map(ql)));let l,a=r[l=Jc(t)]||r[l=Jc(on(t))];!a&&s&&(a=r[l=Jc(_r(t))]),a&&An(a,e,6,o);const c=r[l+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,An(c,e,6,o)}}function k_(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const s=e.emits;let i={},l=!1;if(!ve(e)){const a=c=>{const u=k_(c,t,!0);u&&(l=!0,ot(i,u))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!s&&!l?(Fe(e)&&r.set(e,null),null):(he(s)?s.forEach(a=>i[a]=null):ot(i,s),Fe(e)&&r.set(e,i),i)}function Cc(e,t){return!e||!Pi(t)?!1:(t=t.slice(2).replace(/Once$/,""),je(e,t[0].toLowerCase()+t.slice(1))||je(e,_r(t))||je(e,t))}function ou(e){const{type:t,vnode:n,proxy:r,withProxy:o,propsOptions:[s],slots:i,attrs:l,emit:a,render:c,renderCache:u,props:d,data:f,setupState:h,ctx:p,inheritAttrs:g}=e,y=Zl(e);let _,w;try{if(n.shapeFlag&4){const E=o||r,T=E;_=rn(c.call(T,E,u,d,h,f,p)),w=l}else{const E=t;_=rn(E.length>1?E(d,{attrs:l,slots:i,emit:a}):E(d,null)),w=t.props?l:pk(l)}}catch(E){ni.length=0,Rs(E,e,1),_=te(gt)}let b=_;if(w&&g!==!1){const E=Object.keys(w),{shapeFlag:T}=b;E.length&&T&7&&(s&&E.some(ff)&&(w=mk(w,s)),b=qr(b,w,!1,!0))}return n.dirs&&(b=qr(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&Ro(b,n.transition),_=b,Zl(y),_}function hk(e,t=!0){let n;for(let r=0;r<e.length;r++){const o=e[r];if(ys(o)){if(o.type!==gt||o.children==="v-if"){if(n)return;n=o}}else return}return n}const pk=e=>{let t;for(const n in e)(n==="class"||n==="style"||Pi(n))&&((t||(t={}))[n]=e[n]);return t},mk=(e,t)=>{const n={};for(const r in e)(!ff(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function gk(e,t,n){const{props:r,children:o,component:s}=e,{props:i,children:l,patchFlag:a}=t,c=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return r?Zh(r,i,c):!!i;if(a&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(i[f]!==r[f]&&!Cc(c,f))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:r===i?!1:r?i?Zh(r,i,c):!0:!!i;return!1}function Zh(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const s=r[o];if(t[s]!==e[s]&&!Cc(n,s))return!0}return!1}function Of({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const w_=e=>e.__isSuspense;let td=0;const _k={name:"Suspense",__isSuspense:!0,process(e,t,n,r,o,s,i,l,a,c){if(e==null)bk(t,n,r,o,s,i,l,a,c);else{if(s&&s.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}vk(e,t,n,r,o,i,l,a,c)}},hydrate:Ek,normalize:kk},yk=_k;function yi(e,t){const n=e.props&&e.props[t];ve(n)&&n()}function bk(e,t,n,r,o,s,i,l,a){const{p:c,o:{createElement:u}}=a,d=u("div"),f=e.suspense=x_(e,o,r,t,d,n,s,i,l,a);c(null,f.pendingBranch=e.ssContent,d,null,r,f,s,i),f.deps>0?(yi(e,"onPending"),yi(e,"onFallback"),c(null,e.ssFallback,t,n,r,null,s,i),fs(f,e.ssFallback)):f.resolve(!1,!0)}function vk(e,t,n,r,o,s,i,l,{p:a,um:c,o:{createElement:u}}){const d=t.suspense=e.suspense;d.vnode=t,t.el=e.el;const f=t.ssContent,h=t.ssFallback,{activeBranch:p,pendingBranch:g,isInFallback:y,isHydrating:_}=d;if(g)d.pendingBranch=f,Hn(f,g)?(a(g,f,d.hiddenContainer,null,o,d,s,i,l),d.deps<=0?d.resolve():y&&(_||(a(p,h,n,r,o,null,s,i,l),fs(d,h)))):(d.pendingId=td++,_?(d.isHydrating=!1,d.activeBranch=g):c(g,o,d),d.deps=0,d.effects.length=0,d.hiddenContainer=u("div"),y?(a(null,f,d.hiddenContainer,null,o,d,s,i,l),d.deps<=0?d.resolve():(a(p,h,n,r,o,null,s,i,l),fs(d,h))):p&&Hn(f,p)?(a(p,f,n,r,o,d,s,i,l),d.resolve(!0)):(a(null,f,d.hiddenContainer,null,o,d,s,i,l),d.deps<=0&&d.resolve()));else if(p&&Hn(f,p))a(p,f,n,r,o,d,s,i,l),fs(d,f);else if(yi(t,"onPending"),d.pendingBranch=f,f.shapeFlag&512?d.pendingId=f.component.suspenseId:d.pendingId=td++,a(null,f,d.hiddenContainer,null,o,d,s,i,l),d.deps<=0)d.resolve();else{const{timeout:w,pendingId:b}=d;w>0?setTimeout(()=>{d.pendingId===b&&d.fallback(h)},w):w===0&&d.fallback(h)}}function x_(e,t,n,r,o,s,i,l,a,c,u=!1){const{p:d,m:f,um:h,n:p,o:{parentNode:g,remove:y}}=c;let _;const w=wk(e);w&&t&&t.pendingBranch&&(_=t.pendingId,t.deps++);const b=e.props?d0(e.props.timeout):void 0,E=s,T={vnode:e,parent:t,parentComponent:n,namespace:i,container:r,hiddenContainer:o,deps:0,pendingId:td++,timeout:typeof b=="number"?b:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(x=!1,D=!1){const{vnode:N,activeBranch:M,pendingBranch:O,pendingId:$,effects:v,parentComponent:L,container:H}=T;let W=!1;T.isHydrating?T.isHydrating=!1:x||(W=M&&O.transition&&O.transition.mode==="out-in",W&&(M.transition.afterLeave=()=>{$===T.pendingId&&(f(O,H,s===E?p(M):s,0),Ju(v))}),M&&(g(M.el)===H&&(s=p(M)),h(M,L,T,!0)),W||f(O,H,s,0)),fs(T,O),T.pendingBranch=null,T.isInFallback=!1;let P=T.parent,k=!1;for(;P;){if(P.pendingBranch){P.effects.push(...v),k=!0;break}P=P.parent}!k&&!W&&Ju(v),T.effects=[],w&&t&&t.pendingBranch&&_===t.pendingId&&(t.deps--,t.deps===0&&!D&&t.resolve()),yi(N,"onResolve")},fallback(x){if(!T.pendingBranch)return;const{vnode:D,activeBranch:N,parentComponent:M,container:O,namespace:$}=T;yi(D,"onFallback");const v=p(N),L=()=>{T.isInFallback&&(d(null,x,O,v,M,null,$,l,a),fs(T,x))},H=x.transition&&x.transition.mode==="out-in";H&&(N.transition.afterLeave=L),T.isInFallback=!0,h(N,M,null,!0),H||L()},move(x,D,N){T.activeBranch&&f(T.activeBranch,x,D,N),T.container=x},next(){return T.activeBranch&&p(T.activeBranch)},registerDep(x,D,N){const M=!!T.pendingBranch;M&&T.deps++;const O=x.vnode.el;x.asyncDep.catch($=>{Rs($,x,0)}).then($=>{if(x.isUnmounted||T.isUnmounted||T.pendingId!==x.suspenseId)return;x.asyncResolved=!0;const{vnode:v}=x;rd(x,$,!1),O&&(v.el=O);const L=!O&&x.subTree.el;D(x,v,g(O||x.subTree.el),O?null:p(x.subTree),T,i,N),L&&y(L),Of(x,v.el),M&&--T.deps===0&&T.resolve()})},unmount(x,D){T.isUnmounted=!0,T.activeBranch&&h(T.activeBranch,n,x,D),T.pendingBranch&&h(T.pendingBranch,n,x,D)}};return T}function Ek(e,t,n,r,o,s,i,l,a){const c=t.suspense=x_(t,r,n,e.parentNode,document.createElement("div"),null,o,s,i,l,!0),u=a(e,c.pendingBranch=t.ssContent,n,c,s,i);return c.deps===0&&c.resolve(!1,!0),u}function kk(e){const{shapeFlag:t,children:n}=e,r=t&32;e.ssContent=ep(r?n.default:n),e.ssFallback=r?ep(n.fallback):te(gt)}function ep(e){let t;if(ve(e)){const n=_s&&e._c;n&&(e._d=!1,z()),e=e(),n&&(e._d=!0,t=Ut,T_())}return he(e)&&(e=hk(e)),e=rn(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function C_(e,t){t&&t.pendingBranch?he(e)?t.effects.push(...e):t.effects.push(e):Ju(e)}function fs(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e;let o=t.el;for(;!o&&t.component;)t=t.component.subTree,o=t.el;n.el=o,r&&r.subTree===n&&(r.vnode.el=o,Of(r,o))}function wk(e){const t=e.props&&e.props.suspensible;return t!=null&&t!==!1}const Xe=Symbol.for("v-fgt"),wo=Symbol.for("v-txt"),gt=Symbol.for("v-cmt"),Sl=Symbol.for("v-stc"),ni=[];let Ut=null;function z(e=!1){ni.push(Ut=e?null:[])}function T_(){ni.pop(),Ut=ni[ni.length-1]||null}let _s=1;function tp(e){_s+=e,e<0&&Ut&&(Ut.hasOnce=!0)}function S_(e){return e.dynamicChildren=_s>0?Ut||ls:null,T_(),_s>0&&Ut&&Ut.push(e),e}function ee(e,t,n,r,o,s){return S_(le(e,t,n,r,o,s,!0))}function ke(e,t,n,r,o){return S_(te(e,t,n,r,o,!0))}function ys(e){return e?e.__v_isVNode===!0:!1}function Hn(e,t){return e.type===t.type&&e.key===t.key}const M_=({key:e})=>e??null,Ml=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ye(e)||_t(e)||ve(e)?{i:dt,r:e,k:t,f:!!n}:e:null);function le(e,t=null,n=null,r=0,o=null,s=e===Xe?0:1,i=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&M_(t),ref:t&&Ml(t),scopeId:V0,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:dt};return l?(If(a,n),s&128&&e.normalize(a)):n&&(a.shapeFlag|=Ye(n)?8:16),_s>0&&!i&&Ut&&(a.patchFlag>0||s&6)&&a.patchFlag!==32&&Ut.push(a),a}const te=xk;function xk(e,t=null,n=null,r=0,o=null,s=!1){if((!e||e===e_)&&(e=gt),ys(e)){const l=qr(e,t,!0);return n&&If(l,n),_s>0&&!s&&Ut&&(l.shapeFlag&6?Ut[Ut.indexOf(e)]=l:Ut.push(l)),l.patchFlag=-2,l}if(Rk(e)&&(e=e.__vccOpts),t){t=fn(t);let{class:l,style:a}=t;l&&!Ye(l)&&(t.class=st(l)),Fe(a)&&(Ef(a)&&!he(a)&&(a=ot({},a)),t.style=Wn(a))}const i=Ye(e)?1:w_(e)?128:B0(e)?64:Fe(e)?4:ve(e)?2:0;return le(e,t,n,r,o,i,s,!0)}function fn(e){return e?Ef(e)||u_(e)?ot({},e):e:null}function qr(e,t,n=!1,r=!1){const{props:o,ref:s,patchFlag:i,children:l,transition:a}=e,c=t?Ve(o||{},t):o,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&M_(c),ref:t&&t.ref?n&&s?he(s)?s.concat(Ml(t)):[s,Ml(t)]:Ml(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Xe?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:a,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&qr(e.ssContent),ssFallback:e.ssFallback&&qr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return a&&r&&Ro(u,a.clone(u)),u}function It(e=" ",t=0){return te(wo,null,e,t)}function Pe(e="",t=!1){return t?(z(),ke(gt,null,e)):te(gt,null,e)}function rn(e){return e==null||typeof e=="boolean"?te(gt):he(e)?te(Xe,null,e.slice()):ys(e)?Or(e):te(wo,null,String(e))}function Or(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:qr(e)}function If(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(he(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),If(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!u_(t)?t._ctx=dt:o===3&&dt&&(dt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ve(t)?(t={default:t,_ctx:dt},n=32):(t=String(t),r&64?(n=16,t=[It(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ve(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=st([t.class,r.class]));else if(o==="style")t.style=Wn([t.style,r.style]);else if(Pi(o)){const s=t[o],i=r[o];i&&s!==i&&!(he(s)&&s.includes(i))&&(t[o]=s?[].concat(s,i):i)}else o!==""&&(t[o]=r[o])}return t}function dn(e,t,n,r=null){An(e,t,7,[n,r])}const Ck=i_();let Tk=0;function Sk(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||Ck,s={uid:Tk++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new m0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:f_(r,o),emitsOptions:k_(r,o),emit:null,emitted:null,propsDefaults:Le,inheritAttrs:r.inheritAttrs,ctx:Le,data:Le,props:Le,attrs:Le,slots:Le,refs:Le,setupState:Le,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=fk.bind(null,s),e.ce&&e.ce(s),s}let ut=null;const Zr=()=>ut||dt;let na,nd;{const e=Ec(),t=(n,r)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(r),s=>{o.length>1?o.forEach(i=>i(s)):o[0](s)}};na=t("__VUE_INSTANCE_SETTERS__",n=>ut=n),nd=t("__VUE_SSR_SETTERS__",n=>bs=n)}const Hi=e=>{const t=ut;return na(e),e.scope.on(),()=>{e.scope.off(),na(t)}},np=()=>{ut&&ut.scope.off(),na(null)};function A_(e){return e.vnode.shapeFlag&4}let bs=!1;function Mk(e,t=!1,n=!1){t&&nd(t);const{props:r,children:o}=e.vnode,s=A_(e);ZE(e,r,s,t),rk(e,o,n);const i=s?Ak(e,t):void 0;return t&&nd(!1),i}function Ak(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,WE);const{setup:r}=n;if(r){Yr();const o=e.setupContext=r.length>1?I_(e):null,s=Hi(e),i=Vi(r,e,0,[e.props,o]),l=l0(i);if(Qr(),s(),(l||e.sp)&&!Eo(e)&&xf(e),l){if(i.then(np,np),t)return i.then(a=>{rd(e,a,t)}).catch(a=>{Rs(a,e,0)});e.asyncDep=i}else rd(e,i,t)}else O_(e,t)}function rd(e,t,n){ve(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Fe(t)&&(e.setupState=R0(t)),O_(e,n)}let rp;function O_(e,t,n){const r=e.type;if(!e.render){if(!t&&rp&&!r.render){const o=r.template||Tf(e).template;if(o){const{isCustomElement:s,compilerOptions:i}=e.appContext.config,{delimiters:l,compilerOptions:a}=r,c=ot(ot({isCustomElement:s,delimiters:l},i),a);r.render=rp(o,c)}}e.render=r.render||Kn}{const o=Hi(e);Yr();try{UE(e)}finally{Qr(),o()}}}const Ok={get(e,t){return At(e,"get",""),e[t]}};function I_(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Ok),slots:e.slots,emit:e.emit,expose:t}}function Tc(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(R0(Me(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ti)return ti[n](e)},has(t,n){return n in t||n in ti}})):e.proxy}function Ik(e,t=!0){return ve(e)?e.displayName||e.name:e.name||t&&e.__name}function Rk(e){return ve(e)&&"__vccOpts"in e}const Ee=(e,t)=>kE(e,t,bs);function Ds(e,t,n){const r=arguments.length;return r===2?Fe(t)&&!he(t)?ys(t)?te(e,null,[t]):te(e,t):te(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ys(n)&&(n=[n]),te(e,t,n))}const R_="3.5.12";/**
* @vue/runtime-dom v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let od;const op=typeof window<"u"&&window.trustedTypes;if(op)try{od=op.createPolicy("vue",{createHTML:e=>e})}catch{}const D_=od?e=>od.createHTML(e):e=>e,Dk="http://www.w3.org/2000/svg",Lk="http://www.w3.org/1998/Math/MathML",ir=typeof document<"u"?document:null,sp=ir&&ir.createElement("template"),jk={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t==="svg"?ir.createElementNS(Dk,e):t==="mathml"?ir.createElementNS(Lk,e):n?ir.createElement(e,{is:n}):ir.createElement(e);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>ir.createTextNode(e),createComment:e=>ir.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ir.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,s){const i=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{sp.innerHTML=D_(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const l=sp.content;if(r==="svg"||r==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},kr="transition",$s="animation",vs=Symbol("_vtc"),L_={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},j_=ot({},z0,L_),Pk=e=>(e.displayName="Transition",e.props=j_,e),Nk=Pk((e,{slots:t})=>Ds(IE,P_(e),t)),so=(e,t=[])=>{he(e)?e.forEach(n=>n(...t)):e&&e(...t)},ip=e=>e?he(e)?e.some(t=>t.length>1):e.length>1:!1;function P_(e){const t={};for(const v in e)v in L_||(t[v]=e[v]);if(e.css===!1)return t;const{name:n="v",type:r,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:i=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:a=s,appearActiveClass:c=i,appearToClass:u=l,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=e,p=Vk(o),g=p&&p[0],y=p&&p[1],{onBeforeEnter:_,onEnter:w,onEnterCancelled:b,onLeave:E,onLeaveCancelled:T,onBeforeAppear:x=_,onAppear:D=w,onAppearCancelled:N=b}=t,M=(v,L,H)=>{Tr(v,L?u:l),Tr(v,L?c:i),H&&H()},O=(v,L)=>{v._isLeaving=!1,Tr(v,d),Tr(v,h),Tr(v,f),L&&L()},$=v=>(L,H)=>{const W=v?D:w,P=()=>M(L,v,H);so(W,[L,P]),lp(()=>{Tr(L,v?a:s),rr(L,v?u:l),ip(W)||ap(L,r,g,P)})};return ot(t,{onBeforeEnter(v){so(_,[v]),rr(v,s),rr(v,i)},onBeforeAppear(v){so(x,[v]),rr(v,a),rr(v,c)},onEnter:$(!1),onAppear:$(!0),onLeave(v,L){v._isLeaving=!0;const H=()=>O(v,L);rr(v,d),rr(v,f),V_(),lp(()=>{v._isLeaving&&(Tr(v,d),rr(v,h),ip(E)||ap(v,r,y,H))}),so(E,[v,H])},onEnterCancelled(v){M(v,!1),so(b,[v])},onAppearCancelled(v){M(v,!0),so(N,[v])},onLeaveCancelled(v){O(v),so(T,[v])}})}function Vk(e){if(e==null)return null;if(Fe(e))return[su(e.enter),su(e.leave)];{const t=su(e);return[t,t]}}function su(e){return d0(e)}function rr(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[vs]||(e[vs]=new Set)).add(t)}function Tr(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[vs];n&&(n.delete(t),n.size||(e[vs]=void 0))}function lp(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let $k=0;function ap(e,t,n,r){const o=e._endId=++$k,s=()=>{o===e._endId&&r()};if(n!=null)return setTimeout(s,n);const{type:i,timeout:l,propCount:a}=N_(e,t);if(!i)return r();const c=i+"end";let u=0;const d=()=>{e.removeEventListener(c,f),s()},f=h=>{h.target===e&&++u>=a&&d()};setTimeout(()=>{u<a&&d()},l+1),e.addEventListener(c,f)}function N_(e,t){const n=window.getComputedStyle(e),r=p=>(n[p]||"").split(", "),o=r(`${kr}Delay`),s=r(`${kr}Duration`),i=cp(o,s),l=r(`${$s}Delay`),a=r(`${$s}Duration`),c=cp(l,a);let u=null,d=0,f=0;t===kr?i>0&&(u=kr,d=i,f=s.length):t===$s?c>0&&(u=$s,d=c,f=a.length):(d=Math.max(i,c),u=d>0?i>c?kr:$s:null,f=u?u===kr?s.length:a.length:0);const h=u===kr&&/\b(transform|all)(,|$)/.test(r(`${kr}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:h}}function cp(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>up(n)+up(e[r])))}function up(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function V_(){return document.body.offsetHeight}function Bk(e,t,n){const r=e[vs];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const ra=Symbol("_vod"),$_=Symbol("_vsh"),zB={beforeMount(e,{value:t},{transition:n}){e[ra]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Bs(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Bs(e,!0),r.enter(e)):r.leave(e,()=>{Bs(e,!1)}):Bs(e,t))},beforeUnmount(e,{value:t}){Bs(e,t)}};function Bs(e,t){e.style.display=t?e[ra]:"none",e[$_]=!t}const Hk=Symbol(""),Fk=/(^|;)\s*display\s*:/;function zk(e,t,n){const r=e.style,o=Ye(n);let s=!1;if(n&&!o){if(t)if(Ye(t))for(const i of t.split(";")){const l=i.slice(0,i.indexOf(":")).trim();n[l]==null&&Al(r,l,"")}else for(const i in t)n[i]==null&&Al(r,i,"");for(const i in n)i==="display"&&(s=!0),Al(r,i,n[i])}else if(o){if(t!==n){const i=r[Hk];i&&(n+=";"+i),r.cssText=n,s=Fk.test(n)}}else t&&e.removeAttribute("style");ra in e&&(e[ra]=s?r.display:"",e[$_]&&(r.display="none"))}const dp=/\s*!important$/;function Al(e,t,n){if(he(n))n.forEach(r=>Al(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Kk(e,t);dp.test(n)?e.setProperty(_r(r),n.replace(dp,""),"important"):e[r]=n}}const fp=["Webkit","Moz","ms"],iu={};function Kk(e,t){const n=iu[t];if(n)return n;let r=on(t);if(r!=="filter"&&r in e)return iu[t]=r;r=vc(r);for(let o=0;o<fp.length;o++){const s=fp[o]+r;if(s in e)return iu[t]=s}return t}const hp="http://www.w3.org/1999/xlink";function pp(e,t,n,r,o,s=q1(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(hp,t.slice(6,t.length)):e.setAttributeNS(hp,t,n):n==null||s&&!f0(n)?e.removeAttribute(t):e.setAttribute(t,s?"":Mn(n)?String(n):n)}function mp(e,t,n,r,o){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?D_(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const l=s==="OPTION"?e.getAttribute("value")||"":e.value,a=n==null?e.type==="checkbox"?"on":"":String(n);(l!==a||!("_value"in e))&&(e.value=a),n==null&&e.removeAttribute(t),e._value=n;return}let i=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=f0(n):n==null&&l==="string"?(n="",i=!0):l==="number"&&(n=0,i=!0)}try{e[t]=n}catch{}i&&e.removeAttribute(o||t)}function ur(e,t,n,r){e.addEventListener(t,n,r)}function Wk(e,t,n,r){e.removeEventListener(t,n,r)}const gp=Symbol("_vei");function Uk(e,t,n,r,o=null){const s=e[gp]||(e[gp]={}),i=s[t];if(r&&i)i.value=r;else{const[l,a]=qk(t);if(r){const c=s[t]=Xk(r,o);ur(e,l,c,a)}else i&&(Wk(e,l,i,a),s[t]=void 0)}}const _p=/(?:Once|Passive|Capture)$/;function qk(e){let t;if(_p.test(e)){t={};let r;for(;r=e.match(_p);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):_r(e.slice(2)),t]}let lu=0;const Gk=Promise.resolve(),Jk=()=>lu||(Gk.then(()=>lu=0),lu=Date.now());function Xk(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;An(Yk(r,n.value),t,5,[r])};return n.value=e,n.attached=Jk(),n}function Yk(e,t){if(he(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const yp=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Qk=(e,t,n,r,o,s)=>{const i=o==="svg";t==="class"?Bk(e,r,i):t==="style"?zk(e,n,r):Pi(t)?ff(t)||Uk(e,t,n,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Zk(e,t,r,i))?(mp(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&pp(e,t,r,i,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ye(r))?mp(e,on(t),r,s,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),pp(e,t,r,i))};function Zk(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&yp(t)&&ve(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return yp(t)&&Ye(n)?!1:t in e}const B_=new WeakMap,H_=new WeakMap,oa=Symbol("_moveCb"),bp=Symbol("_enterCb"),ew=e=>(delete e.props.mode,e),tw=ew({name:"TransitionGroup",props:ot({},j_,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Zr(),r=F0();let o,s;return X0(()=>{if(!o.length)return;const i=e.moveClass||`${e.name||"v"}-move`;if(!sw(o[0].el,n.vnode.el,i))return;o.forEach(nw),o.forEach(rw);const l=o.filter(ow);V_(),l.forEach(a=>{const c=a.el,u=c.style;rr(c,i),u.transform=u.webkitTransform=u.transitionDuration="";const d=c[oa]=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",d),c[oa]=null,Tr(c,i))};c.addEventListener("transitionend",d)})}),()=>{const i=Te(e),l=P_(i);let a=i.tag||Xe;if(o=[],s)for(let c=0;c<s.length;c++){const u=s[c];u.el&&u.el instanceof Element&&(o.push(u),Ro(u,mi(u,l,r,n)),B_.set(u,u.el.getBoundingClientRect()))}s=t.default?wf(t.default()):[];for(let c=0;c<s.length;c++){const u=s[c];u.key!=null&&Ro(u,mi(u,l,r,n))}return te(a,null,s)}}}),KB=tw;function nw(e){const t=e.el;t[oa]&&t[oa](),t[bp]&&t[bp]()}function rw(e){H_.set(e,e.el.getBoundingClientRect())}function ow(e){const t=B_.get(e),n=H_.get(e),r=t.left-n.left,o=t.top-n.top;if(r||o){const s=e.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${o}px)`,s.transitionDuration="0s",e}}function sw(e,t,n){const r=e.cloneNode(),o=e[vs];o&&o.forEach(l=>{l.split(/\s+/).forEach(a=>a&&r.classList.remove(a))}),n.split(/\s+/).forEach(l=>l&&r.classList.add(l)),r.style.display="none";const s=t.nodeType===1?t:t.parentNode;s.appendChild(r);const{hasTransform:i}=N_(r);return s.removeChild(r),i}const Gr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return he(t)?n=>Cl(t,n):t};function iw(e){e.target.composing=!0}function vp(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const _n=Symbol("_assign"),Ep={created(e,{modifiers:{lazy:t,trim:n,number:r}},o){e[_n]=Gr(o);const s=r||o.props&&o.props.type==="number";ur(e,t?"change":"input",i=>{if(i.target.composing)return;let l=e.value;n&&(l=l.trim()),s&&(l=ql(l)),e[_n](l)}),n&&ur(e,"change",()=>{e.value=e.value.trim()}),t||(ur(e,"compositionstart",iw),ur(e,"compositionend",vp),ur(e,"change",vp))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:o,number:s}},i){if(e[_n]=Gr(i),e.composing)return;const l=(s||e.type==="number")&&!/^0\d/.test(e.value)?ql(e.value):e.value,a=t??"";l!==a&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||o&&e.value.trim()===a)||(e.value=a))}},F_={deep:!0,created(e,t,n){e[_n]=Gr(n),ur(e,"change",()=>{const r=e._modelValue,o=Es(e),s=e.checked,i=e[_n];if(he(r)){const l=mf(r,o),a=l!==-1;if(s&&!a)i(r.concat(o));else if(!s&&a){const c=[...r];c.splice(l,1),i(c)}}else if(Is(r)){const l=new Set(r);s?l.add(o):l.delete(o),i(l)}else i(z_(e,s))})},mounted:kp,beforeUpdate(e,t,n){e[_n]=Gr(n),kp(e,t,n)}};function kp(e,{value:t,oldValue:n},r){e._modelValue=t;let o;if(he(t))o=mf(t,r.props.value)>-1;else if(Is(t))o=t.has(r.props.value);else{if(t===n)return;o=Io(t,z_(e,!0))}e.checked!==o&&(e.checked=o)}const lw={created(e,{value:t},n){e.checked=Io(t,n.props.value),e[_n]=Gr(n),ur(e,"change",()=>{e[_n](Es(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[_n]=Gr(r),t!==n&&(e.checked=Io(t,r.props.value))}},aw={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const o=Is(t);ur(e,"change",()=>{const s=Array.prototype.filter.call(e.options,i=>i.selected).map(i=>n?ql(Es(i)):Es(i));e[_n](e.multiple?o?new Set(s):s:s[0]),e._assigning=!0,Gt(()=>{e._assigning=!1})}),e[_n]=Gr(r)},mounted(e,{value:t}){wp(e,t)},beforeUpdate(e,t,n){e[_n]=Gr(n)},updated(e,{value:t}){e._assigning||wp(e,t)}};function wp(e,t){const n=e.multiple,r=he(t);if(!(n&&!r&&!Is(t))){for(let o=0,s=e.options.length;o<s;o++){const i=e.options[o],l=Es(i);if(n)if(r){const a=typeof l;a==="string"||a==="number"?i.selected=t.some(c=>String(c)===String(l)):i.selected=mf(t,l)>-1}else i.selected=t.has(l);else if(Io(Es(i),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Es(e){return"_value"in e?e._value:e.value}function z_(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const cw={created(e,t,n){sl(e,t,n,null,"created")},mounted(e,t,n){sl(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){sl(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){sl(e,t,n,r,"updated")}};function uw(e,t){switch(e){case"SELECT":return aw;case"TEXTAREA":return Ep;default:switch(t){case"checkbox":return F_;case"radio":return lw;default:return Ep}}}function sl(e,t,n,r,o){const i=uw(e.tagName,n.props&&n.props.type)[o];i&&i(e,t,n,r)}const dw=["ctrl","shift","alt","meta"],fw={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>dw.some(n=>e[`${n}Key`]&&!t.includes(n))},ks=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(o,...s)=>{for(let i=0;i<t.length;i++){const l=fw[t[i]];if(l&&l(o,t))return}return e(o,...s)})},hw={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},sa=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=o=>{if(!("key"in o))return;const s=_r(o.key);if(t.some(i=>i===s||hw[i]===s))return e(o)})},K_=ot({patchProp:Qk},jk);let ri,xp=!1;function W_(){return ri||(ri=sk(K_))}function pw(){return ri=xp?ri:ik(K_),xp=!0,ri}const Cp=(...e)=>{W_().render(...e)},mw=(...e)=>{const t=W_().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=q_(r);if(!o)return;const s=t._component;!ve(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const i=n(o,!1,U_(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),i},t},gw=(...e)=>{const t=pw().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=q_(r);if(o)return n(o,!0,U_(o))},t};function U_(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function q_(e){return Ye(e)?document.querySelector(e):e}const _w=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,yw=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,bw=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function vw(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){Ew(e);return}return t}function Ew(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function ia(e,t={}){if(typeof e!="string")return e;const n=e.trim();if(e[0]==='"'&&e.endsWith('"')&&!e.includes("\\"))return n.slice(1,-1);if(n.length<=9){const r=n.toLowerCase();if(r==="true")return!0;if(r==="false")return!1;if(r==="undefined")return;if(r==="null")return null;if(r==="nan")return Number.NaN;if(r==="infinity")return Number.POSITIVE_INFINITY;if(r==="-infinity")return Number.NEGATIVE_INFINITY}if(!bw.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(_w.test(e)||yw.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,vw)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}const kw=/#/g,ww=/&/g,xw=/\//g,Cw=/=/g,Rf=/\+/g,Tw=/%5e/gi,Sw=/%60/gi,Mw=/%7c/gi,Aw=/%20/gi;function Ow(e){return encodeURI(""+e).replace(Mw,"|")}function sd(e){return Ow(typeof e=="string"?e:JSON.stringify(e)).replace(Rf,"%2B").replace(Aw,"+").replace(kw,"%23").replace(ww,"%26").replace(Sw,"`").replace(Tw,"^").replace(xw,"%2F")}function au(e){return sd(e).replace(Cw,"%3D")}function la(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function Iw(e){return la(e.replace(Rf," "))}function Rw(e){return la(e.replace(Rf," "))}function G_(e=""){const t={};e[0]==="?"&&(e=e.slice(1));for(const n of e.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const o=Iw(r[1]);if(o==="__proto__"||o==="constructor")continue;const s=Rw(r[2]||"");t[o]===void 0?t[o]=s:Array.isArray(t[o])?t[o].push(s):t[o]=[t[o],s]}return t}function Dw(e,t){return(typeof t=="number"||typeof t=="boolean")&&(t=String(t)),t?Array.isArray(t)?t.map(n=>`${au(e)}=${sd(n)}`).join("&"):`${au(e)}=${sd(t)}`:au(e)}function J_(e){return Object.keys(e).filter(t=>e[t]!==void 0).map(t=>Dw(t,e[t])).filter(Boolean).join("&")}const Lw=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,jw=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,Pw=/^([/\\]\s*){2,}[^/\\]/,Nw=/^[\s\0]*(blob|data|javascript|vbscript):$/i,Vw=/\/$|\/\?|\/#/,$w=/^\.?\//;function Ls(e,t={}){return typeof t=="boolean"&&(t={acceptRelative:t}),t.strict?Lw.test(e):jw.test(e)||(t.acceptRelative?Pw.test(e):!1)}function Bw(e){return!!e&&Nw.test(e)}function id(e="",t){return t?Vw.test(e):e.endsWith("/")}function Df(e="",t){if(!t)return(id(e)?e.slice(0,-1):e)||"/";if(!id(e,!0))return e||"/";let n=e,r="";const o=e.indexOf("#");o>=0&&(n=e.slice(0,o),r=e.slice(o));const[s,...i]=n.split("?");return((s.endsWith("/")?s.slice(0,-1):s)||"/")+(i.length>0?`?${i.join("?")}`:"")+r}function ld(e="",t){if(!t)return e.endsWith("/")?e:e+"/";if(id(e,!0))return e||"/";let n=e,r="";const o=e.indexOf("#");if(o>=0&&(n=e.slice(0,o),r=e.slice(o),!n))return r;const[s,...i]=n.split("?");return s+"/"+(i.length>0?`?${i.join("?")}`:"")+r}function Hw(e=""){return e.startsWith("/")}function Tp(e=""){return Hw(e)?e:"/"+e}function Fw(e,t){if(Y_(t)||Ls(e))return e;const n=Df(t);return e.startsWith(n)?e:Sc(n,e)}function zw(e,t){if(Y_(t))return e;const n=Df(t);if(!e.startsWith(n))return e;const r=e.slice(n.length);return r[0]==="/"?r:"/"+r}function X_(e,t){const n=Uw(e),r={...G_(n.search),...t};return n.search=J_(r),ey(n)}function Y_(e){return!e||e==="/"}function Kw(e){return e&&e!=="/"}function Sc(e,...t){let n=e||"";for(const r of t.filter(o=>Kw(o)))if(n){const o=r.replace($w,"");n=ld(n)+o}else n=r;return n}function Q_(...e){var i,l,a,c;const t=/\/(?!\/)/,n=e.filter(Boolean),r=[];let o=0;for(const u of n)if(!(!u||u==="/")){for(const[d,f]of u.split(t).entries())if(!(!f||f===".")){if(f===".."){if(r.length===1&&Ls(r[0]))continue;r.pop(),o--;continue}if(d===1&&((i=r[r.length-1])!=null&&i.endsWith(":/"))){r[r.length-1]+="/"+f;continue}r.push(f),o++}}let s=r.join("/");return o>=0?(l=n[0])!=null&&l.startsWith("/")&&!s.startsWith("/")?s="/"+s:(a=n[0])!=null&&a.startsWith("./")&&!s.startsWith("./")&&(s="./"+s):s="../".repeat(-1*o)+s,(c=n[n.length-1])!=null&&c.endsWith("/")&&!s.endsWith("/")&&(s+="/"),s}function Ww(e,t,n={}){return n.trailingSlash||(e=ld(e),t=ld(t)),n.leadingSlash||(e=Tp(e),t=Tp(t)),n.encoding||(e=la(e),t=la(t)),e===t}const Z_=Symbol.for("ufo:protocolRelative");function Uw(e="",t){const n=e.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,d,f=""]=n;return{protocol:d.toLowerCase(),pathname:f,href:d+f,auth:"",host:"",search:"",hash:""}}if(!Ls(e,{acceptRelative:!0}))return Sp(e);const[,r="",o,s=""]=e.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,i="",l=""]=s.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(l=l.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:a,search:c,hash:u}=Sp(l);return{protocol:r.toLowerCase(),auth:o?o.slice(0,Math.max(0,o.length-1)):"",host:i,pathname:a,search:c,hash:u,[Z_]:!r}}function Sp(e=""){const[t="",n="",r=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:n,hash:r}}function ey(e){const t=e.pathname||"",n=e.search?(e.search.startsWith("?")?"":"?")+e.search:"",r=e.hash||"",o=e.auth?e.auth+"@":"",s=e.host||"";return(e.protocol||e[Z_]?(e.protocol||"")+"//":"")+o+s+t+n+r}class qw extends Error{constructor(t,n){super(t,n),this.name="FetchError",n!=null&&n.cause&&!this.cause&&(this.cause=n.cause)}}function Gw(e){var a,c,u,d,f;const t=((a=e.error)==null?void 0:a.message)||((c=e.error)==null?void 0:c.toString())||"",n=((u=e.request)==null?void 0:u.method)||((d=e.options)==null?void 0:d.method)||"GET",r=((f=e.request)==null?void 0:f.url)||String(e.request)||"/",o=`[${n}] ${JSON.stringify(r)}`,s=e.response?`${e.response.status} ${e.response.statusText}`:"<no response>",i=`${o}: ${s}${t?` ${t}`:""}`,l=new qw(i,e.error?{cause:e.error}:void 0);for(const h of["request","options","response"])Object.defineProperty(l,h,{get(){return e[h]}});for(const[h,p]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(l,h,{get(){return e.response&&e.response[p]}});return l}const Jw=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Mp(e="GET"){return Jw.has(e.toUpperCase())}function Xw(e){if(e===void 0)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"||t===null?!0:t!=="object"?!1:Array.isArray(e)?!0:e.buffer?!1:e.constructor&&e.constructor.name==="Object"||typeof e.toJSON=="function"}const Yw=new Set(["image/svg","application/xml","application/xhtml","application/html"]),Qw=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function Zw(e=""){if(!e)return"json";const t=e.split(";").shift()||"";return Qw.test(t)?"json":Yw.has(t)||t.startsWith("text/")?"text":"blob"}function ex(e,t,n,r){const o=tx((t==null?void 0:t.headers)??(e==null?void 0:e.headers),n==null?void 0:n.headers,r);let s;return(n!=null&&n.query||n!=null&&n.params||t!=null&&t.params||t!=null&&t.query)&&(s={...n==null?void 0:n.params,...n==null?void 0:n.query,...t==null?void 0:t.params,...t==null?void 0:t.query}),{...n,...t,query:s,params:s,headers:o}}function tx(e,t,n){if(!t)return new n(e);const r=new n(t);if(e)for(const[o,s]of Symbol.iterator in e||Array.isArray(e)?e:new n(e))r.set(o,s);return r}async function il(e,t){if(t)if(Array.isArray(t))for(const n of t)await n(e);else await t(e)}const nx=new Set([408,409,425,429,500,502,503,504]),rx=new Set([101,204,205,304]);function ty(e={}){const{fetch:t=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=e;async function o(l){const a=l.error&&l.error.name==="AbortError"&&!l.options.timeout||!1;if(l.options.retry!==!1&&!a){let u;typeof l.options.retry=="number"?u=l.options.retry:u=Mp(l.options.method)?0:1;const d=l.response&&l.response.status||500;if(u>0&&(Array.isArray(l.options.retryStatusCodes)?l.options.retryStatusCodes.includes(d):nx.has(d))){const f=typeof l.options.retryDelay=="function"?l.options.retryDelay(l):l.options.retryDelay||0;return f>0&&await new Promise(h=>setTimeout(h,f)),s(l.request,{...l.options,retry:u-1})}}const c=Gw(l);throw Error.captureStackTrace&&Error.captureStackTrace(c,s),c}const s=async function(a,c={}){const u={request:a,options:ex(a,c,e.defaults,n),response:void 0,error:void 0};u.options.method&&(u.options.method=u.options.method.toUpperCase()),u.options.onRequest&&await il(u,u.options.onRequest),typeof u.request=="string"&&(u.options.baseURL&&(u.request=Fw(u.request,u.options.baseURL)),u.options.query&&(u.request=X_(u.request,u.options.query),delete u.options.query),"query"in u.options&&delete u.options.query,"params"in u.options&&delete u.options.params),u.options.body&&Mp(u.options.method)&&(Xw(u.options.body)?(u.options.body=typeof u.options.body=="string"?u.options.body:JSON.stringify(u.options.body),u.options.headers=new n(u.options.headers||{}),u.options.headers.has("content-type")||u.options.headers.set("content-type","application/json"),u.options.headers.has("accept")||u.options.headers.set("accept","application/json")):("pipeTo"in u.options.body&&typeof u.options.body.pipeTo=="function"||typeof u.options.body.pipe=="function")&&("duplex"in u.options||(u.options.duplex="half")));let d;if(!u.options.signal&&u.options.timeout){const h=new r;d=setTimeout(()=>{const p=new Error("[TimeoutError]: The operation was aborted due to timeout");p.name="TimeoutError",p.code=23,h.abort(p)},u.options.timeout),u.options.signal=h.signal}try{u.response=await t(u.request,u.options)}catch(h){return u.error=h,u.options.onRequestError&&await il(u,u.options.onRequestError),await o(u)}finally{d&&clearTimeout(d)}if((u.response.body||u.response._bodyInit)&&!rx.has(u.response.status)&&u.options.method!=="HEAD"){const h=(u.options.parseResponse?"json":u.options.responseType)||Zw(u.response.headers.get("content-type")||"");switch(h){case"json":{const p=await u.response.text(),g=u.options.parseResponse||ia;u.response._data=g(p);break}case"stream":{u.response._data=u.response.body||u.response._bodyInit;break}default:u.response._data=await u.response[h]()}}return u.options.onResponse&&await il(u,u.options.onResponse),!u.options.ignoreResponseError&&u.response.status>=400&&u.response.status<600?(u.options.onResponseError&&await il(u,u.options.onResponseError),await o(u)):u.response},i=async function(a,c){return(await s(a,c))._data};return i.raw=s,i.native=(...l)=>t(...l),i.create=(l={},a={})=>ty({...e,...a,defaults:{...e.defaults,...a.defaults,...l}}),i}const aa=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),ox=aa.fetch?(...e)=>aa.fetch(...e):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),sx=aa.Headers,ix=aa.AbortController,lx=ty({fetch:ox,Headers:sx,AbortController:ix}),ax=lx,cx=()=>{var e;return((e=window==null?void 0:window.__NUXT__)==null?void 0:e.config)||{}},ca=cx().app,ux=()=>ca.baseURL,dx=()=>ca.buildAssetsDir,Lf=(...e)=>Q_(ny(),dx(),...e),ny=(...e)=>{const t=ca.cdnURL||ca.baseURL;return e.length?Q_(t,...e):t};globalThis.__buildAssetsURL=Lf,globalThis.__publicAssetsURL=ny;globalThis.$fetch||(globalThis.$fetch=ax.create({baseURL:ux()}));function ad(e,t={},n){for(const r in e){const o=e[r],s=n?`${n}:${r}`:r;typeof o=="object"&&o!==null?ad(o,t,s):typeof o=="function"&&(t[s]=o)}return t}const fx={run:e=>e()},hx=()=>fx,ry=typeof console.createTask<"u"?console.createTask:hx;function px(e,t){const n=t.shift(),r=ry(n);return e.reduce((o,s)=>o.then(()=>r.run(()=>s(...t))),Promise.resolve())}function mx(e,t){const n=t.shift(),r=ry(n);return Promise.all(e.map(o=>r.run(()=>o(...t))))}function cu(e,t){for(const n of[...e])n(t)}class gx{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,n,r={}){if(!t||typeof n!="function")return()=>{};const o=t;let s;for(;this._deprecatedHooks[t];)s=this._deprecatedHooks[t],t=s.to;if(s&&!r.allowDeprecated){let i=s.message;i||(i=`${o} hook has been deprecated`+(s.to?`, please use ${s.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(i)||(console.warn(i),this._deprecatedMessages.add(i))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(n),()=>{n&&(this.removeHook(t,n),n=void 0)}}hookOnce(t,n){let r,o=(...s)=>(typeof r=="function"&&r(),r=void 0,o=void 0,n(...s));return r=this.hook(t,o),r}removeHook(t,n){if(this._hooks[t]){const r=this._hooks[t].indexOf(n);r!==-1&&this._hooks[t].splice(r,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,n){this._deprecatedHooks[t]=typeof n=="string"?{to:n}:n;const r=this._hooks[t]||[];delete this._hooks[t];for(const o of r)this.hook(t,o)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const n in t)this.deprecateHook(n,t[n])}addHooks(t){const n=ad(t),r=Object.keys(n).map(o=>this.hook(o,n[o]));return()=>{for(const o of r.splice(0,r.length))o()}}removeHooks(t){const n=ad(t);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...n){return n.unshift(t),this.callHookWith(px,t,...n)}callHookParallel(t,...n){return n.unshift(t),this.callHookWith(mx,t,...n)}callHookWith(t,n,...r){const o=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&cu(this._before,o);const s=t(n in this._hooks?[...this._hooks[n]]:[],r);return s instanceof Promise?s.finally(()=>{this._after&&o&&cu(this._after,o)}):(this._after&&o&&cu(this._after,o),s)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const n=this._before.indexOf(t);n!==-1&&this._before.splice(n,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const n=this._after.indexOf(t);n!==-1&&this._after.splice(n,1)}}}}function oy(){return new gx}function _x(e={}){let t,n=!1;const r=i=>{if(t&&t!==i)throw new Error("Context conflict")};let o;if(e.asyncContext){const i=e.AsyncLocalStorage||globalThis.AsyncLocalStorage;i?o=new i:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const s=()=>{if(o&&t===void 0){const i=o.getStore();if(i!==void 0)return i}return t};return{use:()=>{const i=s();if(i===void 0)throw new Error("Context is not available");return i},tryUse:()=>s(),set:(i,l)=>{l||r(i),t=i,n=!0},unset:()=>{t=void 0,n=!1},call:(i,l)=>{r(i),t=i;try{return o?o.run(i,l):l()}finally{n||(t=void 0)}},async callAsync(i,l){t=i;const a=()=>{t=i},c=()=>t===i?a:void 0;cd.add(c);try{const u=o?o.run(i,l):l();return n||(t=void 0),await u}finally{cd.delete(c)}}}}function yx(e={}){const t={};return{get(n,r={}){return t[n]||(t[n]=_x({...e,...r})),t[n],t[n]}}}const ua=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},Ap="__unctx__",bx=ua[Ap]||(ua[Ap]=yx()),vx=(e,t={})=>bx.get(e,t),Op="__unctx_async_handlers__",cd=ua[Op]||(ua[Op]=new Set);function sy(e){const t=[];for(const o of cd){const s=o();s&&t.push(s)}const n=()=>{for(const o of t)o()};let r=e();return r&&typeof r=="object"&&"catch"in r&&(r=r.catch(o=>{throw n(),o})),[r,n]}const WB={componentName:"NuxtLink",prefetch:!0,prefetchOn:{visibility:!0}},Ex=void 0,kx="#__nuxt",iy="nuxt-app",Ip=36e5,wx="vite:preloadError";function ly(e=iy){return vx(e,{asyncContext:!1})}const xx="__nuxt_plugin";function Cx(e){var o;let t=0;const n={_id:e.id||iy||"nuxt-app",_scope:J1(),provide:void 0,globalName:"nuxt",versions:{get nuxt(){return"3.13.2"},get vue(){return n.vueApp.version}},payload:ss({...((o=e.ssrContext)==null?void 0:o.payload)||{},data:ss({}),state:vn({}),once:new Set,_errors:ss({})}),static:{data:{}},runWithContext(s){return n._scope.active&&!g0()?n._scope.run(()=>Rp(n,s)):Rp(n,s)},isHydrating:!0,deferHydration(){if(!n.isHydrating)return()=>{};t++;let s=!1;return()=>{if(!s&&(s=!0,t--,t===0))return n.isHydrating=!1,n.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:ss({}),_payloadRevivers:{},...e};{const s=window.__NUXT__;if(s)for(const i in s)switch(i){case"data":case"state":case"_errors":Object.assign(n.payload[i],s[i]);break;default:n.payload[i]=s[i]}}n.hooks=oy(),n.hook=n.hooks.hook,n.callHook=n.hooks.callHook,n.provide=(s,i)=>{const l="$"+s;ll(n,l,i),ll(n.vueApp.config.globalProperties,l,i)},ll(n.vueApp,"$nuxt",n),ll(n.vueApp.config.globalProperties,"$nuxt",n);{window.addEventListener(wx,i=>{n.callHook("app:chunkError",{error:i.payload}),(n.isHydrating||i.payload.message.includes("Unable to preload CSS"))&&i.preventDefault()}),window.useNuxtApp=window.useNuxtApp||Ct;const s=n.hook("app:error",(...i)=>{console.error("[nuxt] error caught during app initialization",...i)});n.hook("app:mounted",s)}const r=n.payload.config;return n.provide("config",r),n}function Tx(e,t){t.hooks&&e.hooks.addHooks(t.hooks)}async function Sx(e,t){if(typeof t=="function"){const{provide:n}=await e.runWithContext(()=>t(e))||{};if(n&&typeof n=="object")for(const r in n)e.provide(r,n[r])}}async function Mx(e,t){const n=[],r=[],o=[],s=[];let i=0;async function l(a){var u;const c=((u=a.dependsOn)==null?void 0:u.filter(d=>t.some(f=>f._name===d)&&!n.includes(d)))??[];if(c.length>0)r.push([new Set(c),a]);else{const d=Sx(e,a).then(async()=>{a._name&&(n.push(a._name),await Promise.all(r.map(async([f,h])=>{f.has(a._name)&&(f.delete(a._name),f.size===0&&(i++,await l(h)))})))});a.parallel?o.push(d.catch(f=>s.push(f))):await d}}for(const a of t)Tx(e,a);for(const a of t)await l(a);if(await Promise.all(o),i)for(let a=0;a<i;a++)await Promise.all(o);if(s.length)throw s[0]}function eo(e){if(typeof e=="function")return e;const t=e._name||e.name;return delete e.name,Object.assign(e.setup||(()=>{}),e,{[xx]:!0,_name:t})}function Rp(e,t,n){const r=()=>t();return ly(e._id).set(e),e.vueApp.runWithContext(r)}function Ax(e){var n;let t;return l_()&&(t=(n=Zr())==null?void 0:n.appContext.app.$nuxt),t=t||ly(e).tryUse(),t||null}function Ct(e){const t=Ax(e);if(!t)throw new Error("[nuxt] instance unavailable");return t}function bi(e){return Ct().$config}function ll(e,t,n){Object.defineProperty(e,t,{get:()=>n})}function Ox(e,t){return{ctx:{table:e},matchAll:n=>cy(n,e)}}function ay(e){const t={};for(const n in e)t[n]=n==="dynamic"?new Map(Object.entries(e[n]).map(([r,o])=>[r,ay(o)])):new Map(Object.entries(e[n]));return t}function Ix(e){return Ox(ay(e))}function cy(e,t,n){e.endsWith("/")&&(e=e.slice(0,-1)||"/");const r=[];for(const[s,i]of Dp(t.wildcard))(e===s||e.startsWith(s+"/"))&&r.push(i);for(const[s,i]of Dp(t.dynamic))if(e.startsWith(s+"/")){const l="/"+e.slice(s.length).split("/").splice(2).join("/");r.push(...cy(l,i))}const o=t.static.get(e);return o&&r.push(o),r.filter(Boolean)}function Dp(e){return[...e.entries()].sort((t,n)=>t[0].length-n[0].length)}function uu(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.iterator in e?!1:Symbol.toStringTag in e?Object.prototype.toString.call(e)==="[object Module]":!0}function ud(e,t,n=".",r){if(!uu(t))return ud(e,{},n,r);const o=Object.assign({},t);for(const s in e){if(s==="__proto__"||s==="constructor")continue;const i=e[s];i!=null&&(r&&r(o,s,i,n)||(Array.isArray(i)&&Array.isArray(o[s])?o[s]=[...i,...o[s]]:uu(i)&&uu(o[s])?o[s]=ud(i,o[s],(n?`${n}.`:"")+s.toString(),r):o[s]=i))}return o}function Rx(e){return(...t)=>t.reduce((n,r)=>ud(n,r,"",e),{})}const Dx=Rx();function Lx(e,t){try{return t in e}catch{return!1}}var jx=Object.defineProperty,Px=(e,t,n)=>t in e?jx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ao=(e,t,n)=>(Px(e,typeof t!="symbol"?t+"":t,n),n);class dd extends Error{constructor(t,n={}){super(t,n),ao(this,"statusCode",500),ao(this,"fatal",!1),ao(this,"unhandled",!1),ao(this,"statusMessage"),ao(this,"data"),ao(this,"cause"),n.cause&&!this.cause&&(this.cause=n.cause)}toJSON(){const t={message:this.message,statusCode:fd(this.statusCode,500)};return this.statusMessage&&(t.statusMessage=uy(this.statusMessage)),this.data!==void 0&&(t.data=this.data),t}}ao(dd,"__h3_error__",!0);function Nx(e){if(typeof e=="string")return new dd(e);if(Vx(e))return e;const t=new dd(e.message??e.statusMessage??"",{cause:e.cause||e});if(Lx(e,"stack"))try{Object.defineProperty(t,"stack",{get(){return e.stack}})}catch{try{t.stack=e.stack}catch{}}if(e.data&&(t.data=e.data),e.statusCode?t.statusCode=fd(e.statusCode,t.statusCode):e.status&&(t.statusCode=fd(e.status,t.statusCode)),e.statusMessage?t.statusMessage=e.statusMessage:e.statusText&&(t.statusMessage=e.statusText),t.statusMessage){const n=t.statusMessage;uy(t.statusMessage)!==n&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return e.fatal!==void 0&&(t.fatal=e.fatal),e.unhandled!==void 0&&(t.unhandled=e.unhandled),t}function Vx(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.__h3_error__)===!0}const $x=/[^\u0009\u0020-\u007E]/g;function uy(e=""){return e.replace($x,"")}function fd(e,t=200){return!e||(typeof e=="string"&&(e=Number.parseInt(e,10)),e<100||e>999)?t:e}const dy=Symbol("route"),Do=()=>{var e;return(e=Ct())==null?void 0:e.$router},fy=()=>l_()?Ne(dy,Ct()._route):Ct()._route;const Bx=()=>{try{if(Ct()._processingMiddleware)return!0}catch{return!1}return!1},Hx=(e,t)=>{e||(e="/");const n=typeof e=="string"?e:"path"in e?Fx(e):Do().resolve(e).href;if(t!=null&&t.open){const{target:a="_blank",windowFeatures:c={}}=t.open,u=Object.entries(c).filter(([d,f])=>f!==void 0).map(([d,f])=>`${d.toLowerCase()}=${f}`).join(", ");return open(n,a,u),Promise.resolve()}const r=Ls(n,{acceptRelative:!0}),o=(t==null?void 0:t.external)||r;if(o){if(!(t!=null&&t.external))throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const{protocol:a}=new URL(n,window.location.href);if(a&&Bw(a))throw new Error(`Cannot navigate to a URL with '${a}' protocol.`)}const s=Bx();if(!o&&s)return e;const i=Do(),l=Ct();return o?(l._scope.stop(),t!=null&&t.replace?location.replace(n):location.href=n,s?l.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):t!=null&&t.replace?i.replace(e):i.push(e)};function Fx(e){return X_(e.path||"",e.query||{})+(e.hash||"")}const hy="__nuxt_error",jf=()=>us(Ct().payload,"error"),zx=e=>{const t=Pf(e);try{const n=Ct(),r=jf();n.hooks.callHook("app:error",t),r.value=r.value||t}catch{throw t}return t},Kx=async(e={})=>{const t=Ct(),n=jf();t.callHook("app:error:cleared",e),e.redirect&&await Do().replace(e.redirect),n.value=Ex},Wx=e=>!!e&&typeof e=="object"&&hy in e,Pf=e=>{const t=Nx(e);return Object.defineProperty(t,hy,{value:!0,configurable:!1,writable:!1}),t};function Lp(e){const t=qx(e),n=new ArrayBuffer(t.length),r=new DataView(n);for(let o=0;o<n.byteLength;o++)r.setUint8(o,t.charCodeAt(o));return n}const Ux="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function qx(e){e.length%4===0&&(e=e.replace(/==?$/,""));let t="",n=0,r=0;for(let o=0;o<e.length;o++)n<<=6,n|=Ux.indexOf(e[o]),r+=6,r===24&&(t+=String.fromCharCode((n&16711680)>>16),t+=String.fromCharCode((n&65280)>>8),t+=String.fromCharCode(n&255),n=r=0);return r===12?(n>>=4,t+=String.fromCharCode(n)):r===18&&(n>>=2,t+=String.fromCharCode((n&65280)>>8),t+=String.fromCharCode(n&255)),t}const Gx=-1,Jx=-2,Xx=-3,Yx=-4,Qx=-5,Zx=-6;function eC(e,t){return tC(JSON.parse(e),t)}function tC(e,t){if(typeof e=="number")return o(e,!0);if(!Array.isArray(e)||e.length===0)throw new Error("Invalid input");const n=e,r=Array(n.length);function o(s,i=!1){if(s===Gx)return;if(s===Xx)return NaN;if(s===Yx)return 1/0;if(s===Qx)return-1/0;if(s===Zx)return-0;if(i)throw new Error("Invalid input");if(s in r)return r[s];const l=n[s];if(!l||typeof l!="object")r[s]=l;else if(Array.isArray(l))if(typeof l[0]=="string"){const a=l[0],c=t==null?void 0:t[a];if(c)return r[s]=c(o(l[1]));switch(a){case"Date":r[s]=new Date(l[1]);break;case"Set":const u=new Set;r[s]=u;for(let h=1;h<l.length;h+=1)u.add(o(l[h]));break;case"Map":const d=new Map;r[s]=d;for(let h=1;h<l.length;h+=2)d.set(o(l[h]),o(l[h+1]));break;case"RegExp":r[s]=new RegExp(l[1],l[2]);break;case"Object":r[s]=Object(l[1]);break;case"BigInt":r[s]=BigInt(l[1]);break;case"null":const f=Object.create(null);r[s]=f;for(let h=1;h<l.length;h+=2)f[l[h]]=o(l[h+1]);break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const h=globalThis[a],p=l[1],g=Lp(p),y=new h(g);r[s]=y;break}case"ArrayBuffer":{const h=l[1],p=Lp(h);r[s]=p;break}default:throw new Error(`Unknown type ${a}`)}}else{const a=new Array(l.length);r[s]=a;for(let c=0;c<l.length;c+=1){const u=l[c];u!==Jx&&(a[c]=o(u))}}else{const a={};r[s]=a;for(const c in l){const u=l[c];a[c]=o(u)}}return r[s]}return o(0)}const nC=new Set(["title","titleTemplate","script","style","noscript"]),Ol=new Set(["base","meta","link","style","script","noscript"]),rC=new Set(["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),oC=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),py=new Set(["tagPosition","tagPriority","tagDuplicateStrategy","children","innerHTML","textContent","processTemplateParams"]),sC=typeof window<"u";function da(e){let t=9;for(let n=0;n<e.length;)t=Math.imul(t^e.charCodeAt(n++),9**9);return((t^t>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function hd(e){if(e._h)return e._h;if(e._d)return da(e._d);let t=`${e.tag}:${e.textContent||e.innerHTML||""}:`;for(const n in e.props)t+=`${n}:${String(e.props[n])},`;return da(t)}function iC(e,t){return e instanceof Promise?e.then(t):t(e)}function pd(e,t,n,r){const o=r||gy(typeof t=="object"&&typeof t!="function"&&!(t instanceof Promise)?{...t}:{[e==="script"||e==="noscript"||e==="style"?"innerHTML":"textContent"]:t},e==="templateParams"||e==="titleTemplate");if(o instanceof Promise)return o.then(i=>pd(e,t,n,i));const s={tag:e,props:o};for(const i of py){const l=s.props[i]!==void 0?s.props[i]:n[i];l!==void 0&&((!(i==="innerHTML"||i==="textContent"||i==="children")||nC.has(s.tag))&&(s[i==="children"?"innerHTML":i]=l),delete s.props[i])}return s.props.body&&(s.tagPosition="bodyClose",delete s.props.body),s.tag==="script"&&typeof s.innerHTML=="object"&&(s.innerHTML=JSON.stringify(s.innerHTML),s.props.type=s.props.type||"application/json"),Array.isArray(s.props.content)?s.props.content.map(i=>({...s,props:{...s.props,content:i}})):s}function lC(e,t){var r;const n=e==="class"?" ":";";return t&&typeof t=="object"&&!Array.isArray(t)&&(t=Object.entries(t).filter(([,o])=>o).map(([o,s])=>e==="style"?`${o}:${s}`:o)),(r=String(Array.isArray(t)?t.join(n):t))==null?void 0:r.split(n).filter(o=>!!o.trim()).join(n)}function my(e,t,n,r){for(let o=r;o<n.length;o+=1){const s=n[o];if(s==="class"||s==="style"){e[s]=lC(s,e[s]);continue}if(e[s]instanceof Promise)return e[s].then(i=>(e[s]=i,my(e,t,n,o)));if(!t&&!py.has(s)){const i=String(e[s]),l=s.startsWith("data-");i==="true"||i===""?e[s]=l?"true":!0:e[s]||(l&&i==="false"?e[s]="false":delete e[s])}}}function gy(e,t=!1){const n=my(e,t,Object.keys(e),0);return n instanceof Promise?n.then(()=>e):e}const aC=10;function _y(e,t,n){for(let r=n;r<t.length;r+=1){const o=t[r];if(o instanceof Promise)return o.then(s=>(t[r]=s,_y(e,t,r)));Array.isArray(o)?e.push(...o):e.push(o)}}function cC(e){const t=[],n=e.resolvedInput;for(const o in n){if(!Object.prototype.hasOwnProperty.call(n,o))continue;const s=n[o];if(!(s===void 0||!rC.has(o))){if(Array.isArray(s)){for(const i of s)t.push(pd(o,i,e));continue}t.push(pd(o,s,e))}}if(t.length===0)return[];const r=[];return iC(_y(r,t,0),()=>r.map((o,s)=>(o._e=e._i,e.mode&&(o._m=e.mode),o._p=(e._i<<aC)+s,o)))}const jp=new Set(["onload","onerror","onabort","onprogress","onloadstart"]),Pp={base:-10,title:10},Np={critical:-80,high:-10,low:20};function fa(e){const t=e.tagPriority;if(typeof t=="number")return t;let n=100;return e.tag==="meta"?e.props["http-equiv"]==="content-security-policy"?n=-30:e.props.charset?n=-20:e.props.name==="viewport"&&(n=-15):e.tag==="link"&&e.props.rel==="preconnect"?n=20:e.tag in Pp&&(n=Pp[e.tag]),t&&t in Np?n+Np[t]:n}const uC=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}],dC=["name","property","http-equiv"];function yy(e){const{props:t,tag:n}=e;if(oC.has(n))return n;if(n==="link"&&t.rel==="canonical")return"canonical";if(t.charset)return"charset";if(t.id)return`${n}:id:${t.id}`;for(const r of dC)if(t[r]!==void 0)return`${n}:${r}:${t[r]}`;return!1}const Ir="%separator";function fC(e,t){var r;let n;if(t==="s"||t==="pageTitle")n=e.pageTitle;else if(t.includes(".")){const o=t.indexOf(".");n=(r=e[t.substring(0,o)])==null?void 0:r[t.substring(o+1)]}else n=e[t];return n!==void 0?(n||"").replace(/"/g,'\\"'):void 0}const hC=new RegExp(`${Ir}(?:\\s*${Ir})*`,"g");function al(e,t,n){if(typeof e!="string"||!e.includes("%"))return e;let r=e;try{r=decodeURI(e)}catch{}const o=r.match(/%\w+(?:\.\w+)?/g);if(!o)return e;const s=e.includes(Ir);return e=e.replace(/%\w+(?:\.\w+)?/g,i=>{if(i===Ir||!o.includes(i))return i;const l=fC(t,i.slice(1));return l!==void 0?l:i}).trim(),s&&(e.endsWith(Ir)&&(e=e.slice(0,-Ir.length)),e.startsWith(Ir)&&(e=e.slice(Ir.length)),e=e.replace(hC,n).trim()),e}function Vp(e,t){return e==null?t||null:typeof e=="function"?e(t):e}async function by(e,t={}){const n=t.document||e.resolvedOptions.document;if(!n||!e.dirty)return;const r={shouldRender:!0,tags:[]};if(await e.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return e._domUpdatePromise||(e._domUpdatePromise=new Promise(async o=>{var d;const s=(await e.resolveTags()).map(f=>({tag:f,id:Ol.has(f.tag)?hd(f):f.tag,shouldRender:!0}));let i=e._dom;if(!i){i={elMap:{htmlAttrs:n.documentElement,bodyAttrs:n.body}};const f=new Set;for(const h of["body","head"]){const p=(d=n[h])==null?void 0:d.children;for(const g of p){const y=g.tagName.toLowerCase();if(!Ol.has(y))continue;const _={tag:y,props:await gy(g.getAttributeNames().reduce((T,x)=>({...T,[x]:g.getAttribute(x)}),{})),innerHTML:g.innerHTML},w=yy(_);let b=w,E=1;for(;b&&f.has(b);)b=`${w}:${E++}`;b&&(_._d=b,f.add(b)),i.elMap[g.getAttribute("data-hid")||hd(_)]=g}}}i.pendingSideEffects={...i.sideEffects},i.sideEffects={};function l(f,h,p){const g=`${f}:${h}`;i.sideEffects[g]=p,delete i.pendingSideEffects[g]}function a({id:f,$el:h,tag:p}){const g=p.tag.endsWith("Attrs");if(i.elMap[f]=h,g||(p.textContent&&p.textContent!==h.textContent&&(h.textContent=p.textContent),p.innerHTML&&p.innerHTML!==h.innerHTML&&(h.innerHTML=p.innerHTML),l(f,"el",()=>{var y;(y=i.elMap[f])==null||y.remove(),delete i.elMap[f]})),p._eventHandlers)for(const y in p._eventHandlers)Object.prototype.hasOwnProperty.call(p._eventHandlers,y)&&h.getAttribute(`data-${y}`)!==""&&((p.tag==="bodyAttrs"?n.defaultView:h).addEventListener(y.substring(2),p._eventHandlers[y].bind(h)),h.setAttribute(`data-${y}`,""));for(const y in p.props){if(!Object.prototype.hasOwnProperty.call(p.props,y))continue;const _=p.props[y],w=`attr:${y}`;if(y==="class"){if(!_)continue;for(const b of _.split(" "))g&&l(f,`${w}:${b}`,()=>h.classList.remove(b)),!h.classList.contains(b)&&h.classList.add(b)}else if(y==="style"){if(!_)continue;for(const b of _.split(";")){const E=b.indexOf(":"),T=b.substring(0,E).trim(),x=b.substring(E+1).trim();l(f,`${w}:${T}`,()=>{h.style.removeProperty(T)}),h.style.setProperty(T,x)}}else h.getAttribute(y)!==_&&h.setAttribute(y,_===!0?"":String(_)),g&&l(f,w,()=>h.removeAttribute(y))}}const c=[],u={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const f of s){const{tag:h,shouldRender:p,id:g}=f;if(p){if(h.tag==="title"){n.title=h.textContent;continue}f.$el=f.$el||i.elMap[g],f.$el?a(f):Ol.has(h.tag)&&c.push(f)}}for(const f of c){const h=f.tag.tagPosition||"head";f.$el=n.createElement(f.tag.tag),a(f),u[h]=u[h]||n.createDocumentFragment(),u[h].appendChild(f.$el)}for(const f of s)await e.hooks.callHook("dom:renderTag",f,n,l);u.head&&n.head.appendChild(u.head),u.bodyOpen&&n.body.insertBefore(u.bodyOpen,n.body.firstChild),u.bodyClose&&n.body.appendChild(u.bodyClose);for(const f in i.pendingSideEffects)i.pendingSideEffects[f]();e._dom=i,await e.hooks.callHook("dom:rendered",{renders:s}),o()}).finally(()=>{e._domUpdatePromise=void 0,e.dirty=!1})),e._domUpdatePromise}function pC(e,t={}){const n=t.delayFn||(r=>setTimeout(r,10));return e._domDebouncedUpdatePromise=e._domDebouncedUpdatePromise||new Promise(r=>n(()=>by(e,t).then(()=>{delete e._domDebouncedUpdatePromise,r()})))}function mC(e){return t=>{var r,o;const n=((o=(r=t.resolvedOptions.document)==null?void 0:r.head.querySelector('script[id="unhead:payload"]'))==null?void 0:o.innerHTML)||!1;return n&&t.push(JSON.parse(n)),{mode:"client",hooks:{"entries:updated":s=>{pC(s,e)}}}}}const gC=new Set(["templateParams","htmlAttrs","bodyAttrs"]),_C={hooks:{"tag:normalise":({tag:e})=>{e.props.hid&&(e.key=e.props.hid,delete e.props.hid),e.props.vmid&&(e.key=e.props.vmid,delete e.props.vmid),e.props.key&&(e.key=e.props.key,delete e.props.key);const t=yy(e);t&&!t.startsWith("meta:og:")&&!t.startsWith("meta:twitter:")&&delete e.key;const n=t||(e.key?`${e.tag}:${e.key}`:!1);n&&(e._d=n)},"tags:resolve":e=>{const t=Object.create(null);for(const r of e.tags){const o=(r.key?`${r.tag}:${r.key}`:r._d)||hd(r),s=t[o];if(s){let l=r==null?void 0:r.tagDuplicateStrategy;if(!l&&gC.has(r.tag)&&(l="merge"),l==="merge"){const a=s.props;a.style&&r.props.style&&(a.style[a.style.length-1]!==";"&&(a.style+=";"),r.props.style=`${a.style} ${r.props.style}`),a.class&&r.props.class?r.props.class=`${a.class} ${r.props.class}`:a.class&&(r.props.class=a.class),t[o].props={...a,...r.props};continue}else if(r._e===s._e){s._duped=s._duped||[],r._d=`${s._d}:${s._duped.length+1}`,s._duped.push(r);continue}else if(fa(r)>fa(s))continue}if(!(r.innerHTML||r.textContent||Object.keys(r.props).length!==0)&&Ol.has(r.tag)){delete t[o];continue}t[o]=r}const n=[];for(const r in t){const o=t[r],s=o._duped;n.push(o),s&&(delete o._duped,n.push(...s))}e.tags=n,e.tags=e.tags.filter(r=>!(r.tag==="meta"&&(r.props.name||r.props.property)&&!r.props.content))}}},yC=new Set(["script","link","bodyAttrs"]),bC=e=>({hooks:{"tags:resolve":t=>{for(const n of t.tags){if(!yC.has(n.tag))continue;const r=n.props;for(const o in r){if(o[0]!=="o"||o[1]!=="n"||!Object.prototype.hasOwnProperty.call(r,o))continue;const s=r[o];typeof s=="function"&&(e.ssr&&jp.has(o)?r[o]=`this.dataset.${o}fired = true`:delete r[o],n._eventHandlers=n._eventHandlers||{},n._eventHandlers[o]=s)}e.ssr&&n._eventHandlers&&(n.props.src||n.props.href)&&(n.key=n.key||da(n.props.src||n.props.href))}},"dom:renderTag":({$el:t,tag:n})=>{var o,s;const r=t==null?void 0:t.dataset;if(r)for(const i in r){if(!i.endsWith("fired"))continue;const l=i.slice(0,-5);jp.has(l)&&((s=(o=n._eventHandlers)==null?void 0:o[l])==null||s.call(t,new Event(l.substring(2))))}}}}),vC=new Set(["link","style","script","noscript"]),EC={hooks:{"tag:normalise":({tag:e})=>{e.key&&vC.has(e.tag)&&(e.props["data-hid"]=e._h=da(e.key))}}},kC={mode:"server",hooks:{"tags:beforeResolve":e=>{const t={};let n=!1;for(const r of e.tags)r._m!=="server"||r.tag!=="titleTemplate"&&r.tag!=="templateParams"&&r.tag!=="title"||(t[r.tag]=r.tag==="title"||r.tag==="titleTemplate"?r.textContent:r.props,n=!0);n&&e.tags.push({tag:"script",innerHTML:JSON.stringify(t),props:{id:"unhead:payload",type:"application/json"}})}}},wC={hooks:{"tags:resolve":e=>{var t;for(const n of e.tags)if(typeof n.tagPriority=="string")for(const{prefix:r,offset:o}of uC){if(!n.tagPriority.startsWith(r))continue;const s=n.tagPriority.substring(r.length),i=(t=e.tags.find(l=>l._d===s))==null?void 0:t._p;if(i!==void 0){n._p=i+o;break}}e.tags.sort((n,r)=>{const o=fa(n),s=fa(r);return o<s?-1:o>s?1:n._p-r._p})}}},xC={meta:"content",link:"href",htmlAttrs:"lang"},CC=["innerHTML","textContent"],TC=e=>({hooks:{"tags:resolve":t=>{var i;const{tags:n}=t;let r;for(let l=0;l<n.length;l+=1)n[l].tag==="templateParams"&&(r=t.tags.splice(l,1)[0].props,l-=1);const o=r||{},s=o.separator||"|";delete o.separator,o.pageTitle=al(o.pageTitle||((i=n.find(l=>l.tag==="title"))==null?void 0:i.textContent)||"",o,s);for(const l of n){if(l.processTemplateParams===!1)continue;const a=xC[l.tag];if(a&&typeof l.props[a]=="string")l.props[a]=al(l.props[a],o,s);else if(l.processTemplateParams||l.tag==="titleTemplate"||l.tag==="title")for(const c of CC)typeof l[c]=="string"&&(l[c]=al(l[c],o,s))}e._templateParams=o,e._separator=s},"tags:afterResolve":({tags:t})=>{let n;for(let r=0;r<t.length;r+=1){const o=t[r];o.tag==="title"&&o.processTemplateParams!==!1&&(n=o)}n!=null&&n.textContent&&(n.textContent=al(n.textContent,e._templateParams,e._separator))}}}),SC={hooks:{"tags:resolve":e=>{const{tags:t}=e;let n,r;for(let o=0;o<t.length;o+=1){const s=t[o];s.tag==="title"?n=s:s.tag==="titleTemplate"&&(r=s)}if(r&&n){const o=Vp(r.textContent,n.textContent);o!==null?n.textContent=o||n.textContent:e.tags.splice(e.tags.indexOf(n),1)}else if(r){const o=Vp(r.textContent);o!==null&&(r.textContent=o,r.tag="title",r=void 0)}r&&e.tags.splice(e.tags.indexOf(r),1)}}},MC={hooks:{"tags:afterResolve":e=>{for(const t of e.tags)typeof t.innerHTML=="string"&&(t.innerHTML&&(t.props.type==="application/ld+json"||t.props.type==="application/json")?t.innerHTML=t.innerHTML.replace(/</g,"\\u003C"):t.innerHTML=t.innerHTML.replace(new RegExp(`</${t.tag}`,"g"),`<\\/${t.tag}`))}}};let vy;function AC(e={}){const t=OC(e);return t.use(mC()),vy=t}function $p(e,t){return!e||e==="server"&&t||e==="client"&&!t}function OC(e={}){const t=oy();t.addHooks(e.hooks||{}),e.document=e.document||(sC?document:void 0);const n=!e.document,r=()=>{l.dirty=!0,t.callHook("entries:updated",l)};let o=0,s=[];const i=[],l={plugins:i,dirty:!1,resolvedOptions:e,hooks:t,headEntries(){return s},use(a){const c=typeof a=="function"?a(l):a;(!c.key||!i.some(u=>u.key===c.key))&&(i.push(c),$p(c.mode,n)&&t.addHooks(c.hooks||{}))},push(a,c){c==null||delete c.head;const u={_i:o++,input:a,...c};return $p(u.mode,n)&&(s.push(u),r()),{dispose(){s=s.filter(d=>d._i!==u._i),r()},patch(d){for(const f of s)f._i===u._i&&(f.input=u.input=d);r()}}},async resolveTags(){const a={tags:[],entries:[...s]};await t.callHook("entries:resolve",a);for(const c of a.entries){const u=c.resolvedInput||c.input;if(c.resolvedInput=await(c.transform?c.transform(u):u),c.resolvedInput)for(const d of await cC(c)){const f={tag:d,entry:c,resolvedOptions:l.resolvedOptions};await t.callHook("tag:normalise",f),a.tags.push(f.tag)}}return await t.callHook("tags:beforeResolve",a),await t.callHook("tags:resolve",a),await t.callHook("tags:afterResolve",a),a.tags},ssr:n};return[_C,kC,bC,EC,wC,TC,SC,MC,...(e==null?void 0:e.plugins)||[]].forEach(a=>l.use(a)),l.hooks.callHook("init",l),l}function IC(){return vy}const RC=R_[0]==="3";function DC(e){return typeof e=="function"?e():S(e)}function md(e){if(e instanceof Promise||e instanceof Date||e instanceof RegExp)return e;const t=DC(e);if(!e||!t)return t;if(Array.isArray(t))return t.map(n=>md(n));if(typeof t=="object"){const n={};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(r==="titleTemplate"||r[0]==="o"&&r[1]==="n"){n[r]=S(t[r]);continue}n[r]=md(t[r])}return n}return t}const LC={hooks:{"entries:resolve":e=>{for(const t of e.entries)t.resolvedInput=md(t.input)}}},Ey="usehead";function jC(e){return{install(n){RC&&(n.config.globalProperties.$unhead=e,n.config.globalProperties.$head=e,n.provide(Ey,e))}}.install}function PC(e={}){e.domDelayFn=e.domDelayFn||(n=>Gt(()=>setTimeout(()=>n(),0)));const t=AC(e);return t.use(LC),t.install=jC(t),t}const gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_d="__unhead_injection_handler__";function NC(e){gd[_d]=e}function UB(){if(_d in gd)return gd[_d]();const e=Ne(Ey);return e||IC()}let Il,Rl;function VC(){return Il=$fetch(Lf(`builds/meta/${bi().app.buildId}.json`),{responseType:"json"}),Il.then(e=>{Rl=Ix(e.matcher)}).catch(e=>{console.error("[nuxt] Error fetching app manifest.",e)}),Il}function Mc(){return Il||VC()}async function Nf(e){if(await Mc(),!Rl)return console.error("[nuxt] Error creating app manifest matcher.",Rl),{};try{return Dx({},...Rl.matchAll(e).reverse())}catch(t){return console.error("[nuxt] Error matching route rules.",t),{}}}async function Bp(e,t={}){const n=await BC(e,t),r=Ct(),o=r._payloadCache=r._payloadCache||{};return n in o||(o[n]=wy(e).then(s=>s?ky(n).then(i=>i||(delete o[n],null)):(o[n]=null,null))),o[n]}const $C="_payload.json";async function BC(e,t={}){const n=new URL(e,"http://localhost");if(n.host!=="localhost"||Ls(n.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+e);const r=bi(),o=t.hash||(t.fresh?Date.now():r.app.buildId),s=r.app.cdnURL,i=s&&await wy(e)?s:r.app.baseURL;return Sc(i,n.pathname,$C+(o?`?${o}`:""))}async function ky(e){const t=fetch(e).then(n=>n.text().then(xy));try{return await t}catch(n){console.warn("[nuxt] Cannot load payload ",e,n)}return null}async function wy(e=fy().path){if(e=Df(e),(await Mc()).prerendered.includes(e))return!0;const n=await Nf(e);return!!n.prerender&&!n.redirect}let io=null;async function HC(){var r;if(io)return io;const e=document.getElementById("__NUXT_DATA__");if(!e)return{};const t=await xy(e.textContent||""),n=e.dataset.src?await ky(e.dataset.src):void 0;return io={...t,...n,...window.__NUXT__},(r=io.config)!=null&&r.public&&(io.config.public=vn(io.config.public)),io}async function xy(e){return await eC(e,Ct()._payloadRevivers)}function FC(e,t){Ct()._payloadRevivers[e]=t}const Hp={NuxtError:e=>Pf(e),EmptyShallowRef:e=>Jl(e==="_"?void 0:e==="0n"?BigInt(0):ia(e)),EmptyRef:e=>Q(e==="_"?void 0:e==="0n"?BigInt(0):ia(e)),ShallowRef:e=>Jl(e),ShallowReactive:e=>ss(e),Ref:e=>Q(e),Reactive:e=>vn(e)},zC=eo({name:"nuxt:revive-payload:client",order:-30,async setup(e){let t,n;for(const r in Hp)FC(r,Hp[r]);Object.assign(e.payload,([t,n]=sy(()=>e.runWithContext(HC)),t=await t,n(),t)),window.__NUXT__=e.payload}});let KC;function WC(){return KC}function UC(e){return typeof e=="function"?e():S(e)}function yd(e){if(e instanceof Promise||e instanceof Date||e instanceof RegExp)return e;const t=UC(e);if(!e||!t)return t;if(Array.isArray(t))return t.map(n=>yd(n));if(typeof t=="object"){const n={};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(r==="titleTemplate"||r[0]==="o"&&r[1]==="n"){n[r]=S(t[r]);continue}n[r]=yd(t[r])}return n}return t}const qC="usehead",Fp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zp="__unhead_injection_handler__";function GC(){if(zp in Fp)return Fp[zp]();const e=Ne(qC);return e||WC()}function JC(e,t={}){const n=t.head||GC();if(n)return n.ssr?n.push(e,t):XC(n,e,t)}function XC(e,t,n={}){const r=Q(!1),o=Q({});Af(()=>{o.value=r.value?{}:yd(t)});const s=e.push(o.value,n);return ze(o,l=>{s.patch(l)}),Zr()&&(kn(()=>{s.dispose()}),G0(()=>{r.value=!0}),q0(()=>{r.value=!1})),s}const YC=[],QC=eo({name:"nuxt:head",enforce:"pre",setup(e){const t=PC({plugins:YC});NC(()=>Ct().vueApp._context.provides.usehead),e.vueApp.use(t);{let n=!0;const r=async()=>{n=!1,await by(t)};t.hooks.hook("dom:beforeRender",o=>{o.shouldRender=!n}),e.hooks.hook("page:start",()=>{n=!0}),e.hooks.hook("page:finish",()=>{e.isHydrating||r()}),e.hooks.hook("app:error",r),e.hooks.hook("app:suspense:resolve",r)}}}),ZC=async e=>{let t,n;const r=([t,n]=sy(()=>Nf(e.path)),t=await t,n(),t);if(r.redirect)return Ls(r.redirect,{acceptRelative:!0})?(window.location.href=r.redirect,!1):r.redirect},eT=[ZC];function du(e){typeof e=="object"&&(e=ey({pathname:e.path||"",search:J_(e.query||{}),hash:e.hash||""}));const t=new URL(e.toString(),window.location.href);return{path:t.pathname,fullPath:e,query:G_(t.search),hash:t.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:e}}const tT=eo({name:"nuxt:router",enforce:"pre",setup(e){const t=zw(window.location.pathname,bi().app.baseURL)+window.location.search+window.location.hash,n=[],r={"navigate:before":[],"resolve:before":[],"navigate:after":[],error:[]},o=(d,f)=>(r[d].push(f),()=>r[d].splice(r[d].indexOf(f),1)),s=bi().app.baseURL,i=vn(du(t));async function l(d,f){try{const h=du(d);for(const p of r["navigate:before"]){const g=await p(h,i);if(g===!1||g instanceof Error)return;if(typeof g=="string"&&g.length)return l(g,!0)}for(const p of r["resolve:before"])await p(h,i);Object.assign(i,h),window.history[f?"replaceState":"pushState"]({},"",Sc(s,h.fullPath)),e.isHydrating||await e.runWithContext(Kx);for(const p of r["navigate:after"])await p(h,i)}catch(h){for(const p of r.error)await p(h)}}const c={currentRoute:Ee(()=>i),isReady:()=>Promise.resolve(),options:{},install:()=>Promise.resolve(),push:d=>l(d,!1),replace:d=>l(d,!0),back:()=>window.history.go(-1),go:d=>window.history.go(d),forward:()=>window.history.go(1),beforeResolve:d=>o("resolve:before",d),beforeEach:d=>o("navigate:before",d),afterEach:d=>o("navigate:after",d),onError:d=>o("error",d),resolve:du,addRoute:(d,f)=>{n.push(f)},getRoutes:()=>n,hasRoute:d=>n.some(f=>f.name===d),removeRoute:d=>{const f=n.findIndex(h=>h.name===d);f!==-1&&n.splice(f,1)}};e.vueApp.component("RouterLink",Se({functional:!0,props:{to:{type:String,required:!0},custom:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:String},setup:(d,{slots:f})=>{const h=()=>l(d.to,d.replace);return()=>{var g;const p=c.resolve(d.to);return d.custom?(g=f.default)==null?void 0:g.call(f,{href:d.to,navigate:h,route:p}):Ds("a",{href:d.to,onClick:y=>(y.preventDefault(),h())},f)}}})),window.addEventListener("popstate",d=>{const f=d.target.location;c.replace(f.href.replace(f.origin,""))}),e._route=i,e._middleware=e._middleware||{global:[],named:{}};const u=e.payload.state._layout;return e.hooks.hookOnce("app:created",async()=>{c.beforeEach(async(d,f)=>{d.meta=vn(d.meta||{}),e.isHydrating&&u&&!Ur(d.meta.layout)&&(d.meta.layout=u),e._processingMiddleware=!0;{const h=new Set([...eT,...e._middleware.global]);{const p=await e.runWithContext(()=>Nf(d.path));if(p.appMiddleware)for(const g in p.appMiddleware){const y=e._middleware.named[g];if(!y)return;p.appMiddleware[g]?h.add(y):h.delete(y)}}for(const p of h){const g=await e.runWithContext(()=>p(d,f));if(g!==!0&&(g||g===!1))return g}}}),c.afterEach(()=>{delete e._processingMiddleware}),await c.replace(t),Ww(i.fullPath,t)||await e.runWithContext(()=>Hx(i.fullPath))}),{provide:{route:i,router:c}}}}),Kp=globalThis.requestIdleCallback||(e=>{const t=Date.now(),n={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))};return setTimeout(()=>{e(n)},1)}),qB=globalThis.cancelIdleCallback||(e=>{clearTimeout(e)}),Vf=e=>{const t=Ct();t.isHydrating?t.hooks.hookOnce("app:suspense:resolve",()=>{Kp(()=>e())}):Kp(()=>e())},nT=eo({name:"nuxt:payload",setup(e){Do().beforeResolve(async(t,n)=>{if(t.path===n.path)return;const r=await Bp(t.path);r&&Object.assign(e.static.data,r.data)}),Vf(()=>{var t;e.hooks.hook("link:prefetch",async n=>{const{hostname:r}=new URL(n,window.location.href);r===window.location.hostname&&await Bp(n)}),((t=navigator.connection)==null?void 0:t.effectiveType)!=="slow-2g"&&setTimeout(Mc,1e3)})}}),rT=eo(()=>{const e=Do();Vf(()=>{e.beforeResolve(async()=>{await new Promise(t=>{setTimeout(t,100),requestAnimationFrame(()=>{setTimeout(t,0)})})})})}),oT=eo(e=>{let t;async function n(){const r=await Mc();t&&clearTimeout(t),t=setTimeout(n,Ip);try{const o=await $fetch(Lf("builds/latest.json")+`?${Date.now()}`);o.id!==r.id&&e.hooks.callHook("app:manifest:update",o)}catch{}}Vf(()=>{t=setTimeout(n,Ip)})});function sT(e={}){const t=e.path||window.location.pathname;let n={};try{n=ia(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(e.force||(n==null?void 0:n.path)!==t||(n==null?void 0:n.expires)<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:t,expires:Date.now()+(e.ttl??1e4)}))}catch{}if(e.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:Ct().payload.state}))}catch{}window.location.pathname!==t?window.location.href=t:window.location.reload()}}const iT=eo({name:"nuxt:chunk-reload",setup(e){const t=Do(),n=bi(),r=new Set;t.beforeEach(()=>{r.clear()}),e.hook("app:chunkError",({error:s})=>{r.add(s)});function o(s){const l="href"in s&&s.href[0]==="#"?n.app.baseURL+s.href:Sc(n.app.baseURL,s.fullPath);sT({path:l,persistState:!0})}e.hook("app:manifest:update",()=>{t.beforeResolve(o)}),t.onError((s,i)=>{r.has(s)&&o(i)})}}),lT="modulepreload",aT=function(e,t){return new URL(e,t).href},Wp={},m=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){const i=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),a=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));o=Promise.allSettled(n.map(c=>{if(c=aT(c,r),c in Wp)return;Wp[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(!!r)for(let p=i.length-1;p>=0;p--){const g=i[p];if(g.href===c&&(!u||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":lT,u||(h.as="script"),h.crossOrigin="",h.href=c,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((p,g)=>{h.addEventListener("load",p),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return o.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},cT=Je(()=>m(()=>import("./DWuLgtwn.js"),__vite__mapDeps([0,1]),import.meta.url).then(e=>e.default||e.default||e)),uT=Je(()=>m(()=>import("./DioyoAe2.js"),[],import.meta.url).then(e=>e.default||e.default||e)),dT=Je(()=>m(()=>import("./Eekt0aoO.js"),[],import.meta.url).then(e=>e.default||e.default||e)),fT=Je(()=>m(()=>import("./BoHwljLj.js"),[],import.meta.url).then(e=>e.default||e.default||e)),hT=Je(()=>m(()=>import("./yag8oBXn.js"),__vite__mapDeps([2,3,4,0,1,5]),import.meta.url).then(e=>e.default||e.default||e)),pT=Je(()=>m(()=>import("./Bnf_lRQy.js").then(e=>e.a),__vite__mapDeps([3,4,0,1,5]),import.meta.url).then(e=>e.default||e.default||e)),mT=Je(()=>m(()=>import("./C5S3QxEl.js"),[],import.meta.url).then(e=>e.default||e.default||e)),gT=Je(()=>m(()=>import("./nEDlxHUw.js"),__vite__mapDeps([6,4]),import.meta.url).then(e=>e.default||e.default||e)),_T=Je(()=>m(()=>import("./DgekS1_2.js"),[],import.meta.url).then(e=>e.default||e.default||e)),yT=Je(()=>m(()=>import("./Bo4MLxVo.js"),[],import.meta.url).then(e=>e.default||e.default||e)),bT=Je(()=>m(()=>import("./Cgtb3fwY.js"),[],import.meta.url).then(e=>e.default||e.default||e)),vT=Je(()=>m(()=>import("./D7DvOe6j.js"),[],import.meta.url).then(e=>e.default||e.default||e)),ET=Je(()=>m(()=>import("./CMAC6f-8.js"),__vite__mapDeps([7,8,4]),import.meta.url).then(e=>e.default||e.default||e)),kT=Je(()=>m(()=>import("./zksowYXp.js"),__vite__mapDeps([9,8,4]),import.meta.url).then(e=>e.default||e.default||e)),wT=Je(()=>m(()=>import("./DXHdRT6l.js"),[],import.meta.url).then(e=>e.default||e.default||e)),xT=Je(()=>m(()=>import("./Crk_eptU.js"),[],import.meta.url).then(e=>e.default||e.default||e)),CT=Je(()=>m(()=>import("./lZMyEYD0.js"),[],import.meta.url).then(e=>e.default||e.default||e)),TT=Je(()=>m(()=>import("./LaZEGFFC.js"),[],import.meta.url).then(e=>e.default||e.default||e)),ST=Je(()=>m(()=>import("./De0htrrL.js"),[],import.meta.url).then(e=>e.default||e.default||e)),MT=Je(()=>m(()=>import("./B43hAvD0.js"),[],import.meta.url).then(e=>e.default||e.default||e)),AT=Je(()=>m(()=>import("./57bnl5KH.js"),[],import.meta.url).then(e=>e.default||e.default||e)),OT=Je(()=>m(()=>import("./Ba8EMM2w.js"),[],import.meta.url).then(e=>e.default||e.default||e)),IT=Je(()=>m(()=>import("./Cr-qRE38.js"),[],import.meta.url).then(e=>e.default||e.default||e)),RT=[["WAria",cT],["WIcon",uT],["WButton",dT],["WCheckbox",fT],["WColorInput",hT],["WColorPicker",pT],["WDarkModeSwitcher",mT],["WDebug",gT],["WFileInput",_T],["WInput",yT],["WLabel",bT],["WMultiValues",vT],["WNotification",ET],["WNotifications",kT],["WPagination",wT],["WPalette",xT],["WPopup",CT],["WProgressBar",TT],["WRecorder",ST],["WSimpleInput",MT],["WSuggestions",AT],["WTable",OT],["WTestWrapper",IT]],DT=eo({name:"nuxt:global-components",setup(e){for(const[t,n]of RT)e.vueApp.component(t,n),e.vueApp.component("Lazy"+t,n)}}),LT=[zC,QC,tT,nT,rT,oT,iT,DT],jT=Symbol.for("nuxt:client-only"),PT=Se({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(e,{slots:t,attrs:n}){const r=Q(!1);return St(()=>{r.value=!0}),tt(jT,!0),o=>{var a;if(r.value)return(a=t.default)==null?void 0:a.call(t);const s=t.fallback||t.placeholder;if(s)return s();const i=o.fallback||o.placeholder||"",l=o.fallbackTag||o.placeholderTag||"span";return ee(l,n,i)}}}),NT={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 512 512"};function VT(e,t){return z(),ee("svg",NT,t[0]||(t[0]=[le("path",{fill:"currentColor",d:"M448 256c0-106-86-192-192-192v384c106 0 192-86 192-192M0 256a256 256 0 1 1 512 0a256 256 0 1 1-512 0"},null,-1)]))}const $T=Me({name:"fa6-solid-circle-half-stroke",render:VT}),BT={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 256 256"};function HT(e,t){return z(),ee("svg",BT,t[0]||(t[0]=[le("path",{fill:"currentColor",d:"M116 36V20a12 12 0 0 1 24 0v16a12 12 0 0 1-24 0m80 92a68 68 0 1 1-68-68a68.07 68.07 0 0 1 68 68m-24 0a44 44 0 1 0-44 44a44.05 44.05 0 0 0 44-44M51.51 68.49a12 12 0 1 0 17-17l-12-12a12 12 0 0 0-17 17Zm0 119l-12 12a12 12 0 0 0 17 17l12-12a12 12 0 1 0-17-17M196 72a12 12 0 0 0 8.49-3.51l12-12a12 12 0 0 0-17-17l-12 12A12 12 0 0 0 196 72m8.49 115.51a12 12 0 0 0-17 17l12 12a12 12 0 0 0 17-17ZM48 128a12 12 0 0 0-12-12H20a12 12 0 0 0 0 24h16a12 12 0 0 0 12-12m80 80a12 12 0 0 0-12 12v16a12 12 0 0 0 24 0v-16a12 12 0 0 0-12-12m108-92h-16a12 12 0 0 0 0 24h16a12 12 0 0 0 0-24"},null,-1)]))}const FT=Me({name:"ph-sun-bold",render:HT}),zT={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 512 512"};function KT(e,t){return z(),ee("svg",zT,t[0]||(t[0]=[le("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792c7.068-8.708-.639-21.43-11.562-19.35c-124.203 23.654-238.262-71.576-238.262-196.954c0-72.222 38.662-138.635 101.498-174.394c9.686-5.512 7.25-20.197-3.756-22.23A258 258 0 0 0 283.211 0c-141.309 0-256 114.511-256 256c0 141.309 114.511 256 256 256"},null,-1)]))}const WT=Me({name:"fa-solid-moon",render:KT}),Up="prefersColorSchemeDark",Cy=["system","dark","light"],UT=Symbol("isDarkMode"),qT=({useLocalStorage:e,darkModeOrder:t=Cy}={})=>{const n=Q(!1),r=Q(void 0);ze(()=>e&&r,()=>{e!==!1&&localStorage.setItem(Up,r.value?"true":"false")});const o=Ee(()=>r.value??n.value),s=Ee(()=>r.value===void 0?"system":r.value?"dark":"light");function i(a){r.value=a==="dark"?!0:a==="light"?!1:void 0}function l(){const a=t.indexOf(s.value);i(a===2?t[0]:t[a+1])}return St(()=>{if(window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:a})=>{a?n.value=!0:n.value=!1}),e!==!1){const a=typeof e=="string"?e:Up,c=localStorage.getItem(a);c==="true"?r.value=!0:c==="false"&&(r.value=!1)}}),tt(UT,o),{darkMode:o,darkModeState:s,setDarkMode:i,cycleDarkMode:l,manualDarkMode:r,systemDarkMode:n}},GT=Cy,$f="-",JT=e=>{const t=YT(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const l=i.split($f);return l[0]===""&&l.length!==1&&l.shift(),Ty(l,t)||XT(i)},getConflictingClassGroupIds:(i,l)=>{const a=n[i]||[];return l&&r[i]?[...a,...r[i]]:a}}},Ty=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?Ty(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const s=e.join($f);return(i=t.validators.find(({validator:l})=>l(s)))==null?void 0:i.classGroupId},qp=/^\[(.+)\]$/,XT=e=>{if(qp.test(e)){const t=qp.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},YT=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return ZT(Object.entries(e.classGroups),n).forEach(([s,i])=>{bd(i,r,s,t)}),r},bd=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const s=o===""?t:Gp(t,o);s.classGroupId=n;return}if(typeof o=="function"){if(QT(o)){bd(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([s,i])=>{bd(i,Gp(t,s),n,r)})})},Gp=(e,t)=>{let n=e;return t.split($f).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},QT=e=>e.isThemeGetter,ZT=(e,t)=>t?e.map(([n,r])=>{const o=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,l])=>[t+i,l])):s);return[n,o]}):e,eS=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(s,i)=>{n.set(s,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let i=n.get(s);if(i!==void 0)return i;if((i=r.get(s))!==void 0)return o(s,i),i},set(s,i){n.has(s)?n.set(s,i):o(s,i)}}},Sy="!",tS=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],s=t.length,i=l=>{const a=[];let c=0,u=0,d;for(let y=0;y<l.length;y++){let _=l[y];if(c===0){if(_===o&&(r||l.slice(y,y+s)===t)){a.push(l.slice(u,y)),u=y+s;continue}if(_==="/"){d=y;continue}}_==="["?c++:_==="]"&&c--}const f=a.length===0?l:l.substring(u),h=f.startsWith(Sy),p=h?f.substring(1):f,g=d&&d>u?d-u:void 0;return{modifiers:a,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:i}):i},nS=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},rS=e=>({cache:eS(e.cacheSize),parseClassName:tS(e),...JT(e)}),oS=/\s+/,sS=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,s=[],i=e.trim().split(oS);let l="";for(let a=i.length-1;a>=0;a-=1){const c=i[a],{modifiers:u,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:h}=n(c);let p=!!h,g=r(p?f.substring(0,h):f);if(!g){if(!p){l=c+(l.length>0?" "+l:l);continue}if(g=r(f),!g){l=c+(l.length>0?" "+l:l);continue}p=!1}const y=nS(u).join(":"),_=d?y+Sy:y,w=_+g;if(s.includes(w))continue;s.push(w);const b=o(g,p);for(let E=0;E<b.length;++E){const T=b[E];s.push(_+T)}l=c+(l.length>0?" "+l:l)}return l};function iS(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=My(t))&&(r&&(r+=" "),r+=n);return r}const My=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=My(e[r]))&&(n&&(n+=" "),n+=t);return n};function vd(e,...t){let n,r,o,s=i;function i(a){const c=t.reduce((u,d)=>d(u),e());return n=rS(c),r=n.cache.get,o=n.cache.set,s=l,l(a)}function l(a){const c=r(a);if(c)return c;const u=sS(a,n);return o(a,u),u}return function(){return s(iS.apply(null,arguments))}}const Ge=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Ay=/^\[(?:([a-z-]+):)?(.+)\]$/i,lS=/^\d+\/\d+$/,aS=new Set(["px","full","screen"]),cS=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,uS=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dS=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,fS=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hS=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,er=e=>hs(e)||aS.has(e)||lS.test(e),wr=e=>js(e,"length",ES),hs=e=>!!e&&!Number.isNaN(Number(e)),fu=e=>js(e,"number",hs),Hs=e=>!!e&&Number.isInteger(Number(e)),pS=e=>e.endsWith("%")&&hs(e.slice(0,-1)),we=e=>Ay.test(e),xr=e=>cS.test(e),mS=new Set(["length","size","percentage"]),gS=e=>js(e,mS,Oy),_S=e=>js(e,"position",Oy),yS=new Set(["image","url"]),bS=e=>js(e,yS,wS),vS=e=>js(e,"",kS),Fs=()=>!0,js=(e,t,n)=>{const r=Ay.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},ES=e=>uS.test(e)&&!dS.test(e),Oy=()=>!1,kS=e=>fS.test(e),wS=e=>hS.test(e),Ed=()=>{const e=Ge("colors"),t=Ge("spacing"),n=Ge("blur"),r=Ge("brightness"),o=Ge("borderColor"),s=Ge("borderRadius"),i=Ge("borderSpacing"),l=Ge("borderWidth"),a=Ge("contrast"),c=Ge("grayscale"),u=Ge("hueRotate"),d=Ge("invert"),f=Ge("gap"),h=Ge("gradientColorStops"),p=Ge("gradientColorStopPositions"),g=Ge("inset"),y=Ge("margin"),_=Ge("opacity"),w=Ge("padding"),b=Ge("saturate"),E=Ge("scale"),T=Ge("sepia"),x=Ge("skew"),D=Ge("space"),N=Ge("translate"),M=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",we,t],v=()=>[we,t],L=()=>["",er,wr],H=()=>["auto",hs,we],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],P=()=>["solid","dashed","dotted","double","none"],k=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",we],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[hs,we];return{cacheSize:500,separator:":",theme:{colors:[Fs],spacing:[er,wr],blur:["none","",xr,we],brightness:ie(),borderColor:[e],borderRadius:["none","","full",xr,we],borderSpacing:v(),borderWidth:L(),contrast:ie(),grayscale:K(),hueRotate:ie(),invert:K(),gap:v(),gradientColorStops:[e],gradientColorStopPositions:[pS,wr],inset:$(),margin:$(),opacity:ie(),padding:v(),saturate:ie(),scale:ie(),sepia:K(),skew:ie(),space:v(),translate:v()},classGroups:{aspect:[{aspect:["auto","square","video",we]}],container:["container"],columns:[{columns:[xr]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),we]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Hs,we]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",we]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",Hs,we]}],"grid-cols":[{"grid-cols":[Fs]}],"col-start-end":[{col:["auto",{span:["full",Hs,we]},we]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Fs]}],"row-start-end":[{row:["auto",{span:[Hs,we]},we]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",we]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",we]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",we,t]}],"min-w":[{"min-w":[we,t,"min","max","fit"]}],"max-w":[{"max-w":[we,t,"none","full","min","max","fit","prose",{screen:[xr]},xr]}],h:[{h:[we,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[we,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[we,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[we,t,"auto","min","max","fit"]}],"font-size":[{text:["base",xr,wr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",fu]}],"font-family":[{font:[Fs]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",we]}],"line-clamp":[{"line-clamp":["none",hs,fu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",er,we]}],"list-image":[{"list-image":["none",we]}],"list-style-type":[{list:["none","disc","decimal",we]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...P(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",er,wr]}],"underline-offset":[{"underline-offset":["auto",er,we]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:v()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),_S]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",gS]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},bS]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...P(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:P()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...P()]}],"outline-offset":[{"outline-offset":[er,we]}],"outline-w":[{outline:[er,wr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[er,wr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",xr,vS]}],"shadow-color":[{shadow:[Fs]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...k(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":k()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[a]}],"drop-shadow":[{"drop-shadow":["","none",xr,we]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[a]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",we]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",we]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",we]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[Hs,we]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[x]}],"skew-y":[{"skew-y":[x]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",we]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",we]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":v()}],"scroll-mx":[{"scroll-mx":v()}],"scroll-my":[{"scroll-my":v()}],"scroll-ms":[{"scroll-ms":v()}],"scroll-me":[{"scroll-me":v()}],"scroll-mt":[{"scroll-mt":v()}],"scroll-mr":[{"scroll-mr":v()}],"scroll-mb":[{"scroll-mb":v()}],"scroll-ml":[{"scroll-ml":v()}],"scroll-p":[{"scroll-p":v()}],"scroll-px":[{"scroll-px":v()}],"scroll-py":[{"scroll-py":v()}],"scroll-ps":[{"scroll-ps":v()}],"scroll-pe":[{"scroll-pe":v()}],"scroll-pt":[{"scroll-pt":v()}],"scroll-pr":[{"scroll-pr":v()}],"scroll-pb":[{"scroll-pb":v()}],"scroll-pl":[{"scroll-pl":v()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",we]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[er,wr,fu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},xS=(e,{cacheSize:t,prefix:n,separator:r,experimentalParseClassName:o,extend:s={},override:i={}})=>{Us(e,"cacheSize",t),Us(e,"prefix",n),Us(e,"separator",r),Us(e,"experimentalParseClassName",o);for(const l in i)CS(e[l],i[l]);for(const l in s)TS(e[l],s[l]);return e},Us=(e,t,n)=>{n!==void 0&&(e[t]=n)},CS=(e,t)=>{if(t)for(const n in t)Us(e,n,t[n])},TS=(e,t)=>{if(t)for(const n in t){const r=t[n];r!==void 0&&(e[n]=(e[n]||[]).concat(r))}},SS=(e,...t)=>typeof e=="function"?vd(Ed,e,...t):vd(()=>xS(Ed(),e),...t),Bn=vd(Ed),MS={extend:{classGroups:{"focus-outline":[{"focus-outline":["","no-offset","none"]}]}}},nt=SS(MS),AS={name:"icon"},yn=Se({...AS,setup(e){const t=br();return(n,r)=>(z(),ee("div",Ve({class:"icon inline-block"},{...S(t),class:void 0}),[ct(n.$slots,"default")],16))}});function vi(e){return e.length===0}const Iy=(e,t)=>{const n=Ee(()=>e.id??t),r=Q(!1),o=Ee(()=>({"aria-label":r.value?void 0:e.label,"aria-labelledby":r.value?`label-${n.value}`:void 0}));return St(()=>{n.value&&document.querySelector(`#label-${n.value}`)&&(r.value=!0)}),o},Ho=()=>RE(),Fo={disabled:!1,readonly:!1,border:!0,unstyle:!1},OS=["id","type","disabled","data-border","data-color","aria-disabled"],IS=["id"],RS={key:0},dr=Se({name:"lib-button",__name:"LibButton",props:Bo({id:{},label:{},disabled:{type:Boolean},readonly:{type:Boolean},border:{type:Boolean},unstyle:{type:Boolean},color:{type:[String,Boolean]},autoTitleFromAria:{type:Boolean}},{color:!1,label:"",...Fo}),setup(e){const t=br(),n=Ho(),r=e,o=Iy(r,n),s=Ee(()=>({title:r.autoTitleFromAria?t["aria-label"]??r.label:void 0}));return(i,l)=>{var a;return z(),ee("button",Ve({id:i.id??S(n),class:!i.unstyle&&S(nt)(`
			button
			flex
			cursor-pointer
			items-center
			justify-center
			rounded
			px-1
			hover:cursor-pointer
			[&:hover_*]:cursor-pointer
			focus-outline
			disabled:shadow-none
			disabled:text-neutral-500
			disabled:cursor-default
			text-fg
			hover:text-accent-700
			dark:text-bg
			dark:hover:text-accent-500
			dark:disabled:text-neutral-500
			dark:disabled:hover:text-neutral-500
		`,!i.color&&"active:text-neutral-800",i.border&&`
			transition-all
			bg-neutral-100
			shadow-[0_1px_1px_0]
			shadow-neutral-950/20
			hover:shadow-[0_1px_3px_0]
			hover:shadow-neutral-950/30
			hover:border-neutral-300

			relative
			after:absolute
			after:rounded
			after:inset-0
			after:content
			after:shadow-[0_1px_0_0_inset]
			after:shadow-bg/20
			hover:after:shadow-bg/60
			dark:after:shadow-bg/10
			dark:hover:after:shadow-bg/50
			after:pointer-events-none
			after:mix-blend-overlay

			active:shadow-inner
			active:shadow-fg/20
			active:border-transparent
			border
			border-neutral-400
			disabled:border-neutral-200
			disabled:bg-neutral-50

			dark:hover:shadow-accent-950/30
			dark:active:shadow-fg/40
			dark:active:border-neutral-900
			dark:bg-neutral-800
			dark:border-neutral-900
			dark:disabled:border-neutral-800
			dark:disabled:bg-neutral-900
		`,i.border&&(!i.color||i.color==="secondary")&&`
			after:shadow-bg/90
			hover:after:shadow-bg
			dark:after:shadow-bg/20
			dark:hover:after:shadow-bg/90
		`,!i.border&&i.color==="primary"&&`
			font-bold
			hover:text-accent-50
		`,!i.border&&i.color==="ok"&&`
			text-ok-600 hover:text-ok-500
			dark:text-ok-600 dark:hover:text-ok-500
		`,!i.border&&i.color==="warning"&&`
			text-warning-500 hover:text-warning-300
			dark:text-warning-600 dark:hover:text-warning-400
		`,!i.border&&i.color==="danger"&&`
			text-danger-500 hover:text-danger-300
			dark:text-danger-600 dark:hover:text-danger-400
		`,!i.border&&i.color==="secondary"&&`
			text-accent-700 hover:text-accent-500
			dark:text-accent-600 dark:hover:text-accent-400
		`,!i.border&&i.color==="primary"&&`
			text-accent-700 hover:text-accent-500
			dark:text-accent-600 dark:hover:text-accent-400
		`,i.border&&i.color==="ok"&&`
			text-ok-950
			hover:text-ok-800
			bg-ok-400
			border-ok-500
			hover:border-ok-600
			hover:shadow-ok-900/50

			dark:text-ok-100
			dark:hover:text-ok-200
			dark:bg-ok-700
			dark:border-ok-800
			dark:hover:border-ok-900
			dark:hover:shadow-ok-900/30
		`,i.border&&i.color==="warning"&&`
			text-warning-950
			hover:text-warning-900
			bg-warning-300
			border-warning-400
			hover:border-warning-400
			hover:shadow-warning-900/50

			dark:text-warning-100
			dark:hover:text-warning-200
			dark:bg-warning-700
			dark:border-warning-700
			dark:hover:shadow-warning-900/25
		`,i.border&&i.color==="danger"&&`
			text-danger-950
			hover:text-danger-900
			bg-danger-400
			border-danger-500
			hover:border-danger-500
			hover:shadow-danger-900/50

			dark:text-danger-100
			dark:hover:text-danger-200
			dark:bg-danger-900
			dark:border-danger-950
			dark:hover:shadow-ranger-500/10
		`,i.border&&i.color==="secondary"&&`
			text-accent-800
			dark:text-accent-400
		`,i.border&&i.color==="primary"&&`
			text-bg
			hover:text-bg
			bg-accent-600
			border-accent-700
			hover:border-accent-800
			hover:shadow-accent-950/30

			dark:text-bg
			dark:bg-accent-600
			dark:hover:text-accent-200
			dark:border-accent-800
			dark:hover:border-accent-700
			dark:hover:shadow-accent-900/50
		`,(a=S(t))==null?void 0:a.class),type:S(t).type??"submit",tabindex:0,disabled:i.disabled,"data-border":i.border,"data-color":i.color,"aria-disabled":i.disabled},{...s.value,...S(t),class:void 0,...S(o)}),[le("label",{id:`label-${i.id??S(n)}`,class:"label pointer-events-none flex flex-1 items-center justify-center gap-1"},[ct(i.$slots,"icon"),ct(i.$slots,"default",Ft(fn({label:i.label})),()=>[i.label&&!S(vi)(i.label)?(z(),ee("span",RS,Dt(i.label),1)):Pe("",!0)]),ct(i.$slots,"icon-after")],8,IS)],16,OS)}}}),DS={name:"lib-dark-mode-switcher"},LS=Se({...DS,props:{useLocalStorage:{type:[Boolean,String]},darkModeOrder:{default:()=>GT},autoLabel:{type:[Boolean,Object],default:()=>({light:"Light Mode",system:"System Mode",dark:"Dark Mode"})}},emits:["update:darkMode","update:darkModeState"],setup(e,{expose:t,emit:n}){const r=n,o=br(),s=e,{darkMode:i,cycleDarkMode:l,darkModeState:a,manualDarkMode:c,systemDarkMode:u,setDarkMode:d}=qT(s);return ze(i,f=>r("update:darkMode",f)),ze(a,f=>r("update:darkModeState",f)),t({getUseDarkMode:()=>({darkMode:i,darkModeState:a,manualDarkMode:c,systemDarkMode:u,setDarkMode:d,cycleDarkMode:l})}),St(()=>{r("update:darkMode",i.value)}),(f,h)=>{var _;const p=WT,g=FT,y=$T;return z(),ke(dr,Ve({...S(o),class:void 0},{class:S(nt)(`
			rounded-full
			after:rounded-full
		`,(_=S(o))==null?void 0:_.class),title:`Switch dark mode type (current: ${S(a)})`,label:f.autoLabel?f.autoLabel[S(a)]:"",onClick:S(l)}),{icon:me(()=>[le("div",null,[S(a)==="dark"?(z(),ke(yn,{key:0,class:"w-[1em]"},{default:me(()=>[te(p)]),_:1})):S(a)==="light"?(z(),ke(yn,{key:1,class:"w-[1em]"},{default:me(()=>[te(g)]),_:1})):(z(),ke(yn,{key:2,class:"w-[1em]"},{default:me(()=>[te(y)]),_:1}))])]),_:1},16,["class","title","label","onClick"])}}}),jS={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 512 512"};function PS(e,t){return z(),ee("svg",jS,t[0]||(t[0]=[le("path",{fill:"currentColor",d:"M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3L86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"},null,-1)]))}const NS=Me({name:"fa6-solid-chevron-up",render:PS});function ha(e){return Array.isArray(e)}function pa(e,...t){for(const n of t)if(ha(n))for(const r of n)e.includes(r)||e.push(r);return e}const sn=Object.keys,Ac=e=>Ee(()=>{const t=br(),n={attrs:{}},r=sn(t);for(const o of e){n[`${o}Attrs`]={};for(const s of r)s.startsWith(`${o}-`)?(n[`${o}Attrs`][s.slice(o.length+1)]=t[s],r.splice(r.indexOf(s),1)):s.startsWith(o)&&(n[`${o}Attrs`][s.slice(o.length)]=t[s],r.splice(r.indexOf(s),1))}for(const o of r)n.attrs[o]=t[o];return n});function VS(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function $S(e,t,n,r,o=!1){var H;if(typeof((H=r.suggestions)==null?void 0:H[0])=="object"&&!r.suggestionLabel&&!r.suggestionsFilter)throw new Error("`suggestionLabel` or `suggestionsFilter` must be passed if suggestions are objects.");const s=Q(!1),i=Q(-1);ze(s,W=>{n("update:isOpen",W)}),ze(i,W=>{n("update:activeSuggestion",W)});const l=W=>{if(VS(W))throw new Error("`suggestionLabel` must be passed if suggestions are objects.");return W},a=Ee(()=>r.suggestionLabel??l),c=(W,P)=>W===""?[...P]:P.filter(k=>a.value(k).toLowerCase().includes(W.toLowerCase())),u=Ee(()=>r.suggestionsFilter??c),d=Ee(()=>{if(r.suggestions)return u.value(e.value,r.suggestions)}),f=Ee(()=>{var W;return(((W=d.value)==null?void 0:W.length)??0)>0}),h=Ee(()=>{var W;return(((W=d.value)==null?void 0:W.length)??0)>1}),p=Ee(()=>{var W;return(W=r.suggestions)==null?void 0:W.find(P=>e.value===a.value(P))}),g=Ee(()=>!r.restrictToSuggestions&&r.isValid||f.value),y=Ee(()=>r.canOpen&&(vi(e.value)&&r.allowOpenEmpty||f.value)),_=Ee(()=>{if(r.suggestions){const W=f.value?d.value:r.suggestions;return r.restrictToSuggestions&&!g.value?W:r.preventDuplicateValues&&r.values?W.filter(P=>!r.values.includes(a.value(P))):W}}),w=()=>{o&&console.log("closeSuggestions"),s.value=!1,i.value=-1},b=()=>{var W;o&&console.log("openSuggestions",{openable:y.value}),y.value&&(i.value===-1&&(p.value?i.value=((W=d.value)==null?void 0:W.indexOf(p.value))??-1:i.value=0),s.value=!0)};function E(W){var I;if(W<-1||W>(((I=_.value)==null?void 0:I.length)??0)||(o&&console.log("enterSuggestion",W),_.value===void 0))return;const P=_.value[W],k=a.value(P);t.value=k,e.value=k,w(),n("submit",k,Te(P))}const T=()=>{if(i.value===-1){r.restrictToSuggestions?o&&console.log("enterSelected, no active suggestion, ignoring"):(o&&console.log("enterSelected, unrestricted, emitting submit"),n("submit",e.value));return}o&&console.log("enterSelected"),E(i.value)},x=W=>{var P;o&&console.log("selectSuggestion",W),W>=-1&&(i.value=W),W===1/0&&(((P=_.value)==null?void 0:P.length)??0)>0&&(i.value=_.value.length-1)},D=()=>{s.value?w():b()},N=()=>{_.value&&(i.value>0?i.value--:_.value&&(i.value=_.value.length-1))},M=()=>{_.value&&(i.value>=_.value.length-1?i.value=0:i.value++)},O=()=>{x(0)},$=()=>{x(1/0)},v=()=>{o&&console.log("cancel"),e.value=t.value,w()};ze(()=>r.canOpen,W=>{W||(o&&console.log("canOpen changed to false, closing suggestions"),w())}),ze(y,W=>{W||(o&&console.log("openable changed to false, closing suggestions"),w())}),ze(g,()=>{g.value||(o&&console.log("isValidSuggestion changed to false, opening suggestions"),b())}),ze(t,()=>{e.value=t.value,o&&console.log("modelValue changed")});const L=(W,P)=>{var K;if(P.length===0)return 0;let k,I=-1;for(let Z=0;Z<W.length;Z++){const ie=W[Z],pe=a.value(ie);pe.slice(0,P.length)===P&&pe.length>(((K=k==null?void 0:k[0])==null?void 0:K.length)??0)&&(k=pe,I=Z)}return I};return ze(e,()=>{var W;if(o&&console.log("input changed:",e.value,"modelValue:",t.value),t.value!==e.value)if(f.value&&(o&&console.log("input changed, suggestion available, opening suggestions"),b()),r.restrictToSuggestions||(o&&console.log("input changed, unrestricted, setting modelValue"),t.value=e.value),p.value&&d.value)o&&console.log("input changed, exactly matching, setting activeSuggestion"),x(d.value.indexOf(p.value));else{o&&console.log("input changed, not exactly matching, finding longest match");const P=((W=r.suggestionSelector)==null?void 0:W.call(r,_.value??[],e.value))??L(_.value??[],e.value);x(P)}}),{list:d,filtered:_,active:i,available:f,moreThanOneAvailable:h,hasExactlyMatching:p,hasValidSuggestion:g,openable:y,getLabel:a,isOpen:s,open:b,close:w,enterSelected:T,enterSuggestion:E,toggle:D,cancel:v,select:x,prev:N,next:M,first:O,last:$}}function BS(e,t,n,r){return Ee(()=>({"aria-autocomplete":r!==void 0?"both":void 0,"aria-controls":r!==void 0?`suggestions-${e.value}`:void 0,role:r?"combobox":void 0,"aria-expanded":r!==void 0?t.value:void 0,"aria-activedescendant":t.value?`suggestion-${e.value}-${n.value}`:void 0}))}const HS=["id","data-disabled","data-invalid","for"],kd=Se({name:"lib-label",__name:"LibLabel",props:Bo({id:{},label:{},disabled:{type:Boolean},readonly:{type:Boolean},border:{type:Boolean},unstyle:{type:Boolean},unstyled:{type:Boolean},valid:{type:Boolean}},{id:"",unstyled:void 0,valid:!0,...Fo}),setup(e){const t=Ho(),n=br();return(r,o)=>{var s;return z(),ee("label",Ve({id:`label-${r.id??S(t)}`,class:!r.unstyled&&S(nt)(`
			pr-0
			text-sm
		`,!r.valid&&"text-danger-700",(s=S(n))==null?void 0:s.class),"data-disabled":r.disabled,"data-invalid":!r.valid,for:r.id},{...S(n),class:void 0}),[ct(r.$slots,"default")],16,HS)}}}),FS={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 384 512"};function zS(e,t){return z(),ee("svg",FS,t[0]||(t[0]=[le("path",{fill:"currentColor",d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7L86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256L41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3l105.4 105.3c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256z"},null,-1)]))}const KS=Me({name:"fa6-solid-xmark",render:zS});function WS(e,...t){for(const n of t){const r=e.indexOf(n);r>-1&&e.splice(r,1)}return e}const Ei=e=>{navigator.clipboard?navigator.clipboard.writeText(e).catch(t=>{console.warn(`There was an error copying to the clipboard, please file a bug report.
${t}`)}):console.warn("Could not copy to clipboard, your browser is not supported.")},US=["data-disabled","data-read-only","aria-label","tabindex"],qS=["data-border","tabindex","onKeydown"],GS={class:"value_label truncate"},JS=Se({name:"lib-multi-values",inheritAttrs:!1,__name:"LibMultiValues",props:En(Bo({label:{},disabled:{type:Boolean},readonly:{type:Boolean},border:{type:Boolean},unstyle:{type:Boolean},preventDuplicateValues:{type:Boolean},values:{}},{...Fo}),{values:{default:()=>[]},valuesModifiers:{}}),emits:["update:values"],setup(e){const t=Ac(["item"]),n=e,r=Ee(()=>!n.disabled&&!n.readonly),o=qn(e,"values"),s=i=>{r.value&&WS(o.value,i)};return(i,l)=>{var c,u;const a=KS;return o.value&&((c=o.value)==null?void 0:c.length)>0?(z(),ee("div",Ve({key:0,class:S(nt)(`
		values
		group
		flex
		flex-initial
		items-center
		justify-center
		gap-1
		overflow-x-scroll
		scrollbar-hidden
	`,(u=S(t))==null?void 0:u.class),"data-disabled":i.disabled,"data-read-only":"readonly"in i?i.readonly:S(Fn),"aria-label":`Values for ${i.label}`,tabindex:i.disabled?-1:0},{...S(t),class:void 0}),[(z(!0),ee(Xe,null,gi(o.value,d=>{var f;return z(),ee("div",{"data-border":i.border,class:st(S(nt)(`
				value_wrapper
				flex-basis-0
				min-w-2
				flex
				max-w-fit
				flex-1
				items-center
				gap-0.5
				overflow-hidden
				px-1
				text-xs
				leading-none`,!(i.disabled||("readonly"in i?i.readonly:S(Fn)))&&`
				group-focus:text-accent-500
				focus:text-accent-500`,i.border&&`
				rounded
				border-neutral-400
				border
				focus:border-accent-400
			`,i.border&&(i.disabled||("readonly"in i?i.readonly:S(Fn)))&&`
				border-neutral-200
				focus:border-neutral-200
				dark:border-neutral-800
				dark:focus:border-neutral-800
			`,(f=S(t).itemAttrs)==null?void 0:f.class)),tabindex:r.value?0:void 0,key:d,onKeydown:sa(ks(h=>S(Ei)(d.toString()),["ctrl","prevent"]),["c"])},[le("span",GS,Dt(d),1),te(dr,{class:"!p-0 text-sm !leading-none","aria-label":`Remove ${d}`,border:!1,disabled:i.disabled||("readonly"in i?i.readonly:S(Fn)),onClick:h=>s(d)},{default:me(()=>[te(yn,null,{default:me(()=>[te(a)]),_:1})]),_:2},1032,["aria-label","disabled","onClick"])],42,qS)}),128))],16,US)):Pe("",!0)}}}),Ry=e=>e.ctrlKey||e.altKey||e.shiftKey||e.metaKey,XS=["id","data-border","data-invalid","type","placeholder","disabled","readonly"],YS=Se({name:"lib-simple-input",inheritAttrs:!1,__name:"LibSimpleInput",props:En(Bo({id:{},label:{},disabled:{type:Boolean},readonly:{type:Boolean},border:{type:Boolean},unstyle:{type:Boolean},placeholder:{},type:{},valid:{type:Boolean}},{id:"",placeholder:"",valid:!0,label:"",type:void 0,...Fo}),{modelValue:{required:!0},modelModifiers:{}}),emits:En(["submit","input"],["update:modelValue"]),setup(e,{emit:t}){const n=Ho(),r=e,o=qn(e,"modelValue"),s=t,i=br(),l=Iy(r,n);function a(c){c.key==="Enter"&&!Ry(c)&&s("submit",o.value)}return(c,u)=>{var d;return Vo((z(),ee("input",Ve({id:c.id??S(n),class:S(nt)(`
			input
			flex-1
			grow-[999999]
			rounded
			px-1
			focus-outline
			min-w-[2rem]
			bg-inherit
			placeholder:text-neutral-400
			placeholder:focus:text-accent-300
			read-only:bg-neutral-50
			read-only:text-neutral-800
			read-only:placeholder:select-none
			read-only:placeholder:text-opacity-0
			read-only:focus:placeholder:text-opacity-0
			disabled:placeholder:text-nuetral-400
			disabled:cursor-unset
			disabled:bg-neutral-50
			disabled:text-neutral-400
			dark:read-only:bg-neutral-950
			dark:read-only:text-neutral-200
			dark:disabled:placeholder:text-nuetral-600
			dark:disabled:bg-neutral-950
			dark:disabled:text-neutral-500
		`,c.type==="text"&&`
			min-w-[10ch]
			w-full
		`,c.type==="number"&&`
			w-12
			placeholder:text-transparent
			appearance-none
		`,c.border&&`
			border
			border-neutral-500
			focus:border-accent-500
			disabled:border-neutral-400
			dark:disabled:border-neutral-600
		`,!c.valid&&`
			placeholder:text-danger-700
			border-danger-700
			outlined:!ring-danger-700
			text-danger-800
			dark:text-danger-400
			dark:placeholder:text-danger-700
			dark:border-danger-600
		`,(d=S(i))==null?void 0:d.class),"data-border":c.border,"data-invalid":!c.valid,type:c.type,placeholder:c.placeholder,disabled:c.disabled,readonly:"readonly"in c?c.readonly:S(Fn),"onUpdate:modelValue":u[0]||(u[0]=f=>o.value=f)},{...S(i),class:void 0,...S(l)},{onKeydown:a,onInput:u[1]||(u[1]=f=>s("input",f))}),null,16,XS)),[[cw,o.value]])}}}),QS=["id","data-open"],ZS=["id","aria-selected","aria-label","onMouseover","onMouseup"],eM=Se({name:"lib-suggestions",inheritAttrs:!1,__name:"LibSuggestions",props:En(Bo({id:{},label:{},disabled:{type:Boolean},readonly:{type:Boolean},border:{type:Boolean},unstyle:{type:Boolean},preventDuplicateValues:{type:Boolean},values:{},filterKeydown:{type:Function},filterBlur:{type:Function},filterFocus:{type:Function},suggestions:{},suggestionLabel:{type:Function},restrictToSuggestions:{type:Boolean},updateOnlyOnSubmit:{type:Boolean},suggestionsFilter:{type:Function},allowOpenEmpty:{type:Boolean},canOpen:{type:Boolean},isValid:{type:Boolean},suggestionSelector:{type:Function}},{isValid:!0,canOpen:!0,values:void 0,filterKeydown:void 0,...Fo}),{modelValue:{required:!0},modelModifiers:{},inputValue:{default:""},inputValueModifiers:{}}),emits:En(["submit","update:isOpen","update:activeSuggestion"],["update:modelValue","update:inputValue"]),setup(e,{expose:t,emit:n}){var p;const r=Ac(["item"]),o=n,s=Ho(),i=e,l=qn(e,"modelValue"),a=qn(e,"inputValue");if(typeof((p=i.suggestions)==null?void 0:p[0])=="object"&&!i.suggestionLabel&&!i.suggestionsFilter)throw new Error("`suggestionLabel` or `suggestionsFilter` must be passed if suggestions are objects.");const c=Q(null);Q(!1);const u=vn($S(a,l,o,i));return t({suggestions:u,el:c,inputKeydownHandler:g=>{var y;(y=i.filterKeydown)!=null&&y.call(i,g)||Ry(g)||(g.key==="Enter"?(u.enterSelected(),g.preventDefault()):g.key==="Escape"?(u.cancel(),g.preventDefault()):!u.isOpen&&["ArrowDown","ArrowUp","PageUp","PageDown"].includes(g.key)&&u.available?(u.open(),g.preventDefault(),g.key==="PageUp"?u.first():g.key==="PageDown"&&u.last()):g.key==="ArrowUp"?(u.prev(),g.preventDefault()):g.key==="ArrowDown"?(u.next(),g.preventDefault()):g.key==="PageUp"?(u.first(),g.preventDefault()):g.key==="PageDown"&&(u.last(),g.preventDefault()))},inputBlurHandler:g=>{var y;(y=i.filterBlur)!=null&&y.call(i,g)||u.isOpen&&(i.restrictToSuggestions?u.cancel():l.value=a.value,u.isOpen&&u.close())},inputFocusHandler:g=>{var y;(y=i.filterFocus)!=null&&y.call(i,g)||u.open()}}),(g,y)=>{var _;return u.isOpen?(z(),ee("div",Ve({key:0,id:`suggestions-${g.id??S(s)}`,class:S(nt)(`
			suggestions
			bg-bg
			dark:bg-fg
		`,(_=S(r).attrs)==null?void 0:_.class),"data-open":u.isOpen,role:"listbox",ref_key:"el",ref:c},{...S(r).attrs,class:void 0}),[(z(!0),ee(Xe,null,gi(u.filtered,(w,b)=>{var E;return z(),ee("div",Ve({id:`suggestion-${g.id??S(s)}-${b}`,role:"option",class:S(nt)(`
					px-1
					user-select-none
					cursor-pointer
					px-2
				`,b===u.active&&"bg-accent-200 dark:bg-accent-800",(E=S(r).itemAttrs)==null?void 0:E.class),ref_for:!0},{...S(r).itemAttrs,class:void 0},{"aria-selected":b===u.active,"aria-label":u.getLabel(w),key:w,onMouseover:T=>u.active=b,onMousedown:y[0]||(y[0]=ks(()=>{},["prevent"])),onMouseup:T=>u.enterSuggestion(b)}),[ct(g.$slots,"item",{item:w,index:b},()=>[It(Dt(w),1)])],16,ZS)}),128))],16,QS)):Pe("",!0)}}}),tM=["data-border","data-invalid","data-disabled","data-read-only","data-is-open"],nM=["data-is-open"],ki=Se({name:"lib-input",inheritAttrs:!1,__name:"LibInput",props:En(Bo({suggestions:{},suggestionLabel:{type:Function},restrictToSuggestions:{type:Boolean},updateOnlyOnSubmit:{type:Boolean},suggestionsFilter:{type:Function},allowOpenEmpty:{type:Boolean},canOpen:{type:Boolean},isValid:{type:Boolean},suggestionSelector:{type:Function},id:{},label:{},disabled:{type:Boolean},readonly:{type:Boolean},border:{type:Boolean},unstyle:{type:Boolean},preventDuplicateValues:{type:Boolean},values:{},valid:{type:Boolean}},{valid:!0,suggestions:void 0,updateOnlyOnSubmit:!1,...Fo}),{values:{default:void 0},valuesModifiers:{},modelValue:{required:!0},modelModifiers:{}}),emits:En(["submit","input","keydown","blur","focus","indicatorClick"],["update:values","update:modelValue"]),setup(e,{expose:t,emit:n}){const r=r_(),o=n,s=Ho(),i=e,l=Ac(["wrapper","inner-wrapper","suggestions","multivalues"]),a=qn(e,"values"),c=qn(e,"modelValue"),u=Ee(()=>i.id??s),d=Q(c.value),f=Ee(()=>!i.disabled&&!i.readonly),h=Q(null),p=Q(0);ze(c,()=>{d.value=c.value});const g=Q(null),y=Q(!1),_=v=>{Gt(()=>{var L;i.suggestions&&((L=h.value)==null||L.suggestions.toggle())}),o("indicatorClick",v)},w=v=>{var L,H;i.suggestions&&((H=(L=h.value)==null?void 0:L.inputKeydownHandler)==null||H.call(L,v)),o("keydown",v)},b=v=>{var L,H;i.suggestions&&((H=(L=h.value)==null?void 0:L.inputBlurHandler)==null||H.call(L,v)),o("blur",v)},E=v=>{var L,H;i.suggestions&&((H=(L=h.value)==null?void 0:L.inputFocusHandler)==null||H.call(L,v)),o("focus",v)};function T(v){a.value!==void 0&&(vi(v)||(i.preventDuplicateValues?pa(a.value,[v]):a.value.push(v),d.value="",c.value=""))}const x=us(i,"suggestions"),D=BS(u,y,p,x),N=Ee(()=>({id:u.value,border:!1,disabled:i.disabled,readonly:i.readonly,isValid:i.valid,onKeydown:w,onBlur:b,onFocus:E,modelValue:d.value,"onUpdate:modelValue":v=>{d.value=v,!i.suggestions&&!i.updateOnlyOnSubmit&&(c.value=v)},onSubmit:v=>{i.suggestions||(c.value=v,o("submit",v),a.value&&T(v))},...D.value,canEdit:f.value,...l.value.attrs,class:void 0})),M=Ee(()=>({id:u.value,isOpen:y.value,valid:i.valid,disabled:i.disabled,readonly:i.readonly})),O=Ee(()=>({id:u.value,suggestions:i.suggestions,allowOpenEmpty:i.allowOpenEmpty,restrictToSuggestions:i.restrictToSuggestions,suggestionLabel:i.suggestionLabel,suggestionsFilter:i.suggestionsFilter,modelValue:c.value.toString(),inputValue:d.value,isValid:i.isValid,"onUpdate:inputValue":v=>d.value=v,onSubmit:(v,L)=>{c.value=v,o("submit",v,L),a.value&&T(v)},"onUpdate:isOpen":v=>{y.value=v},"onUpdate:activeSuggestion":v=>p.value=v,...l.value.suggestionsAttrs,class:void 0})),$=Ee(()=>({hasSlotRight:!r.right,label:i.label,border:i.border,disabled:i.disabled,readonly:i.readonly,values:a.value,"onUpdate:values":v=>a.value=v,...l.value.multivaluesAttrs,class:void 0}));return t({suggestionsComponent:h,el:g,inputValue:d}),(v,L)=>{var W,P;const H=NS;return z(),ee("div",Ve({class:S(nt)(`input wrapper
			grow
			flex
			flex-wrap
			`,v.disabled&&`
			text-neutral-400
		`,(W=S(l).wrapperAttrs)==null?void 0:W.class),tabindex:"-1"},{...S(l).wrapperAttrs,class:void 0},{ref_key:"inputWrapperEl",ref:g}),[ct(v.$slots,"label",Ft(fn({...M.value,label:v.label})),()=>[v.label||S(r).default?(z(),ke(kd,{key:0,id:v.id??S(s),disabled:v.disabled,readonly:"readonly"in v?v.readonly:S(Fn),valid:v.valid},{default:me(()=>[ct(v.$slots,"default",Ft(fn(M.value)),()=>[It(Dt(v.label),1)])]),_:3},8,["id","disabled","readonly","valid"])):Pe("",!0),L[0]||(L[0]=le("div",{class:"flex-1"},null,-1))]),le("div",Ve({"data-border":v.border,"data-invalid":!v.valid,"data-disabled":v.disabled,"data-read-only":"readonly"in v?v.readonly:S(Fn),"data-is-open":y.value},{...S(l)["inner-wrapperAttrs"],class:void 0},{class:S(nt)(`inner-wrapper
				relative
				flex
				flex-1
				basis-[100%]
				flex-wrap
				rounded
				gap-2
				px-2
			`,v.border&&`
				bg-inherit
				border
				border-neutral-500
				outlined-within:border-accent-500
			`,y.value&&"rounded-b-none",!v.valid&&`
				border-danger-700
				outlined:!ring-danger-700
				text-danger-800
				dark:text-danger-400
				dark:border-danger-600
				`,("readonly"in v?v.readonly:S(Fn))&&`
				bg-neutral-50
				text-neutral-800
				dark:bg-neutral-950
				dark:text-neutral-200
				`,v.disabled&&`
				bg-neutral-50
				text-neutral-400
				dark:border-neutral-600
				border-neutral-400
			`,(P=S(l)["inner-wrapperAttrs"])==null?void 0:P.class)}),[ct(v.$slots,"left",Ft(fn(M.value))),ct(v.$slots,"input",Ft(fn({...N.value,...M.value,suggestionsIndicatorClickHandler:_})),()=>{var k;return[te(YS,Ve({class:S(nt)("p-0",!S(r).left&&"-ml-2 pl-2",!S(r).right&&(!a.value||a.value.length===0)&&!x.value&&"-mr-2 -pr-2",(k=S(l).attrs)==null?void 0:k.class)},N.value),null,16,["class"])]}),ct(v.$slots,"indicator",Ft(fn({isOpen:y.value,suggestionsIndicatorClickHandler:_})),()=>[x.value?(z(),ee("div",{key:0,"data-is-open":y.value,class:st(S(nt)("indicator flex flex-col justify-center")),onClick:_},[te(yn,{class:st(y.value&&"rotate-180")},{default:me(()=>[te(H)]),_:1},8,["class"])],10,nM)):Pe("",!0)]),ct(v.$slots,"values",Ft(fn({...$.value,...M.value})),()=>{var k;return[a.value&&a.value.length>0?(z(),ke(JS,Ve({key:0,class:S(nt)(`
							grow-[9000]
							justify-space-between
							py-1
						`,!S(r).right&&`
							-mr-1
						`,(k=S(l).multivaluesAttrs)==null?void 0:k.class)},$.value),null,16,["class"])):Pe("",!0)]}),ct(v.$slots,"right",Ft(fn(M.value))),x.value?ct(v.$slots,"suggestions",Ft(Ve({key:0},{...O.value,...M.value})),()=>{var k;return[te(eM,Ve({class:S(nt)(`
						absolute
						-inset-x-px
						z-10
						rounded-b
						border-accent-500
						border
						top-full
					`,!v.border&&`
						rounded
					`,(k=S(l).suggestionsAttrs)==null?void 0:k.class),ref_key:"suggestionsComponent",ref:h},O.value),{item:me(I=>[ct(v.$slots,"suggestion-item",Ft(fn(I)))]),_:3},16,["class"])]}):Pe("",!0)],16,tM)],16)}}});function GB(e){}function rM(e,t=Q(!0)){const n=Q(!1),r=Q(!1),o=u=>{r.value=!0,setTimeout(()=>{r.value=!1},0)},s=u=>{r.value=!1,n.value=!1},i=u=>{r.value&&t.value&&(n.value=!0)};let l=!1;const a=()=>{l&&(e.value,e.value.addEventListener("focusin",i),e.value.addEventListener("keydown",o),e.value.addEventListener("mousedown",s))},c=()=>{e.value&&(e.value,e.value.removeEventListener("focusin",i),e.value.removeEventListener("keydown",o),e.value.removeEventListener("mousedown",s))};return ze(t,(u,d)=>{u!==d&&(u?a():(n.value=!1,c()))}),St(()=>{l=!0,t.value&&a()}),kn(()=>{l=!1,c()}),{outline:n,control:t}}function oM(e,t){let n="";for(let r=0;r<e.length;r++){const o=e[r];n+=o+(r<t.length?t[r]:"")}return n}function sM(e){return e!==void 0}function iM(e,{tabs:t=!0,count:n=void 0}={}){let r=n;if(!sM(r)){const i=t?/^[\t]*(?=[^\t])/gm:/^[ ]*(?=[^ ])/gm,l=e.match(i);if(l===null)return e;r=l.reduce((a,c)=>Math.min(a,c.length),1/0)}const o=r===1/0?"":r,s=new RegExp(`^${t?"\\t":" "}{0,${o}}`,"gm");return e.replace(s,"")}function lM(e){return e.replace(/(^\n*?(?=[^\n]|$))([\s\S]*?)(\n*?\s*?$)/,"$2")}function it(e,...t){return iM(lM(oM(e,t)))}function Jt(e="This error should never happen, please file a bug report."){throw new Error(e)}function aM(e,{mutate:t=!1}={}){if(t){const n=new Set;for(let r=0;r<e.length;r++){const o=e[r];n.has(o)?(e.splice(r,1),r--):n.add(o)}return e}else return[...new Set(e)]}async function wd(e=1e3){return new Promise(t=>{setTimeout(t,e)})}function Jp(e,t=0,{first:n=!1}={}){const r=n?/(^|\n)/g:/\n/g,o="	".repeat(t),s=n?`$1${o}`:`
${o}`;return e.replace(r,s)}function cM(e){return e.trim().length===0}function uM(e){return e[e.length-1]}function xd(e,t,n={}){const r=[...arguments[3]??[]];if(n.before){const s=t?t(e,r,"before"):e;n.save&&(e=s)}let o;if(Array.isArray(e)){const s=[];let i=0;for(const l of e){const a=[...r,i.toString()],c=typeof l=="object"&&l!==null?xd(l,t,n,a):t?t(l,a):l;n.save&&c!==void 0&&s.push(c),i++}o=n.save?s:void 0}else if(e!==null){const s={};for(const i of sn(e)){const l=[...r,i.toString()],a=e[i],c=typeof a=="object"&&a!==null?xd(a,t,n,l):t?t(a,l):a;n.save&&c!==void 0&&(s[i]=c)}o=n.save?s:void 0}else if(e===null){const s=t?t(e,r):e;o=n.save?s:void 0}if(n.after){const s=t?t(o,r,"after"):o;n.save&&(o=s)}return o}const dM=window.setInterval,fM=({containerEl:e,scrollMargin:t=10,outerScrollMargin:n,fastPixelMultiplier:r=4,fastPixelAmount:o,useTimer:s=!0,timerInterval:i=1})=>{r=o!==void 0?o*2:r;const l=vn({left:!1,right:!1,down:!1,up:!1}),a=Q(!1),c=()=>{l.right=!1,l.left=!1,l.up=!1,l.down=!1,a.value=!1};let u;const d=(E,T)=>{const x=e.value;if(!x)return;const D=x.scrollLeft,N=x.scrollTop;x.scroll(D+E,N+T)},f={x:0,y:0},h=()=>{f.x=0,f.y=0},p=t,g=n??0,y=(E,T)=>{const x=e.value;if(!x)return;const D=x.getBoundingClientRect(),N=D.x,M=D.x+D.width,O=D.y,$=D.y+D.height,v=N-g,L=N+p,H=M-g,W=M+p,P=O-g,k=O+p,I=$-p,K=$+g,Z=p+g;if(c(),h(),E>v&&E<L){if(x.scrollLeft>0){const pe=(N+p-E)/Z;f.x=-pe*r}}else if(E>H&&E<W&&x.scrollWidth-x.scrollLeft-Math.round(D.width)>0){const pe=(E-(M-p))/Z;f.x=pe*r}if(T>P&&T<k){if(x.scrollTop>0){const pe=(O+p-T)/Z;f.y=-pe*r}}else if(T>I&&T<K&&x.scrollHeight-x.scrollTop-Math.round(D.height)>0){const pe=(T-($-p))/Z;f.y=pe*r}(f.x!==0||f.y!==0)&&(a.value=!0,l.right=f.x>0,l.left=f.x<0,l.up=f.y<0,l.down=f.y>0,d(f.x,f.y))},_=()=>{clearInterval(u)};return{scrollEdges:(E,T,x)=>{clearInterval(u),y(E,T),(x||s)&&(u=dM(()=>{y(E,T)},i))},scrollIndicator:l,resetScrollIndicator:c,clearScrollInterval:_,isScrolling:a,endScroll:()=>{_(),c(),h()}}},Fi={directiveName:"extract-root-el",mounted(e,{value:t}){t(e)},unmounted(e,{value:t}){t(null)},getSSRProps(){return{}}};function kt(e){this.content=e}kt.prototype={constructor:kt,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,o=r.find(e),s=r.content.slice();return o==-1?s.push(n||e,t):(s[o+1]=t,n&&(s[o]=n)),new kt(s)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new kt(n)},addToStart:function(e,t){return new kt([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new kt(n)},addBefore:function(e,t,n){var r=this.remove(t),o=r.content.slice(),s=r.find(e);return o.splice(s==-1?o.length:s,0,t,n),new kt(o)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=kt.from(e),e.size?new kt(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=kt.from(e),e.size?new kt(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=kt.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};kt.from=function(e){if(e instanceof kt)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new kt(t)};function Dy(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let o=e.child(r),s=t.child(r);if(o==s){n+=o.nodeSize;continue}if(!o.sameMarkup(s))return n;if(o.isText&&o.text!=s.text){for(let i=0;o.text[i]==s.text[i];i++)n++;return n}if(o.content.size||s.content.size){let i=Dy(o.content,s.content,n+1);if(i!=null)return i}n+=o.nodeSize}}function Ly(e,t,n,r){for(let o=e.childCount,s=t.childCount;;){if(o==0||s==0)return o==s?null:{a:n,b:r};let i=e.child(--o),l=t.child(--s),a=i.nodeSize;if(i==l){n-=a,r-=a;continue}if(!i.sameMarkup(l))return{a:n,b:r};if(i.isText&&i.text!=l.text){let c=0,u=Math.min(i.text.length,l.text.length);for(;c<u&&i.text[i.text.length-c-1]==l.text[l.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(i.content.size||l.content.size){let c=Ly(i.content,l.content,n-1,r-1);if(c)return c}n-=a,r-=a}}class G{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,o=0,s){for(let i=0,l=0;l<n;i++){let a=this.content[i],c=l+a.nodeSize;if(c>t&&r(a,o+l,s||null,i)!==!1&&a.content.size){let u=l+1;a.nodesBetween(Math.max(0,t-u),Math.min(a.content.size,n-u),r,o+u)}l=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,o){let s="",i=!0;return this.nodesBetween(t,n,(l,a)=>{let c=l.isText?l.text.slice(Math.max(t,a)-a,n-a):l.isLeaf?o?typeof o=="function"?o(l):o:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&c||l.isTextblock)&&r&&(i?i=!1:s+=r),s+=c},0),s}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,o=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(o[o.length-1]=n.withText(n.text+r.text),s=1);s<t.content.length;s++)o.push(t.content[s]);return new G(o,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],o=0;if(n>t)for(let s=0,i=0;i<n;s++){let l=this.content[s],a=i+l.nodeSize;a>t&&((i<t||a>n)&&(l.isText?l=l.cut(Math.max(0,t-i),Math.min(l.text.length,n-i)):l=l.cut(Math.max(0,t-i-1),Math.min(l.content.size,n-i-1))),r.push(l),o+=l.nodeSize),i=a}return new G(r,o)}cutByIndex(t,n){return t==n?G.empty:t==0&&n==this.content.length?this:new G(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let o=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return o[t]=n,new G(o,s)}addToStart(t){return new G([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new G(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let o=this.content[n];t(o,r,n),r+=o.nodeSize}}findDiffStart(t,n=0){return Dy(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return Ly(this,t,n,r)}findIndex(t,n=-1){if(t==0)return cl(0,t);if(t==this.size)return cl(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,o=0;;r++){let s=this.child(r),i=o+s.nodeSize;if(i>=t)return i==t||n>0?cl(r+1,i):cl(r,o);o=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return G.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new G(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return G.empty;let n,r=0;for(let o=0;o<t.length;o++){let s=t[o];r+=s.nodeSize,o&&s.isText&&t[o-1].sameMarkup(s)?(n||(n=t.slice(0,o)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new G(n||t,r)}static from(t){if(!t)return G.empty;if(t instanceof G)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new G([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}G.empty=new G([],0);const hu={index:0,offset:0};function cl(e,t){return hu.index=e,hu.offset=t,hu}function ma(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!ma(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!ma(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}let Ke=class Cd{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let o=0;o<t.length;o++){let s=t[o];if(this.eq(s))return t;if(this.type.excludes(s.type))n||(n=t.slice(0,o));else{if(s.type.excludes(this.type))return t;!r&&s.type.rank>this.type.rank&&(n||(n=t.slice(0,o)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&ma(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let o=r.create(n.attrs);return r.checkAttrs(o.attrs),o}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return Cd.none;if(t instanceof Cd)return[t];let n=t.slice();return n.sort((r,o)=>r.type.rank-o.type.rank),n}};Ke.none=[];class ga extends Error{}class oe{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=Py(this.content,t+this.openStart,n);return r&&new oe(r,this.openStart,this.openEnd)}removeBetween(t,n){return new oe(jy(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return oe.empty;let r=n.openStart||0,o=n.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new oe(G.fromJSON(t,n.content),r,o)}static maxOpen(t,n=!0){let r=0,o=0;for(let s=t.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=t.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)o++;return new oe(t,r,o)}}oe.empty=new oe(G.empty,0,0);function jy(e,t,n){let{index:r,offset:o}=e.findIndex(t),s=e.maybeChild(r),{index:i,offset:l}=e.findIndex(n);if(o==t||s.isText){if(l!=n&&!e.child(i).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=i)throw new RangeError("Removing non-flat range");return e.replaceChild(r,s.copy(jy(s.content,t-o-1,n-o-1)))}function Py(e,t,n,r){let{index:o,offset:s}=e.findIndex(t),i=e.maybeChild(o);if(s==t||i.isText)return e.cut(0,t).append(n).append(e.cut(t));let l=Py(i.content,t-s-1,n);return l&&e.replaceChild(o,i.copy(l))}function hM(e,t,n){if(n.openStart>e.depth)throw new ga("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new ga("Inconsistent open depths");return Ny(e,t,n,0)}function Ny(e,t,n,r){let o=e.index(r),s=e.node(r);if(o==t.index(r)&&r<e.depth-n.openStart){let i=Ny(e,t,n,r+1);return s.copy(s.content.replaceChild(o,i))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let i=e.parent,l=i.content;return Co(i,l.cut(0,e.parentOffset).append(n.content).append(l.cut(t.parentOffset)))}else{let{start:i,end:l}=pM(n,e);return Co(s,$y(e,i,l,t,r))}else return Co(s,_a(e,t,r))}function Vy(e,t){if(!t.type.compatibleContent(e.type))throw new ga("Cannot join "+t.type.name+" onto "+e.type.name)}function Td(e,t,n){let r=e.node(n);return Vy(r,t.node(n)),r}function xo(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function oi(e,t,n,r){let o=(t||e).node(n),s=0,i=t?t.index(n):o.childCount;e&&(s=e.index(n),e.depth>n?s++:e.textOffset&&(xo(e.nodeAfter,r),s++));for(let l=s;l<i;l++)xo(o.child(l),r);t&&t.depth==n&&t.textOffset&&xo(t.nodeBefore,r)}function Co(e,t){return e.type.checkContent(t),e.copy(t)}function $y(e,t,n,r,o){let s=e.depth>o&&Td(e,t,o+1),i=r.depth>o&&Td(n,r,o+1),l=[];return oi(null,e,o,l),s&&i&&t.index(o)==n.index(o)?(Vy(s,i),xo(Co(s,$y(e,t,n,r,o+1)),l)):(s&&xo(Co(s,_a(e,t,o+1)),l),oi(t,n,o,l),i&&xo(Co(i,_a(n,r,o+1)),l)),oi(r,null,o,l),new G(l)}function _a(e,t,n){let r=[];if(oi(null,e,n,r),e.depth>n){let o=Td(e,t,n+1);xo(Co(o,_a(e,t,n+1)),r)}return oi(t,null,n,r),new G(r)}function pM(e,t){let n=t.depth-e.openStart,o=t.node(n).copy(e.content);for(let s=n-1;s>=0;s--)o=t.node(s).copy(G.from(o));return{start:o.resolveNoCache(e.openStart+n),end:o.resolveNoCache(o.content.size-e.openEnd-n)}}class ws{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],o=t.child(n);return r?t.child(n).cut(r):o}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],o=n==0?0:this.path[n*3-1]+1;for(let s=0;s<t;s++)o+=r.child(s).nodeSize;return o}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return Ke.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),o=t.maybeChild(n);if(!r){let l=r;r=o,o=l}let s=r.marks;for(var i=0;i<s.length;i++)s[i].type.spec.inclusive===!1&&(!o||!s[i].isInSet(o.marks))&&(s=s[i--].removeFromSet(s));return s}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,o=t.parent.maybeChild(t.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!o||!r[s].isInSet(o.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new ya(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],o=0,s=n;for(let i=t;;){let{index:l,offset:a}=i.content.findIndex(s),c=s-a;if(r.push(i,l,o+a),!c||(i=i.child(l),i.isText))break;s=c-1,o+=a+1}return new ws(n,r,s)}static resolveCached(t,n){let r=Xp.get(t);if(r)for(let s=0;s<r.elts.length;s++){let i=r.elts[s];if(i.pos==n)return i}else Xp.set(t,r=new mM);let o=r.elts[r.i]=ws.resolve(t,n);return r.i=(r.i+1)%gM,o}}class mM{constructor(){this.elts=[],this.i=0}}const gM=12,Xp=new WeakMap;class ya{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const _M=Object.create(null);let Tn=class Sd{constructor(t,n,r,o=Ke.none){this.type=t,this.attrs=n,this.marks=o,this.content=r||G.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,o=0){this.content.nodesBetween(t,n,r,o,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,o){return this.content.textBetween(t,n,r,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&ma(this.attrs,n||t.defaultAttrs||_M)&&Ke.sameSet(this.marks,r||Ke.none)}copy(t=null){return t==this.content?this:new Sd(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new Sd(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return oe.empty;let o=this.resolve(t),s=this.resolve(n),i=r?0:o.sharedDepth(n),l=o.start(i),c=o.node(i).content.cut(o.pos-l,s.pos-l);return new oe(c,o.depth-i,s.depth-i)}replace(t,n,r){return hM(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:o}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(o==t||n.isText)return n;t-=o+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}}resolve(t){return ws.resolveCached(this,t)}resolveNoCache(t){return ws.resolve(this,t)}rangeHasMark(t,n,r){let o=!1;return n>t&&this.nodesBetween(t,n,s=>(r.isInSet(s.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),By(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=G.empty,o=0,s=r.childCount){let i=this.contentMatchAt(t).matchFragment(r,o,s),l=i&&i.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let a=o;a<s;a++)if(!this.type.allowsMarks(r.child(a).marks))return!1;return!0}canReplaceWith(t,n,r,o){if(o&&!this.type.allowsMarks(o))return!1;let s=this.contentMatchAt(t).matchType(r),i=s&&s.matchFragment(this.content,n);return i?i.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=Ke.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!Ke.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let o=G.fromJSON(t,n.content),s=t.nodeType(n.type).create(n.attrs,o,r);return s.type.checkAttrs(s.attrs),s}};Tn.prototype.text=void 0;class ba extends Tn{constructor(t,n,r,o){if(super(t,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):By(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new ba(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new ba(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function By(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class Lo{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new yM(t,n);if(r.next==null)return Lo.empty;let o=Hy(r);r.next&&r.err("Unexpected trailing text");let s=CM(xM(o));return TM(s,r),s}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let o=this;for(let s=n;o&&s<r;s++)o=o.matchType(t.child(s).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let o=[this];function s(i,l){let a=i.matchFragment(t,r);if(a&&(!n||a.validEnd))return G.from(l.map(c=>c.createAndFill()));for(let c=0;c<i.next.length;c++){let{type:u,next:d}=i.next[c];if(!(u.isText||u.hasRequiredAttrs())&&o.indexOf(d)==-1){o.push(d);let f=s(d,l.concat(u));if(f)return f}}return null}return s(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let o=r.shift(),s=o.match;if(s.matchType(t)){let i=[];for(let l=o;l.type;l=l.via)i.push(l.type);return i.reverse()}for(let i=0;i<s.next.length;i++){let{type:l,next:a}=s.next[i];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!o.type||a.validEnd)&&(r.push({match:l.contentMatch,type:l,via:o}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let o=0;o<r.next.length;o++)t.indexOf(r.next[o].next)==-1&&n(r.next[o].next)}return n(this),t.map((r,o)=>{let s=o+(r.validEnd?"*":" ")+" ";for(let i=0;i<r.next.length;i++)s+=(i?", ":"")+r.next[i].type.name+"->"+t.indexOf(r.next[i].next);return s}).join(`
`)}}Lo.empty=new Lo(!0);class yM{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function Hy(e){let t=[];do t.push(bM(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function bM(e){let t=[];do t.push(vM(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function vM(e){let t=wM(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=EM(e,t);else break;return t}function Yp(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function EM(e,t){let n=Yp(e),r=n;return e.eat(",")&&(e.next!="}"?r=Yp(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function kM(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let o=[];for(let s in n){let i=n[s];i.isInGroup(t)&&o.push(i)}return o.length==0&&e.err("No node type or group '"+t+"' found"),o}function wM(e){if(e.eat("(")){let t=Hy(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=kM(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function xM(e){let t=[[]];return o(s(e,0),n()),t;function n(){return t.push([])-1}function r(i,l,a){let c={term:a,to:l};return t[i].push(c),c}function o(i,l){i.forEach(a=>a.to=l)}function s(i,l){if(i.type=="choice")return i.exprs.reduce((a,c)=>a.concat(s(c,l)),[]);if(i.type=="seq")for(let a=0;;a++){let c=s(i.exprs[a],l);if(a==i.exprs.length-1)return c;o(c,l=n())}else if(i.type=="star"){let a=n();return r(l,a),o(s(i.expr,a),a),[r(a)]}else if(i.type=="plus"){let a=n();return o(s(i.expr,l),a),o(s(i.expr,a),a),[r(a)]}else{if(i.type=="opt")return[r(l)].concat(s(i.expr,l));if(i.type=="range"){let a=l;for(let c=0;c<i.min;c++){let u=n();o(s(i.expr,a),u),a=u}if(i.max==-1)o(s(i.expr,a),a);else for(let c=i.min;c<i.max;c++){let u=n();r(a,u),o(s(i.expr,a),u),a=u}return[r(a)]}else{if(i.type=="name")return[r(l,void 0,i.value)];throw new Error("Unknown expr type")}}}}function Fy(e,t){return t-e}function Qp(e,t){let n=[];return r(t),n.sort(Fy);function r(o){let s=e[o];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(o);for(let i=0;i<s.length;i++){let{term:l,to:a}=s[i];!l&&n.indexOf(a)==-1&&r(a)}}}function CM(e){let t=Object.create(null);return n(Qp(e,0));function n(r){let o=[];r.forEach(i=>{e[i].forEach(({term:l,to:a})=>{if(!l)return;let c;for(let u=0;u<o.length;u++)o[u][0]==l&&(c=o[u][1]);Qp(e,a).forEach(u=>{c||o.push([l,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let s=t[r.join(",")]=new Lo(r.indexOf(e.length-1)>-1);for(let i=0;i<o.length;i++){let l=o[i][1].sort(Fy);s.next.push({type:o[i][0],next:t[l.join(",")]||n(l)})}return s}}function TM(e,t){for(let n=0,r=[e];n<r.length;n++){let o=r[n],s=!o.validEnd,i=[];for(let l=0;l<o.next.length;l++){let{type:a,next:c}=o.next[l];i.push(a.name),s&&!(a.isText||a.hasRequiredAttrs())&&(s=!1),r.indexOf(c)==-1&&r.push(c)}s&&t.err("Only non-generatable nodes ("+i.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function zy(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function Ky(e,t){let n=Object.create(null);for(let r in e){let o=t&&t[r];if(o===void 0){let s=e[r];if(s.hasDefault)o=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=o}return n}function Wy(e,t,n,r){for(let o in t)if(!(o in e))throw new RangeError(`Unsupported attribute ${o} for ${n} of type ${o}`);for(let o in e){let s=e[o];s.validate&&s.validate(t[o])}}function Uy(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new MM(e,r,t[r]);return n}let Zp=class qy{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Uy(t,r.attrs),this.defaultAttrs=zy(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Lo.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:Ky(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Tn(this,this.computeAttrs(t),G.from(n),Ke.setFrom(r))}createChecked(t=null,n,r){return n=G.from(n),this.checkContent(n),new Tn(this,this.computeAttrs(t),n,Ke.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=G.from(n),n.size){let i=this.contentMatch.fillBefore(n);if(!i)return null;n=i.append(n)}let o=this.contentMatch.matchFragment(n),s=o&&o.fillBefore(G.empty,!0);return s?new Tn(this,t,n.append(s),Ke.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){Wy(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:Ke.none:t}static compile(t,n){let r=Object.create(null);t.forEach((s,i)=>r[s]=new qy(s,n,i));let o=n.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function SM(e,t,n){let r=n.split("|");return o=>{let s=o===null?"null":typeof o;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${s}`)}}class MM{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?SM(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Oc{constructor(t,n,r,o){this.name=t,this.rank=n,this.schema=r,this.spec=o,this.attrs=Uy(t,o.attrs),this.excluded=null;let s=zy(this.attrs);this.instance=s?new Ke(this,s):null}create(t=null){return!t&&this.instance?this.instance:new Ke(this,Ky(this.attrs,t))}static compile(t,n){let r=Object.create(null),o=0;return t.forEach((s,i)=>r[s]=new Oc(s,o++,n,i)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){Wy(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class Ic{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let o in t)n[o]=t[o];n.nodes=kt.from(t.nodes),n.marks=kt.from(t.marks||{}),this.nodes=Zp.compile(this.spec.nodes,this),this.marks=Oc.compile(this.spec.marks,this);let r=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let s=this.nodes[o],i=s.spec.content||"",l=s.spec.marks;if(s.contentMatch=r[i]||(r[i]=Lo.parse(i,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=l=="_"?null:l?em(this,l.split(" ")):l==""||!s.inlineContent?[]:null}for(let o in this.marks){let s=this.marks[o],i=s.spec.excludes;s.excluded=i==null?[s]:i==""?[]:em(this,i.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,o){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof Zp){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,o)}text(t,n){let r=this.nodes.text;return new ba(r,r.defaultAttrs,t,Ke.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeFromJSON(t){return Tn.fromJSON(this,t)}markFromJSON(t){return Ke.fromJSON(this,t)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function em(e,t){let n=[];for(let r=0;r<t.length;r++){let o=t[r],s=e.marks[o],i=s;if(s)n.push(s);else for(let l in e.marks){let a=e.marks[l];(o=="_"||a.spec.group&&a.spec.group.split(" ").indexOf(o)>-1)&&n.push(i=a)}if(!i)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function AM(e){return e.tag!=null}function OM(e){return e.style!=null}class fr{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(o=>{if(AM(o))this.tags.push(o);else if(OM(o)){let s=/[^=]*/.exec(o.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let s=t.nodes[o.node];return s.contentMatch.matchType(s)})}parse(t,n={}){let r=new nm(this,n,!1);return r.addAll(t,Ke.none,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new nm(this,n,!0);return r.addAll(t,Ke.none,n.from,n.to),oe.maxOpen(r.finish())}matchTag(t,n,r){for(let o=r?this.tags.indexOf(r)+1:0;o<this.tags.length;o++){let s=this.tags[o];if(DM(t,s.tag)&&(s.namespace===void 0||t.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let i=s.getAttrs(t);if(i===!1)continue;s.attrs=i||void 0}return s}}}matchStyle(t,n,r,o){for(let s=o?this.styles.indexOf(o)+1:0;s<this.styles.length;s++){let i=this.styles[s],l=i.style;if(!(l.indexOf(t)!=0||i.context&&!r.matchesContext(i.context)||l.length>t.length&&(l.charCodeAt(t.length)!=61||l.slice(t.length+1)!=n))){if(i.getAttrs){let a=i.getAttrs(n);if(a===!1)continue;i.attrs=a||void 0}return i}}}static schemaRules(t){let n=[];function r(o){let s=o.priority==null?50:o.priority,i=0;for(;i<n.length;i++){let l=n[i];if((l.priority==null?50:l.priority)<s)break}n.splice(i,0,o)}for(let o in t.marks){let s=t.marks[o].spec.parseDOM;s&&s.forEach(i=>{r(i=rm(i)),i.mark||i.ignore||i.clearMark||(i.mark=o)})}for(let o in t.nodes){let s=t.nodes[o].spec.parseDOM;s&&s.forEach(i=>{r(i=rm(i)),i.node||i.ignore||i.mark||(i.node=o)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new fr(t,fr.schemaRules(t)))}}const Gy={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},IM={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Jy={ol:!0,ul:!0},va=1,Ea=2,si=4;function tm(e,t,n){return t!=null?(t?va:0)|(t==="full"?Ea:0):e&&e.whitespace=="pre"?va|Ea:n&~si}class ul{constructor(t,n,r,o,s,i){this.type=t,this.attrs=n,this.marks=r,this.solid=o,this.options=i,this.content=[],this.activeMarks=Ke.none,this.match=s||(i&si?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(G.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,o;return(o=r.findWrapping(t.type))?(this.match=r,o):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&va)){let r=this.content[this.content.length-1],o;if(r&&r.isText&&(o=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-o[0].length))}}let n=G.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(G.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!Gy.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class nm{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0;let o=n.topNode,s,i=tm(null,n.preserveWhitespace,0)|(r?si:0);o?s=new ul(o.type,o.attrs,Ke.none,!0,n.topMatch||o.type.contentMatch,i):r?s=new ul(null,null,Ke.none,!0,null,i):s=new ul(t.schema.topNodeType,null,Ke.none,!0,null,i),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let r=t.nodeValue,o=this.top;if(o.options&Ea||o.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(o.options&va)o.options&Ea?r=r.replace(/\r\n?/g,`
`):r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let s=o.content[o.content.length-1],i=t.previousSibling;(!s||i&&i.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n),this.findInText(t)}else this.findInside(t)}addElement(t,n,r){let o=t.nodeName.toLowerCase(),s;Jy.hasOwnProperty(o)&&this.parser.normalizeLists&&RM(t);let i=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(s=this.parser.matchTag(t,this,r));if(i?i.ignore:IM.hasOwnProperty(o))this.findInside(t),this.ignoreFallback(t,n);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(t=i.skip);let l,a=this.top,c=this.needsBlock;if(Gy.hasOwnProperty(o))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),l=!0,a.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);return}let u=i&&i.skip?n:this.readStyles(t,n);u&&this.addAll(t,u),l&&this.sync(a),this.needsBlock=c}else{let l=this.readStyles(t,n);l&&this.addElementByRule(t,i,l,i.consuming===!1?s:void 0)}}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(t,n){let r=t.style;if(r&&r.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let s=this.parser.matchedStyles[o],i=r.getPropertyValue(s);if(i)for(let l=void 0;;){let a=this.parser.matchStyle(s,i,this,l);if(!a)break;if(a.ignore)return null;if(a.clearMark?n=n.filter(c=>!a.clearMark(c)):n=n.concat(this.parser.schema.marks[a.mark].create(a.attrs)),a.consuming===!1)l=a;else break}}return n}addElementByRule(t,n,r,o){let s,i;if(n.node)if(i=this.parser.schema.nodes[n.node],i.isLeaf)this.insertNode(i.create(n.attrs),r)||this.leafFallback(t,r);else{let a=this.enter(i,n.attrs||null,r,n.preserveWhitespace);a&&(s=!0,r=a)}else{let a=this.parser.schema.marks[n.mark];r=r.concat(a.create(n.attrs))}let l=this.top;if(i&&i.isLeaf)this.findInside(t);else if(o)this.addElement(t,r,o);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(a=>this.insertNode(a,r));else{let a=t;typeof n.contentElement=="string"?a=t.querySelector(n.contentElement):typeof n.contentElement=="function"?a=n.contentElement(t):n.contentElement&&(a=n.contentElement),this.findAround(t,a,!0),this.addAll(a,r),this.findAround(t,a,!1)}s&&this.sync(l)&&this.open--}addAll(t,n,r,o){let s=r||0;for(let i=r?t.childNodes[r]:t.firstChild,l=o==null?null:t.childNodes[o];i!=l;i=i.nextSibling,++s)this.findAtPoint(t,s),this.addDOM(i,n);this.findAtPoint(t,s)}findPlace(t,n){let r,o;for(let s=this.open;s>=0;s--){let i=this.nodes[s],l=i.findWrapping(t);if(l&&(!r||r.length>l.length)&&(r=l,o=i,!l.length)||i.solid)break}if(!r)return null;this.sync(o);for(let s=0;s<r.length;s++)n=this.enterInner(r[s],null,n,!1);return n}insertNode(t,n){if(t.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let r=this.findPlace(t,n);if(r){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(t.type));let s=Ke.none;for(let i of r.concat(t.marks))(o.type?o.type.allowsMarkType(i.type):om(i.type,t.type))&&(s=i.addToSet(s));return o.content.push(t.mark(s)),!0}return!1}enter(t,n,r,o){let s=this.findPlace(t.create(n),r);return s&&(s=this.enterInner(t,n,r,!0,o)),s}enterInner(t,n,r,o=!1,s){this.closeExtra();let i=this.top;i.match=i.match&&i.match.matchType(t);let l=tm(t,s,i.options);i.options&si&&i.content.length==0&&(l|=si);let a=Ke.none;return r=r.filter(c=>(i.type?i.type.allowsMarkType(c.type):om(c.type,t))?(a=c.addToSet(a),!1):!0),this.nodes.push(new ul(t,n,a,o,null,l)),this.open++,r}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let n=this.open;n>=0;n--)if(this.nodes[n]==t)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let o=r.length-1;o>=0;o--)t+=r[o].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&t.nodeType==1&&t.contains(this.find[o].node)&&n.compareDocumentPosition(this.find[o].node)&(r?2:4)&&(this.find[o].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(o?0:1),i=(l,a)=>{for(;l>=0;l--){let c=n[l];if(c==""){if(l==n.length-1||l==0)continue;for(;a>=s;a--)if(i(l-1,a))return!0;return!1}else{let u=a>0||a==0&&o?this.nodes[a].type:r&&a>=s?r.node(a-s).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;a--}}return!0};return i(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function RM(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&Jy.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function DM(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function rm(e){let t={};for(let n in e)t[n]=e[n];return t}function om(e,t){let n=t.schema.nodes;for(let r in n){let o=n[r];if(!o.allowsMarkType(e))continue;let s=[],i=l=>{s.push(l);for(let a=0;a<l.edgeCount;a++){let{type:c,next:u}=l.edge(a);if(c==t||s.indexOf(u)<0&&i(u))return!0}};if(i(o.contentMatch))return!0}}class zo{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=pu(n).createDocumentFragment());let o=r,s=[];return t.forEach(i=>{if(s.length||i.marks.length){let l=0,a=0;for(;l<s.length&&a<i.marks.length;){let c=i.marks[a];if(!this.marks[c.type.name]){a++;continue}if(!c.eq(s[l][0])||c.type.spec.spanning===!1)break;l++,a++}for(;l<s.length;)o=s.pop()[1];for(;a<i.marks.length;){let c=i.marks[a++],u=this.serializeMark(c,i.isInline,n);u&&(s.push([c,o]),o.appendChild(u.dom),o=u.contentDOM||u.dom)}}o.appendChild(this.serializeNodeInner(i,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:o}=Dl(pu(n),this.nodes[t.type.name](t),null,t.attrs);if(o){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,o)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let o=t.marks.length-1;o>=0;o--){let s=this.serializeMark(t.marks[o],t.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(t,n,r={}){let o=this.marks[t.type.name];return o&&Dl(pu(r),o(t,n),null,t.attrs)}static renderSpec(t,n,r=null,o){return Dl(t,n,r,o)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new zo(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=sm(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return sm(t.marks)}}function sm(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function pu(e){return e.document||window.document}const im=new WeakMap;function LM(e){let t=im.get(e);return t===void 0&&im.set(e,t=jM(e)),t}function jM(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let o=0;o<r.length;o++)n(r[o]);else for(let o in r)n(r[o])}return n(e),t}function Dl(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let o=t[0],s;if(typeof o!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=LM(r))&&s.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let i=o.indexOf(" ");i>0&&(n=o.slice(0,i),o=o.slice(i+1));let l,a=n?e.createElementNS(n,o):e.createElement(o),c=t[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let f=d.indexOf(" ");f>0?a.setAttributeNS(d.slice(0,f),d.slice(f+1),c[d]):a.setAttribute(d,c[d])}}for(let d=u;d<t.length;d++){let f=t[d];if(f===0){if(d<t.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:h,contentDOM:p}=Dl(e,f,n,r);if(a.appendChild(h),p){if(l)throw new RangeError("Multiple content holes");l=p}}}return{dom:a,contentDOM:l}}const Xy=65535,Yy=Math.pow(2,16);function PM(e,t){return e+t*Yy}function lm(e){return e&Xy}function NM(e){return(e-(e&Xy))/Yy}const Qy=1,Zy=2,Ll=4,eb=8;class Md{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&eb)>0}get deletedBefore(){return(this.delInfo&(Qy|Ll))>0}get deletedAfter(){return(this.delInfo&(Zy|Ll))>0}get deletedAcross(){return(this.delInfo&Ll)>0}}class Wt{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&Wt.empty)return Wt.empty}recover(t){let n=0,r=lm(t);if(!this.inverted)for(let o=0;o<r;o++)n+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+n+NM(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let o=0,s=this.inverted?2:1,i=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?o:0);if(a>t)break;let c=this.ranges[l+s],u=this.ranges[l+i],d=a+c;if(t<=d){let f=c?t==a?-1:t==d?1:n:n,h=a+o+(f<0?0:u);if(r)return h;let p=t==(n<0?a:d)?null:PM(l/3,t-a),g=t==a?Zy:t==d?Qy:Ll;return(n<0?t!=a:t!=d)&&(g|=eb),new Md(h,g,p)}o+=u-c}return r?t+o:new Md(t+o,0,null)}touches(t,n){let r=0,o=lm(n),s=this.inverted?2:1,i=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?r:0);if(a>t)break;let c=this.ranges[l+s],u=a+c;if(t<=u&&l==o*3)return!0;r+=this.ranges[l+i]-c}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let o=0,s=0;o<this.ranges.length;o+=3){let i=this.ranges[o],l=i-(this.inverted?s:0),a=i+(this.inverted?0:s),c=this.ranges[o+n],u=this.ranges[o+r];t(l,l+c,a,a+u),s+=u-c}}invert(){return new Wt(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?Wt.empty:new Wt(t<0?[0,-t,0]:[0,0,t])}}Wt.empty=new Wt([]);class ps{constructor(t=[],n,r=0,o=t.length){this.maps=t,this.mirror=n,this.from=r,this.to=o}slice(t=0,n=this.maps.length){return new ps(this.maps,this.mirror,t,n)}copy(){return new ps(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,n){this.to=this.maps.push(t),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(t){for(let n=0,r=this.maps.length;n<t.maps.length;n++){let o=t.getMirror(n);this.appendMap(t.maps[n],o!=null&&o<n?r+o:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this.maps.length+t.maps.length;n>=0;n--){let o=t.getMirror(n);this.appendMap(t.maps[n].invert(),o!=null&&o>n?r-o-1:void 0)}}invert(){let t=new ps;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this.maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let o=0;for(let s=this.from;s<this.to;s++){let i=this.maps[s],l=i.mapResult(t,n);if(l.recover!=null){let a=this.getMirror(s);if(a!=null&&a>s&&a<this.to){s=a,t=this.maps[a].recover(l.recover);continue}}o|=l.delInfo,t=l.pos}return r?t:new Md(t,o,null)}}const mu=Object.create(null);class ht{getMap(){return Wt.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=mu[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in mu)throw new RangeError("Duplicate use of step JSON ID "+t);return mu[t]=n,n.prototype.jsonID=t,n}}class lt{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new lt(t,null)}static fail(t){return new lt(null,t)}static fromReplace(t,n,r,o){try{return lt.ok(t.replace(n,r,o))}catch(s){if(s instanceof ga)return lt.fail(s.message);throw s}}}function Bf(e,t,n){let r=[];for(let o=0;o<e.childCount;o++){let s=e.child(o);s.content.size&&(s=s.copy(Bf(s.content,t,s))),s.isInline&&(s=t(s,n,o)),r.push(s)}return G.fromArray(r)}class Vr extends ht{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),o=r.node(r.sharedDepth(this.to)),s=new oe(Bf(n.content,(i,l)=>!i.isAtom||!l.type.allowsMarkType(this.mark.type)?i:i.mark(this.mark.addToSet(i.marks)),o),n.openStart,n.openEnd);return lt.fromReplace(t,this.from,this.to,s)}invert(){return new zn(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Vr(n.pos,r.pos,this.mark)}merge(t){return t instanceof Vr&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Vr(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Vr(n.from,n.to,t.markFromJSON(n.mark))}}ht.jsonID("addMark",Vr);class zn extends ht{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new oe(Bf(n.content,o=>o.mark(this.mark.removeFromSet(o.marks)),t),n.openStart,n.openEnd);return lt.fromReplace(t,this.from,this.to,r)}invert(){return new Vr(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new zn(n.pos,r.pos,this.mark)}merge(t){return t instanceof zn&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new zn(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new zn(n.from,n.to,t.markFromJSON(n.mark))}}ht.jsonID("removeMark",zn);class $r extends ht{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return lt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return lt.fromReplace(t,this.pos,this.pos+1,new oe(G.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let o=0;o<n.marks.length;o++)if(!n.marks[o].isInSet(r))return new $r(this.pos,n.marks[o]);return new $r(this.pos,this.mark)}}return new xs(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new $r(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new $r(n.pos,t.markFromJSON(n.mark))}}ht.jsonID("addNodeMark",$r);class xs extends ht{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return lt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return lt.fromReplace(t,this.pos,this.pos+1,new oe(G.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new $r(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new xs(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new xs(n.pos,t.markFromJSON(n.mark))}}ht.jsonID("removeNodeMark",xs);class mt extends ht{constructor(t,n,r,o=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=o}apply(t){return this.structure&&Ad(t,this.from,this.to)?lt.fail("Structure replace would overwrite content"):lt.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Wt([this.from,this.to-this.from,this.slice.size])}invert(t){return new mt(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new mt(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(t){if(!(t instanceof mt)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?oe.empty:new oe(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new mt(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?oe.empty:new oe(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new mt(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new mt(n.from,n.to,oe.fromJSON(t,n.slice),!!n.structure)}}ht.jsonID("replace",mt);class at extends ht{constructor(t,n,r,o,s,i,l=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=s,this.insert=i,this.structure=l}apply(t){if(this.structure&&(Ad(t,this.from,this.gapFrom)||Ad(t,this.gapTo,this.to)))return lt.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return lt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?lt.fromReplace(t,this.from,this.to,r):lt.fail("Content does not fit in gap")}getMap(){return new Wt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new at(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),o=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||o<n.pos||s>r.pos?null:new at(n.pos,r.pos,o,s,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new at(n.from,n.to,n.gapFrom,n.gapTo,oe.fromJSON(t,n.slice),n.insert,!!n.structure)}}ht.jsonID("replaceAround",at);function Ad(e,t,n){let r=e.resolve(t),o=n-t,s=r.depth;for(;o>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,o--;if(o>0){let i=r.node(s).maybeChild(r.indexAfter(s));for(;o>0;){if(!i||i.isLeaf)return!0;i=i.firstChild,o--}}return!1}function VM(e,t,n,r){let o=[],s=[],i,l;e.doc.nodesBetween(t,n,(a,c,u)=>{if(!a.isInline)return;let d=a.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let f=Math.max(c,t),h=Math.min(c+a.nodeSize,n),p=r.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(p)||(i&&i.to==f&&i.mark.eq(d[g])?i.to=h:o.push(i=new zn(f,h,d[g])));l&&l.to==f?l.to=h:s.push(l=new Vr(f,h,r))}}),o.forEach(a=>e.step(a)),s.forEach(a=>e.step(a))}function $M(e,t,n,r){let o=[],s=0;e.doc.nodesBetween(t,n,(i,l)=>{if(!i.isInline)return;s++;let a=null;if(r instanceof Oc){let c=i.marks,u;for(;u=r.isInSet(c);)(a||(a=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(i.marks)&&(a=[r]):a=i.marks;if(a&&a.length){let c=Math.min(l+i.nodeSize,n);for(let u=0;u<a.length;u++){let d=a[u],f;for(let h=0;h<o.length;h++){let p=o[h];p.step==s-1&&d.eq(o[h].style)&&(f=p)}f?(f.to=c,f.step=s):o.push({style:d,from:Math.max(l,t),to:c,step:s})}}}),o.forEach(i=>e.step(new zn(i.from,i.to,i.style)))}function Hf(e,t,n,r=n.contentMatch,o=!0){let s=e.doc.nodeAt(t),i=[],l=t+1;for(let a=0;a<s.childCount;a++){let c=s.child(a),u=l+c.nodeSize,d=r.matchType(c.type);if(!d)i.push(new mt(l,u,oe.empty));else{r=d;for(let f=0;f<c.marks.length;f++)n.allowsMarkType(c.marks[f].type)||e.step(new zn(l,u,c.marks[f]));if(o&&c.isText&&n.whitespace!="pre"){let f,h=/\r?\n|\r/g,p;for(;f=h.exec(c.text);)p||(p=new oe(G.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),i.push(new mt(l+f.index,l+f.index+f[0].length,p))}}l=u}if(!r.validEnd){let a=r.fillBefore(G.empty,!0);e.replace(l,l,new oe(a,0,0))}for(let a=i.length-1;a>=0;a--)e.step(i[a])}function BM(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function Ko(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth;;--r){let o=e.$from.node(r),s=e.$from.index(r),i=e.$to.indexAfter(r);if(r<e.depth&&o.canReplace(s,i,n))return r;if(r==0||o.type.spec.isolating||!BM(o,s,i))break}return null}function HM(e,t,n){let{$from:r,$to:o,depth:s}=t,i=r.before(s+1),l=o.after(s+1),a=i,c=l,u=G.empty,d=0;for(let p=s,g=!1;p>n;p--)g||r.index(p)>0?(g=!0,u=G.from(r.node(p).copy(u)),d++):a--;let f=G.empty,h=0;for(let p=s,g=!1;p>n;p--)g||o.after(p+1)<o.end(p)?(g=!0,f=G.from(o.node(p).copy(f)),h++):c++;e.step(new at(a,c,i,l,new oe(u.append(f),d,h),u.size-d,!0))}function Ff(e,t,n=null,r=e){let o=FM(e,t),s=o&&zM(r,t);return s?o.map(am).concat({type:t,attrs:n}).concat(s.map(am)):null}function am(e){return{type:e,attrs:null}}function FM(e,t){let{parent:n,startIndex:r,endIndex:o}=e,s=n.contentMatchAt(r).findWrapping(t);if(!s)return null;let i=s.length?s[0]:t;return n.canReplaceWith(r,o,i)?s:null}function zM(e,t){let{parent:n,startIndex:r,endIndex:o}=e,s=n.child(r),i=t.contentMatch.findWrapping(s.type);if(!i)return null;let a=(i.length?i[i.length-1]:t).contentMatch;for(let c=r;a&&c<o;c++)a=a.matchType(n.child(c).type);return!a||!a.validEnd?null:i}function KM(e,t,n){let r=G.empty;for(let i=n.length-1;i>=0;i--){if(r.size){let l=n[i].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=G.from(n[i].type.create(n[i].attrs,r))}let o=t.start,s=t.end;e.step(new at(o,s,o,s,new oe(r,0,0),n.length,!0))}function WM(e,t,n,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=e.steps.length;e.doc.nodesBetween(t,n,(i,l)=>{let a=typeof o=="function"?o(i):o;if(i.isTextblock&&!i.hasMarkup(r,a)&&UM(e.doc,e.mapping.slice(s).map(l),r)){let c=null;if(r.schema.linebreakReplacement){let h=r.whitespace=="pre",p=!!r.contentMatch.matchType(r.schema.linebreakReplacement);h&&!p?c=!1:!h&&p&&(c=!0)}c===!1&&nb(e,i,l,s),Hf(e,e.mapping.slice(s).map(l,1),r,void 0,c===null);let u=e.mapping.slice(s),d=u.map(l,1),f=u.map(l+i.nodeSize,1);return e.step(new at(d,f,d+1,f-1,new oe(G.from(r.create(a,null,i.marks)),0,0),1,!0)),c===!0&&tb(e,i,l,s),!1}})}function tb(e,t,n,r){t.forEach((o,s)=>{if(o.isText){let i,l=/\r?\n|\r/g;for(;i=l.exec(o.text);){let a=e.mapping.slice(r).map(n+1+s+i.index);e.replaceWith(a,a+1,t.type.schema.linebreakReplacement.create())}}})}function nb(e,t,n,r){t.forEach((o,s)=>{if(o.type==o.type.schema.linebreakReplacement){let i=e.mapping.slice(r).map(n+1+s);e.replaceWith(i,i+1,t.type.schema.text(`
`))}})}function UM(e,t,n){let r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}function qM(e,t,n,r,o){let s=e.doc.nodeAt(t);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let i=n.create(r,null,o||s.marks);if(s.isLeaf)return e.replaceWith(t,t+s.nodeSize,i);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new at(t,t+s.nodeSize,t+1,t+s.nodeSize-1,new oe(G.from(i),0,0),1,!0))}function hr(e,t,n=1,r){let o=e.resolve(t),s=o.depth-n,i=r&&r[r.length-1]||o.parent;if(s<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!i.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let c=o.depth-1,u=n-2;c>s;c--,u--){let d=o.node(c),f=o.index(c);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),p=r&&r[u+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let g=r&&r[u]||d;if(!d.canReplace(f+1,d.childCount)||!g.type.validContent(h))return!1}let l=o.indexAfter(s),a=r&&r[0];return o.node(s).canReplaceWith(l,l,a?a.type:o.node(s+1).type)}function GM(e,t,n=1,r){let o=e.doc.resolve(t),s=G.empty,i=G.empty;for(let l=o.depth,a=o.depth-n,c=n-1;l>a;l--,c--){s=G.from(o.node(l).copy(s));let u=r&&r[c];i=G.from(u?u.type.create(u.attrs,i):o.node(l).copy(i))}e.step(new mt(t,t,new oe(s.append(i),n,n),!0))}function vr(e,t){let n=e.resolve(t),r=n.index();return rb(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function JM(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let o=0;o<t.childCount;o++){let s=t.child(o),i=s.type==r?e.type.schema.nodes.text:s.type;if(n=n.matchType(i),!n||!e.type.allowsMarks(s.marks))return!1}return n.validEnd}function rb(e,t){return!!(e&&t&&!e.isLeaf&&JM(e,t))}function Rc(e,t,n=-1){let r=e.resolve(t);for(let o=r.depth;;o--){let s,i,l=r.index(o);if(o==r.depth?(s=r.nodeBefore,i=r.nodeAfter):n>0?(s=r.node(o+1),l++,i=r.node(o).maybeChild(l)):(s=r.node(o).maybeChild(l-1),i=r.node(o+1)),s&&!s.isTextblock&&rb(s,i)&&r.node(o).canReplace(l,l+1))return t;if(o==0)break;t=n<0?r.before(o):r.after(o)}}function XM(e,t,n){let r=null,{linebreakReplacement:o}=e.doc.type.schema,s=e.doc.resolve(t-n),i=s.node().type;if(o&&i.inlineContent){let u=i.whitespace=="pre",d=!!i.contentMatch.matchType(o);u&&!d?r=!1:!u&&d&&(r=!0)}let l=e.steps.length;if(r===!1){let u=e.doc.resolve(t+n);nb(e,u.node(),u.before(),l)}i.inlineContent&&Hf(e,t+n-1,i,s.node().contentMatchAt(s.index()),r==null);let a=e.mapping.slice(l),c=a.map(t-n);if(e.step(new mt(c,a.map(t+n,-1),oe.empty,!0)),r===!0){let u=e.doc.resolve(c);tb(e,u.node(),u.before(),e.steps.length)}return e}function YM(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let o=r.depth-1;o>=0;o--){let s=r.index(o);if(r.node(o).canReplaceWith(s,s,n))return r.before(o+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let s=r.indexAfter(o);if(r.node(o).canReplaceWith(s,s,n))return r.after(o+1);if(s<r.node(o).childCount)return null}return null}function ob(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let o=n.content;for(let s=0;s<n.openStart;s++)o=o.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let i=r.depth;i>=0;i--){let l=i==r.depth?0:r.pos<=(r.start(i+1)+r.end(i+1))/2?-1:1,a=r.index(i)+(l>0?1:0),c=r.node(i),u=!1;if(s==1)u=c.canReplace(a,a,o);else{let d=c.contentMatchAt(a).findWrapping(o.firstChild.type);u=d&&c.canReplaceWith(a,a,d[0])}if(u)return l==0?r.pos:l<0?r.before(i+1):r.after(i+1)}return null}function Dc(e,t,n=t,r=oe.empty){if(t==n&&!r.size)return null;let o=e.resolve(t),s=e.resolve(n);return sb(o,s,r)?new mt(t,n,r):new QM(o,s,r).fit()}function sb(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class QM{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=G.empty;for(let o=0;o<=t.depth;o++){let s=t.node(o);this.frontier.push({type:s.type,match:s.contentMatchAt(t.indexAfter(o))})}for(let o=t.depth;o>0;o--)this.placed=G.from(t.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(t<0?this.$to:r.doc.resolve(t));if(!o)return null;let s=this.placed,i=r.depth,l=o.depth;for(;i&&l&&s.childCount==1;)s=s.firstChild.content,i--,l--;let a=new oe(s,i,l);return t>-1?new at(r.pos,t,this.$to.pos,this.$to.end(),a,n):a.size||r.pos!=this.$to.pos?new mt(r.pos,o.pos,a):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,o=this.unplaced.openEnd;r<t;r++){let s=n.firstChild;if(n.childCount>1&&(o=0),s.type.spec.isolating&&o<=r){t=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let o,s=null;r?(s=gu(this.unplaced.content,r-1).firstChild,o=s.content):o=this.unplaced.content;let i=o.firstChild;for(let l=this.depth;l>=0;l--){let{type:a,match:c}=this.frontier[l],u,d=null;if(n==1&&(i?c.matchType(i.type)||(d=c.fillBefore(G.from(i),!1)):s&&a.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:l,parent:s,inject:d};if(n==2&&i&&(u=c.findWrapping(i.type)))return{sliceDepth:r,frontierDepth:l,parent:s,wrap:u};if(s&&c.matchType(s.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,o=gu(t,n);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new oe(t,n+1,Math.max(r,o.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,o=gu(t,n);if(o.childCount<=1&&n>0){let s=t.size-n<=n+o.size;this.unplaced=new oe(qs(t,n-1,1),n-1,s?n-1:r)}else this.unplaced=new oe(qs(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:o,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let g=0;g<s.length;g++)this.openFrontierNode(s[g]);let i=this.unplaced,l=r?r.content:i.content,a=i.openStart-t,c=0,u=[],{match:d,type:f}=this.frontier[n];if(o){for(let g=0;g<o.childCount;g++)u.push(o.child(g));d=d.matchFragment(o)}let h=l.size+t-(i.content.size-i.openEnd);for(;c<l.childCount;){let g=l.child(c),y=d.matchType(g.type);if(!y)break;c++,(c>1||a==0||g.content.size)&&(d=y,u.push(ib(g.mark(f.allowedMarks(g.marks)),c==1?a:0,c==l.childCount?h:-1)))}let p=c==l.childCount;p||(h=-1),this.placed=Gs(this.placed,n,G.from(u)),this.frontier[n].match=d,p&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,y=l;g<h;g++){let _=y.lastChild;this.frontier.push({type:_.type,match:_.contentMatchAt(_.childCount)}),y=_.content}this.unplaced=p?t==0?oe.empty:new oe(qs(i.content,t-1,1),t-1,h<0?i.openEnd:t-1):new oe(qs(i.content,t,c),i.openStart,i.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!_u(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,o=this.$to.after(r);for(;r>1&&o==this.$to.end(--r);)++o;return o}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:o}=this.frontier[n],s=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),i=_u(t,n,o,r,s);if(i){for(let l=n-1;l>=0;l--){let{match:a,type:c}=this.frontier[l],u=_u(t,l,c,a,!0);if(!u||u.childCount)continue e}return{depth:n,fit:i,move:s?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Gs(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let o=t.node(r),s=o.type.contentMatch.fillBefore(o.content,!0,t.index(r));this.openFrontierNode(o.type,o.attrs,s)}return t}openFrontierNode(t,n=null,r){let o=this.frontier[this.depth];o.match=o.match.matchType(t),this.placed=Gs(this.placed,this.depth,G.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(G.empty,!0);n.childCount&&(this.placed=Gs(this.placed,this.frontier.length,n))}}function qs(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(qs(e.firstChild.content,t-1,n)))}function Gs(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Gs(e.lastChild.content,t-1,n)))}function gu(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function ib(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,ib(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(G.empty,!0)))),e.copy(r)}function _u(e,t,n,r,o){let s=e.node(t),i=o?e.indexAfter(t):e.index(t);if(i==s.childCount&&!n.compatibleContent(s.type))return null;let l=r.fillBefore(s.content,!0,i);return l&&!ZM(n,s.content,i)?l:null}function ZM(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function eA(e){return e.spec.defining||e.spec.definingForContent}function tA(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let o=e.doc.resolve(t),s=e.doc.resolve(n);if(sb(o,s,r))return e.step(new mt(t,n,r));let i=ab(o,e.doc.resolve(n));i[i.length-1]==0&&i.pop();let l=-(o.depth+1);i.unshift(l);for(let f=o.depth,h=o.pos-1;f>0;f--,h--){let p=o.node(f).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;i.indexOf(f)>-1?l=f:o.before(f)==h&&i.splice(1,0,-f)}let a=i.indexOf(l),c=[],u=r.openStart;for(let f=r.content,h=0;;h++){let p=f.firstChild;if(c.push(p),h==r.openStart)break;f=p.content}for(let f=u-1;f>=0;f--){let h=c[f],p=eA(h.type);if(p&&!h.sameMarkup(o.node(Math.abs(l)-1)))u=f;else if(p||!h.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let h=(f+u+1)%(r.openStart+1),p=c[h];if(p)for(let g=0;g<i.length;g++){let y=i[(g+a)%i.length],_=!0;y<0&&(_=!1,y=-y);let w=o.node(y-1),b=o.index(y-1);if(w.canReplaceWith(b,b,p.type,p.marks))return e.replace(o.before(y),_?s.after(y):n,new oe(lb(r.content,0,r.openStart,h),h,r.openEnd))}}let d=e.steps.length;for(let f=i.length-1;f>=0&&(e.replace(t,n,r),!(e.steps.length>d));f--){let h=i[f];h<0||(t=o.before(h),n=s.after(h))}}function lb(e,t,n,r,o){if(t<n){let s=e.firstChild;e=e.replaceChild(0,s.copy(lb(s.content,t+1,n,r,s)))}if(t>r){let s=o.contentMatchAt(0),i=s.fillBefore(e).append(e);e=i.append(s.matchFragment(i).fillBefore(G.empty,!0))}return e}function nA(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let o=YM(e.doc,t,r.type);o!=null&&(t=n=o)}e.replaceRange(t,n,new oe(G.from(r),0,0))}function rA(e,t,n){let r=e.doc.resolve(t),o=e.doc.resolve(n),s=ab(r,o);for(let i=0;i<s.length;i++){let l=s[i],a=i==s.length-1;if(a&&l==0||r.node(l).type.contentMatch.validEnd)return e.delete(r.start(l),o.end(l));if(l>0&&(a||r.node(l-1).canReplace(r.index(l-1),o.indexAfter(l-1))))return e.delete(r.before(l),o.after(l))}for(let i=1;i<=r.depth&&i<=o.depth;i++)if(t-r.start(i)==r.depth-i&&n>r.end(i)&&o.end(i)-n!=o.depth-i&&r.start(i-1)==o.start(i-1)&&r.node(i-1).canReplace(r.index(i-1),o.index(i-1)))return e.delete(r.before(i),n);e.delete(t,n)}function ab(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let o=r;o>=0;o--){let s=e.start(o);if(s<e.pos-(e.depth-o)||t.end(o)>t.pos+(t.depth-o)||e.node(o).type.spec.isolating||t.node(o).type.spec.isolating)break;(s==t.start(o)||o==e.depth&&o==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&o&&t.start(o-1)==s-1)&&n.push(o)}return n}class ms extends ht{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return lt.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let o=n.type.create(r,null,n.marks);return lt.fromReplace(t,this.pos,this.pos+1,new oe(G.from(o),0,n.isLeaf?0:1))}getMap(){return Wt.empty}invert(t){return new ms(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new ms(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ms(n.pos,n.attr,n.value)}}ht.jsonID("attr",ms);class wi extends ht{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let o in t.attrs)n[o]=t.attrs[o];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return lt.ok(r)}getMap(){return Wt.empty}invert(t){return new wi(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new wi(n.attr,n.value)}}ht.jsonID("docAttr",wi);let Cs=class extends Error{};Cs=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};Cs.prototype=Object.create(Error.prototype);Cs.prototype.constructor=Cs;Cs.prototype.name="TransformError";class zf{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new ps}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new Cs(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=oe.empty){let o=Dc(this.doc,t,n,r);return o&&this.step(o),this}replaceWith(t,n,r){return this.replace(t,n,new oe(G.from(r),0,0))}delete(t,n){return this.replace(t,n,oe.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return tA(this,t,n,r),this}replaceRangeWith(t,n,r){return nA(this,t,n,r),this}deleteRange(t,n){return rA(this,t,n),this}lift(t,n){return HM(this,t,n),this}join(t,n=1){return XM(this,t,n),this}wrap(t,n){return KM(this,t,n),this}setBlockType(t,n=t,r,o=null){return WM(this,t,n,r,o),this}setNodeMarkup(t,n,r=null,o){return qM(this,t,n,r,o),this}setNodeAttribute(t,n,r){return this.step(new ms(t,n,r)),this}setDocAttribute(t,n){return this.step(new wi(t,n)),this}addNodeMark(t,n){return this.step(new $r(t,n)),this}removeNodeMark(t,n){if(!(n instanceof Ke)){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n=n.isInSet(r.marks),!n)return this}return this.step(new xs(t,n)),this}split(t,n=1,r){return GM(this,t,n,r),this}addMark(t,n,r){return VM(this,t,n,r),this}removeMark(t,n,r){return $M(this,t,n,r),this}clearIncompatible(t,n,r){return Hf(this,t,n,r),this}}const yu=Object.create(null);class ye{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new cb(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=oe.empty){let r=n.content.lastChild,o=null;for(let l=0;l<n.openEnd;l++)o=r,r=r.lastChild;let s=t.steps.length,i=this.ranges;for(let l=0;l<i.length;l++){let{$from:a,$to:c}=i[l],u=t.mapping.slice(s);t.replaceRange(u.map(a.pos),u.map(c.pos),l?oe.empty:n),l==0&&dm(t,s,(r?r.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,o=this.ranges;for(let s=0;s<o.length;s++){let{$from:i,$to:l}=o[s],a=t.mapping.slice(r),c=a.map(i.pos),u=a.map(l.pos);s?t.deleteRange(c,u):(t.replaceRangeWith(c,u,n),dm(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let o=t.parent.inlineContent?new ce(t):ts(t.node(0),t.parent,t.pos,t.index(),n,r);if(o)return o;for(let s=t.depth-1;s>=0;s--){let i=n<0?ts(t.node(0),t.node(s),t.before(s+1),t.index(s),n,r):ts(t.node(0),t.node(s),t.after(s+1),t.index(s)+1,n,r);if(i)return i}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new Sn(t.node(0))}static atStart(t){return ts(t,t,0,0,1)||new Sn(t)}static atEnd(t){return ts(t,t,t.content.size,t.childCount,-1)||new Sn(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=yu[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in yu)throw new RangeError("Duplicate use of selection JSON ID "+t);return yu[t]=n,n.prototype.jsonID=t,n}getBookmark(){return ce.between(this.$anchor,this.$head).getBookmark()}}ye.prototype.visible=!0;class cb{constructor(t,n){this.$from=t,this.$to=n}}let cm=!1;function um(e){!cm&&!e.parent.inlineContent&&(cm=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class ce extends ye{constructor(t,n=t){um(t),um(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return ye.near(r);let o=t.resolve(n.map(this.anchor));return new ce(o.parent.inlineContent?o:r,r)}replace(t,n=oe.empty){if(super.replace(t,n),n==oe.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof ce&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Lc(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ce(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let o=t.resolve(n);return new this(o,r==n?o:t.resolve(r))}static between(t,n,r){let o=t.pos-n.pos;if((!r||o)&&(r=o>=0?1:-1),!n.parent.inlineContent){let s=ye.findFrom(n,r,!0)||ye.findFrom(n,-r,!0);if(s)n=s.$head;else return ye.near(n,r)}return t.parent.inlineContent||(o==0?t=n:(t=(ye.findFrom(t,-r,!0)||ye.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=o<0&&(t=n))),new ce(t,n)}}ye.jsonID("text",ce);class Lc{constructor(t,n){this.anchor=t,this.head=n}map(t){return new Lc(t.map(this.anchor),t.map(this.head))}resolve(t){return ce.between(t.resolve(this.anchor),t.resolve(this.head))}}class ge extends ye{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:o}=n.mapResult(this.anchor),s=t.resolve(o);return r?ye.near(s):new ge(s)}content(){return new oe(G.from(this.node),0,0)}eq(t){return t instanceof ge&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Kf(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ge(t.resolve(n.anchor))}static create(t,n){return new ge(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}ge.prototype.visible=!1;ye.jsonID("node",ge);class Kf{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new Lc(r,r):new Kf(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&ge.isSelectable(r)?new ge(n):ye.near(n)}}class Sn extends ye{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=oe.empty){if(n==oe.empty){t.delete(0,t.doc.content.size);let r=ye.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new Sn(t)}map(t){return new Sn(t)}eq(t){return t instanceof Sn}getBookmark(){return oA}}ye.jsonID("all",Sn);const oA={map(){return this},resolve(e){return new Sn(e)}};function ts(e,t,n,r,o,s=!1){if(t.inlineContent)return ce.create(e,n);for(let i=r-(o>0?0:1);o>0?i<t.childCount:i>=0;i+=o){let l=t.child(i);if(l.isAtom){if(!s&&ge.isSelectable(l))return ge.create(e,n-(o<0?l.nodeSize:0))}else{let a=ts(e,l,n+o,o<0?l.childCount:0,o,s);if(a)return a}n+=l.nodeSize*o}return null}function dm(e,t,n){let r=e.steps.length-1;if(r<t)return;let o=e.steps[r];if(!(o instanceof mt||o instanceof at))return;let s=e.mapping.maps[r],i;s.forEach((l,a,c,u)=>{i==null&&(i=u)}),e.setSelection(ye.near(e.doc.resolve(i),n))}const fm=1,dl=2,hm=4;class sA extends zf{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|fm)&~dl,this.storedMarks=null,this}get selectionSet(){return(this.updated&fm)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=dl,this}ensureMarks(t){return Ke.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&dl)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~dl,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Ke.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let o=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(o.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!t)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let i=this.doc.resolve(n);s=r==n?i.marks():i.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,o.text(t,s)),this.selection.empty||this.setSelection(ye.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=hm,this}get scrolledIntoView(){return(this.updated&hm)>0}}function pm(e,t){return!t||!e?e:e.bind(t)}class Js{constructor(t,n,r){this.name=t,this.init=pm(n.init,r),this.apply=pm(n.apply,r)}}const iA=[new Js("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new Js("selection",{init(e,t){return e.selection||ye.atStart(t.doc)},apply(e){return e.selection}}),new Js("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new Js("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class bu{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=iA.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Js(r.key,r.spec.state,r))})}}class fo{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let o=this.config.plugins[r];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),o=null;for(;;){let s=!1;for(let i=0;i<this.config.plugins.length;i++){let l=this.config.plugins[i];if(l.spec.appendTransaction){let a=o?o[i].n:0,c=o?o[i].state:this,u=a<n.length&&l.spec.appendTransaction.call(l,a?n.slice(a):n,c,r);if(u&&r.filterTransaction(u,i)){if(u.setMeta("appendedTransaction",t),!o){o=[];for(let d=0;d<this.config.plugins.length;d++)o.push(d<i?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),s=!0}o&&(o[i]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new fo(this.config),r=this.config.fields;for(let o=0;o<r.length;o++){let s=r[o];n[s.name]=s.apply(t,this[s.name],this,n)}return n}get tr(){return new sA(this)}static create(t){let n=new bu(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new fo(n);for(let o=0;o<n.fields.length;o++)r[n.fields[o].name]=n.fields[o].init(t,r);return r}reconfigure(t){let n=new bu(this.schema,t.plugins),r=n.fields,o=new fo(n);for(let s=0;s<r.length;s++){let i=r[s].name;o[i]=this.hasOwnProperty(i)?this[i]:r[s].init(t,o)}return o}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=t[r],s=o.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(o,this[o.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let o=new bu(t.schema,t.plugins),s=new fo(o);return o.fields.forEach(i=>{if(i.name=="doc")s.doc=Tn.fromJSON(t.schema,n.doc);else if(i.name=="selection")s.selection=ye.fromJSON(s.doc,n.selection);else if(i.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let l in r){let a=r[l],c=a.spec.state;if(a.key==i.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){s[i.name]=c.fromJSON.call(a,t,n[l],s);return}}s[i.name]=i.init(t,s)}}),s}}function ub(e,t,n){for(let r in e){let o=e[r];o instanceof Function?o=o.bind(t):r=="handleDOMEvents"&&(o=ub(o,t,{})),n[r]=o}return n}class Oe{constructor(t){this.spec=t,this.props={},t.props&&ub(t.props,this,this.props),this.key=t.key?t.key.key:db("plugin")}getState(t){return t[this.key]}}const vu=Object.create(null);function db(e){return e in vu?e+"$"+ ++vu[e]:(vu[e]=0,e+"$")}class Re{constructor(t="key"){this.key=db(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const wt=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},xi=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let Od=null;const lr=function(e,t,n){let r=Od||(Od=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},lA=function(){Od=null},jo=function(e,t,n,r){return n&&(mm(e,t,n,r,-1)||mm(e,t,n,r,1))},aA=/^(img|br|input|textarea|hr)$/i;function mm(e,t,n,r,o){for(;;){if(e==n&&t==r)return!0;if(t==(o<0?0:pn(e))){let s=e.parentNode;if(!s||s.nodeType!=1||zi(e)||aA.test(e.nodeName)||e.contentEditable=="false")return!1;t=wt(e)+(o<0?0:1),e=s}else if(e.nodeType==1){if(e=e.childNodes[t+(o<0?-1:0)],e.contentEditable=="false")return!1;t=o<0?pn(e):0}else return!1}}function pn(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function cA(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=pn(e)}else if(e.parentNode&&!zi(e))t=wt(e),e=e.parentNode;else return null}}function uA(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!zi(e))t=wt(e)+1,e=e.parentNode;else return null}}function dA(e,t,n){for(let r=t==0,o=t==pn(e);r||o;){if(e==n)return!0;let s=wt(e);if(e=e.parentNode,!e)return!1;r=r&&s==0,o=o&&s==pn(e)}}function zi(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const jc=function(e){return e.focusNode&&jo(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function co(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function fA(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function hA(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(pn(r.offsetNode),r.offset)}}catch{}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(pn(r.startContainer),r.startOffset)}}}const Gn=typeof navigator<"u"?navigator:null,gm=typeof document<"u"?document:null,to=Gn&&Gn.userAgent||"",Id=/Edge\/(\d+)/.exec(to),fb=/MSIE \d/.exec(to),Rd=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(to),qt=!!(fb||Rd||Id),zr=fb?document.documentMode:Rd?+Rd[1]:Id?+Id[1]:0,On=!qt&&/gecko\/(\d+)/i.test(to);On&&+(/Firefox\/(\d+)/.exec(to)||[0,0])[1];const Dd=!qt&&/Chrome\/(\d+)/.exec(to),Rt=!!Dd,hb=Dd?+Dd[1]:0,Nt=!qt&&!!Gn&&/Apple Computer/.test(Gn.vendor),Ts=Nt&&(/Mobile\/\w+/.test(to)||!!Gn&&Gn.maxTouchPoints>2),hn=Ts||(Gn?/Mac/.test(Gn.platform):!1),pA=Gn?/Win/.test(Gn.platform):!1,wn=/Android \d/.test(to),Ki=!!gm&&"webkitFontSmoothing"in gm.documentElement.style,mA=Ki?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function gA(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function tr(e,t){return typeof e=="number"?e:e[t]}function _A(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function _m(e,t,n){let r=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,s=e.dom.ownerDocument;for(let i=n||e.dom;i;i=xi(i)){if(i.nodeType!=1)continue;let l=i,a=l==s.body,c=a?gA(s):_A(l),u=0,d=0;if(t.top<c.top+tr(r,"top")?d=-(c.top-t.top+tr(o,"top")):t.bottom>c.bottom-tr(r,"bottom")&&(d=t.bottom-t.top>c.bottom-c.top?t.top+tr(o,"top")-c.top:t.bottom-c.bottom+tr(o,"bottom")),t.left<c.left+tr(r,"left")?u=-(c.left-t.left+tr(o,"left")):t.right>c.right-tr(r,"right")&&(u=t.right-c.right+tr(o,"right")),u||d)if(a)s.defaultView.scrollBy(u,d);else{let f=l.scrollLeft,h=l.scrollTop;d&&(l.scrollTop+=d),u&&(l.scrollLeft+=u);let p=l.scrollLeft-f,g=l.scrollTop-h;t={left:t.left-p,top:t.top-g,right:t.right-p,bottom:t.bottom-g}}if(a||/^(fixed|sticky)$/.test(getComputedStyle(i).position))break}}function yA(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,o;for(let s=(t.left+t.right)/2,i=n+1;i<Math.min(innerHeight,t.bottom);i+=5){let l=e.root.elementFromPoint(s,i);if(!l||l==e.dom||!e.dom.contains(l))continue;let a=l.getBoundingClientRect();if(a.top>=n-20){r=l,o=a.top;break}}return{refDOM:r,refTop:o,stack:pb(e.dom)}}function pb(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=xi(r));return t}function bA({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;mb(n,r==0?0:r-t)}function mb(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:o,left:s}=e[n];r.scrollTop!=o+t&&(r.scrollTop=o+t),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Jo=null;function vA(e){if(e.setActive)return e.setActive();if(Jo)return e.focus(Jo);let t=pb(e);e.focus(Jo==null?{get preventScroll(){return Jo={preventScroll:!0},!0}}:void 0),Jo||(Jo=!1,mb(t,0))}function gb(e,t){let n,r=2e8,o,s=0,i=t.top,l=t.top,a,c;for(let u=e.firstChild,d=0;u;u=u.nextSibling,d++){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=lr(u).getClientRects();else continue;for(let h=0;h<f.length;h++){let p=f[h];if(p.top<=i&&p.bottom>=l){i=Math.max(p.bottom,i),l=Math.min(p.top,l);let g=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(g<r){n=u,r=g,o=g&&n.nodeType==3?{left:p.right<t.left?p.right:p.left,top:t.top}:t,u.nodeType==1&&g&&(s=d+(t.left>=(p.left+p.right)/2?1:0));continue}}else p.top>t.top&&!a&&p.left<=t.left&&p.right>=t.left&&(a=u,c={left:Math.max(p.left,Math.min(p.right,t.left)),top:p.top});!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(s=d+1)}}return!n&&a&&(n=a,o=c,r=0),n&&n.nodeType==3?EA(n,o):!n||r&&n.nodeType==1?{node:e,offset:s}:gb(n,o)}function EA(e,t){let n=e.nodeValue.length,r=document.createRange();for(let o=0;o<n;o++){r.setEnd(e,o+1),r.setStart(e,o);let s=Sr(r,1);if(s.top!=s.bottom&&Wf(t,s))return{node:e,offset:o+(t.left>=(s.left+s.right)/2?1:0)}}return{node:e,offset:0}}function Wf(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function kA(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function wA(e,t,n){let{node:r,offset:o}=gb(t,n),s=-1;if(r.nodeType==1&&!r.firstChild){let i=r.getBoundingClientRect();s=i.left!=i.right&&n.left>(i.left+i.right)/2?1:-1}return e.docView.posFromDOM(r,o,s)}function xA(e,t,n,r){let o=-1;for(let s=t,i=!1;s!=e.dom;){let l=e.docView.nearestDesc(s,!0);if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)){let a=l.dom.getBoundingClientRect();if(l.node.isBlock&&l.parent&&(!i&&a.left>r.left||a.top>r.top?o=l.posBefore:(!i&&a.right<r.left||a.bottom<r.top)&&(o=l.posAfter),i=!0),!l.contentDOM&&o<0&&!l.node.isText)return(l.node.isBlock?r.top<(a.top+a.bottom)/2:r.left<(a.left+a.right)/2)?l.posBefore:l.posAfter}s=l.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n,-1)}function _b(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),s=o;;){let i=e.childNodes[s];if(i.nodeType==1){let l=i.getClientRects();for(let a=0;a<l.length;a++){let c=l[a];if(Wf(t,c))return _b(i,t,c)}}if((s=(s+1)%r)==o)break}return e}function CA(e,t){let n=e.dom.ownerDocument,r,o=0,s=hA(n,t.left,t.top);s&&({node:r,offset:o}=s);let i=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),l;if(!i||!e.dom.contains(i.nodeType!=1?i.parentNode:i)){let c=e.dom.getBoundingClientRect();if(!Wf(t,c)||(i=_b(e.dom,t,c),!i))return null}if(Nt)for(let c=i;r&&c;c=xi(c))c.draggable&&(r=void 0);if(i=kA(i,t),r){if(On&&r.nodeType==1&&(o=Math.min(o,r.childNodes.length),o<r.childNodes.length)){let u=r.childNodes[o],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&o++}let c;Ki&&o&&r.nodeType==1&&(c=r.childNodes[o-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=t.top&&o--,r==e.dom&&o==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?l=e.state.doc.content.size:(o==0||r.nodeType!=1||r.childNodes[o-1].nodeName!="BR")&&(l=xA(e,r,o,t))}l==null&&(l=wA(e,i,t));let a=e.docView.nearestDesc(i,!0);return{pos:l,inside:a?a.posAtStart-a.border:-1}}function ym(e){return e.top<e.bottom||e.left<e.right}function Sr(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(ym(r))return r}return Array.prototype.find.call(n,ym)||e.getBoundingClientRect()}const TA=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function yb(e,t,n){let{node:r,offset:o,atom:s}=e.docView.domFromPos(t,n<0?-1:1),i=Ki||On;if(r.nodeType==3)if(i&&(TA.test(r.nodeValue)||(n<0?!o:o==r.nodeValue.length))){let a=Sr(lr(r,o,o),n);if(On&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let c=Sr(lr(r,o-1,o-1),-1);if(c.top==a.top){let u=Sr(lr(r,o,o+1),-1);if(u.top!=a.top)return zs(u,u.left<c.left)}}return a}else{let a=o,c=o,u=n<0?1:-1;return n<0&&!o?(c++,u=-1):n>=0&&o==r.nodeValue.length?(a--,u=1):n<0?a--:c++,zs(Sr(lr(r,a,c),u),u<0)}if(!e.state.doc.resolve(t-(s||0)).parent.inlineContent){if(s==null&&o&&(n<0||o==pn(r))){let a=r.childNodes[o-1];if(a.nodeType==1)return Eu(a.getBoundingClientRect(),!1)}if(s==null&&o<pn(r)){let a=r.childNodes[o];if(a.nodeType==1)return Eu(a.getBoundingClientRect(),!0)}return Eu(r.getBoundingClientRect(),n>=0)}if(s==null&&o&&(n<0||o==pn(r))){let a=r.childNodes[o-1],c=a.nodeType==3?lr(a,pn(a)-(i?0:1)):a.nodeType==1&&(a.nodeName!="BR"||!a.nextSibling)?a:null;if(c)return zs(Sr(c,1),!1)}if(s==null&&o<pn(r)){let a=r.childNodes[o];for(;a.pmViewDesc&&a.pmViewDesc.ignoreForCoords;)a=a.nextSibling;let c=a?a.nodeType==3?lr(a,0,i?0:1):a.nodeType==1?a:null:null;if(c)return zs(Sr(c,-1),!0)}return zs(Sr(r.nodeType==3?lr(r):r,-n),n>=0)}function zs(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function Eu(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function bb(e,t,n){let r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o&&o.focus()}}function SA(e,t,n){let r=t.selection,o=n=="up"?r.$from:r.$to;return bb(e,t,()=>{let{node:s}=e.docView.domFromPos(o.pos,n=="up"?-1:1);for(;;){let l=e.docView.nearestDesc(s,!0);if(!l)break;if(l.node.isBlock){s=l.contentDOM||l.dom;break}s=l.dom.parentNode}let i=yb(e,o.pos,1);for(let l=s.firstChild;l;l=l.nextSibling){let a;if(l.nodeType==1)a=l.getClientRects();else if(l.nodeType==3)a=lr(l,0,l.nodeValue.length).getClientRects();else continue;for(let c=0;c<a.length;c++){let u=a[c];if(u.bottom>u.top+1&&(n=="up"?i.top-u.top>(u.bottom-i.top)*2:u.bottom-i.bottom>(i.bottom-u.top)*2))return!1}}return!0})}const MA=/[\u0590-\u08ac]/;function AA(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,s=!o,i=o==r.parent.content.size,l=e.domSelection();return l?!MA.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?s:i:bb(e,t,()=>{let{focusNode:a,focusOffset:c,anchorNode:u,anchorOffset:d}=e.domSelectionRange(),f=l.caretBidiLevel;l.modify("move",n,"character");let h=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:p,focusOffset:g}=e.domSelectionRange(),y=p&&!h.contains(p.nodeType==1?p:p.parentNode)||a==p&&c==g;try{l.collapse(u,d),a&&(a!=u||c!=d)&&l.extend&&l.extend(a,c)}catch{}return f!=null&&(l.caretBidiLevel=f),y}):r.pos==r.start()||r.pos==r.end()}let bm=null,vm=null,Em=!1;function OA(e,t,n){return bm==t&&vm==n?Em:(bm=t,vm=n,Em=n=="up"||n=="down"?SA(e,t,n):AA(e,t,n))}const bn=0,km=1,ho=2,Jn=3;class Wi{constructor(t,n,r,o){this.parent=t,this.children=n,this.dom=r,this.contentDOM=o,this.dirty=bn,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let o=this.children[n];if(o==t)return r;r+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let s,i;if(t==this.contentDOM)s=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.previousSibling}for(;s&&!((i=s.pmViewDesc)&&i.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(i)+i.size:this.posAtStart}else{let s,i;if(t==this.contentDOM)s=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.nextSibling}for(;s&&!((i=s.pmViewDesc)&&i.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(i):this.posAtEnd}let o;if(t==this.dom&&this.contentDOM)o=n>wt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=t;;s=s.parentNode){if(s==this.dom){o=!1;break}if(s.previousSibling)break}if(o==null&&n==t.childNodes.length)for(let s=t;;s=s.parentNode){if(s==this.dom){o=!0;break}if(s.nextSibling)break}}return o??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,o=t;o;o=o.parentNode){let s=this.getDesc(o),i;if(s&&(!n||s.node))if(r&&(i=s.nodeDOM)&&!(i.nodeType==1?i.contains(t.nodeType==1?t:t.parentNode):i==t))r=!1;else return s}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let o=t;o;o=o.parentNode){let s=this.getDesc(o);if(s)return s.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let o=this.children[n],s=r+o.size;if(r==t&&s!=r){for(;!o.border&&o.children.length;)o=o.children[0];return o}if(t<s)return o.descAt(t-r-o.border);r=s}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,o=0;for(let s=0;r<this.children.length;r++){let i=this.children[r],l=s+i.size;if(l>t||i instanceof Eb){o=t-s;break}s=l}if(o)return this.children[r].domFromPos(o-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof vb&&s.side>=0;r--);if(n<=0){let s,i=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,i=!1);return s&&n&&i&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?wt(s.dom)+1:0}}else{let s,i=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,i=!1);return s&&i&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?wt(s.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,s=-1;for(let i=r,l=0;;l++){let a=this.children[l],c=i+a.size;if(o==-1&&t<=c){let u=i+a.border;if(t>=u&&n<=c-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(t,n,u);t=i;for(let d=l;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){o=wt(f.dom)+1;break}t-=f.size}o==-1&&(o=0)}if(o>-1&&(c>n||l==this.children.length-1)){n=c;for(let u=l+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=wt(d.dom);break}n+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}i=c}return{node:this.contentDOM,from:t,to:n,fromOffset:o,toOffset:s}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,o=!1){let s=Math.min(t,n),i=Math.max(t,n);for(let f=0,h=0;f<this.children.length;f++){let p=this.children[f],g=h+p.size;if(s>h&&i<g)return p.setSelection(t-h-p.border,n-h-p.border,r,o);h=g}let l=this.domFromPos(t,t?-1:1),a=n==t?l:this.domFromPos(n,n?-1:1),c=r.getSelection(),u=!1;if((On||Nt)&&t==n){let{node:f,offset:h}=l;if(f.nodeType==3){if(u=!!(h&&f.nodeValue[h-1]==`
`),u&&h==f.nodeValue.length)for(let p=f,g;p;p=p.parentNode){if(g=p.nextSibling){g.nodeName=="BR"&&(l=a={node:g.parentNode,offset:wt(g)+1});break}let y=p.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{let p=f.childNodes[h-1];u=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(On&&c.focusNode&&c.focusNode!=a.node&&c.focusNode.nodeType==1){let f=c.focusNode.childNodes[c.focusOffset];f&&f.contentEditable=="false"&&(o=!0)}if(!(o||u&&Nt)&&jo(l.node,l.offset,c.anchorNode,c.anchorOffset)&&jo(a.node,a.offset,c.focusNode,c.focusOffset))return;let d=!1;if((c.extend||t==n)&&!u){c.collapse(l.node,l.offset);try{t!=n&&c.extend(a.node,a.offset),d=!0}catch{}}if(!d){if(t>n){let h=l;l=a,a=h}let f=document.createRange();f.setEnd(a.node,a.offset),f.setStart(l.node,l.offset),c.removeAllRanges(),c.addRange(f)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,o=0;o<this.children.length;o++){let s=this.children[o],i=r+s.size;if(r==i?t<=i&&n>=r:t<i&&n>r){let l=r+s.border,a=i-s.border;if(t>=l&&n<=a){this.dirty=t==r||n==i?ho:km,t==l&&n==a&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Jn:s.markDirty(t-l,n-l);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?ho:Jn}r=i}this.dirty=ho}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?ho:km;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(t){return!1}}class vb extends Wi{constructor(t,n,r,o){let s,i=n.type.toDOM;if(typeof i=="function"&&(i=i(r,()=>{if(!s)return o;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(i.nodeType!=1){let l=document.createElement("span");l.appendChild(i),i=l}i.contentEditable="false",i.classList.add("ProseMirror-widget")}super(t,[],i,null),this.widget=n,this.widget=n,s=this}matchesWidget(t){return this.dirty==bn&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class IA extends Wi{constructor(t,n,r,o){super(t,[],n,null),this.textDOM=r,this.text=o}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class Po extends Wi{constructor(t,n,r,o){super(t,[],r,o),this.mark=n}static create(t,n,r,o){let s=o.nodeViews[n.type.name],i=s&&s(n,o,r);return(!i||!i.dom)&&(i=zo.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Po(t,n,i.dom,i.contentDOM||i.dom)}parseRule(){return this.dirty&Jn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Jn&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=bn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=bn}}slice(t,n,r){let o=Po.create(this.parent,this.mark,!0,r),s=this.children,i=this.size;n<i&&(s=jd(s,n,i,r)),t>0&&(s=jd(s,0,t,r));for(let l=0;l<s.length;l++)s[l].parent=o;return o.children=s,o}}class Kr extends Wi{constructor(t,n,r,o,s,i,l,a,c){super(t,[],s,i),this.node=n,this.outerDeco=r,this.innerDeco=o,this.nodeDOM=l}static create(t,n,r,o,s,i){let l=s.nodeViews[n.type.name],a,c=l&&l(n,s,()=>{if(!a)return i;if(a.parent)return a.parent.posBeforeChild(a)},r,o),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=zo.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let f=u;return u=xb(u,r,n),c?a=new RA(t,n,r,o,u,d||null,f,c,s,i+1):n.isText?new Pc(t,n,r,o,u,f,s):new Kr(t,n,r,o,u,d||null,f,s,i+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>G.empty)}return t}matchesNode(t,n,r){return this.dirty==bn&&t.eq(this.node)&&ka(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,o=n,s=t.composing?this.localCompositionInfo(t,n):null,i=s&&s.pos>-1?s:null,l=s&&s.pos<0,a=new LA(this,i&&i.node,t);NA(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?a.syncToMarks(c.spec.marks,r,t):c.type.side>=0&&!d&&a.syncToMarks(u==this.node.childCount?Ke.none:this.node.child(u).marks,r,t),a.placeWidget(c,t,o)},(c,u,d,f)=>{a.syncToMarks(c.marks,r,t);let h;a.findNodeMatch(c,u,d,f)||l&&t.state.selection.from>o&&t.state.selection.to<o+c.nodeSize&&(h=a.findIndexWithChild(s.node))>-1&&a.updateNodeAt(c,u,d,h,t)||a.updateNextNode(c,u,d,t,f,o)||a.addNode(c,u,d,t,o),o+=c.nodeSize}),a.syncToMarks([],r,t),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==ho)&&(i&&this.protectLocalComposition(t,i),kb(this.contentDOM,this.children,t),Ts&&VA(this.dom))}localCompositionInfo(t,n){let{from:r,to:o}=t.state.selection;if(!(t.state.selection instanceof ce)||r<n||o>n+this.node.content.size)return null;let s=t.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let i=s.nodeValue,l=$A(this.node.content,i,r-n,o-n);return l<0?null:{node:s,pos:l,text:i}}else return{node:s,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:o}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let i=new IA(this,s,n,o);t.input.compositionNodes.push(i),this.children=jd(this.children,r,r+o.length,t,i)}update(t,n,r,o){return this.dirty==Jn||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,o),!0)}updateInner(t,n,r,o){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=bn}updateOuterDeco(t){if(ka(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=wb(this.dom,this.nodeDOM,Ld(this.outerDeco,this.node,n),Ld(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function wm(e,t,n,r,o){xb(r,t,e);let s=new Kr(void 0,e,t,n,r,r,r,o,0);return s.contentDOM&&s.updateChildren(o,0),s}class Pc extends Kr{constructor(t,n,r,o,s,i,l){super(t,n,r,o,s,null,i,l,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,o){return this.dirty==Jn||this.dirty!=bn&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=bn||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=t,this.dirty=bn,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let o=this.node.cut(t,n),s=document.createTextNode(o.text);return new Pc(this.parent,o,this.outerDeco,this.innerDeco,s,s,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Jn)}get domAtom(){return!1}isText(t){return this.node.text==t}}class Eb extends Wi{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==bn&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class RA extends Kr{constructor(t,n,r,o,s,i,l,a,c,u){super(t,n,r,o,s,i,l,c,u),this.spec=a}update(t,n,r,o){if(this.dirty==Jn)return!1;if(this.spec.update){let s=this.spec.update(t,n,r);return s&&this.updateInner(t,n,r,o),s}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,o){this.spec.setSelection?this.spec.setSelection(t,n,r):super.setSelection(t,n,r,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function kb(e,t,n){let r=e.firstChild,o=!1;for(let s=0;s<t.length;s++){let i=t[s],l=i.dom;if(l.parentNode==e){for(;l!=r;)r=xm(r),o=!0;r=r.nextSibling}else o=!0,e.insertBefore(l,r);if(i instanceof Po){let a=r?r.previousSibling:e.lastChild;kb(i.contentDOM,i.children,n),r=a?a.nextSibling:e.firstChild}}for(;r;)r=xm(r),o=!0;o&&n.trackWrites==e&&(n.trackWrites=null)}const ii=function(e){e&&(this.nodeName=e)};ii.prototype=Object.create(null);const po=[new ii];function Ld(e,t,n){if(e.length==0)return po;let r=n?po[0]:new ii,o=[r];for(let s=0;s<e.length;s++){let i=e[s].type.attrs;if(i){i.nodeName&&o.push(r=new ii(i.nodeName));for(let l in i){let a=i[l];a!=null&&(n&&o.length==1&&o.push(r=new ii(t.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+a:l=="style"?r.style=(r.style?r.style+";":"")+a:l!="nodeName"&&(r[l]=a))}}}return o}function wb(e,t,n,r){if(n==po&&r==po)return t;let o=t;for(let s=0;s<r.length;s++){let i=r[s],l=n[s];if(s){let a;l&&l.nodeName==i.nodeName&&o!=e&&(a=o.parentNode)&&a.nodeName.toLowerCase()==i.nodeName||(a=document.createElement(i.nodeName),a.pmIsDeco=!0,a.appendChild(o),l=po[0]),o=a}DA(o,l||po[0],i)}return o}function DA(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)o.indexOf(r[s])==-1&&e.classList.remove(r[s]);for(let s=0;s<o.length;s++)r.indexOf(o[s])==-1&&e.classList.add(o[s]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=r.exec(t.style);)e.style.removeProperty(o[1])}n.style&&(e.style.cssText+=n.style)}}function xb(e,t,n){return wb(e,e,po,Ld(t,n,e.nodeType!=1))}function ka(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function xm(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class LA{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=jA(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let o=0,s=this.stack.length>>1,i=Math.min(s,t.length);for(;o<i&&(o==s-1?this.top:this.stack[o+1<<1]).matchesMark(t[o])&&t[o].type.spec.spanning!==!1;)o++;for(;o<s;)this.destroyRest(),this.top.dirty=bn,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<t.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let a=this.index;a<Math.min(this.index+3,this.top.children.length);a++){let c=this.top.children[a];if(c.matchesMark(t[s])&&!this.isLocked(c.dom)){l=a;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let a=Po.create(this.top,t[s],n,r);this.top.children.splice(this.index,0,a),this.top=a,this.changed=!0}this.index=0,s++}}findNodeMatch(t,n,r,o){let s=-1,i;if(o>=this.preMatch.index&&(i=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&i.matchesNode(t,n,r))s=this.top.children.indexOf(i,this.index);else for(let l=this.index,a=Math.min(this.top.children.length,l+5);l<a;l++){let c=this.top.children[l];if(c.matchesNode(t,n,r)&&!this.preMatch.matched.has(c)){s=l;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(t,n,r,o,s){let i=this.top.children[o];return i.dirty==Jn&&i.dom==i.contentDOM&&(i.dirty=ho),i.update(t,n,r,s)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==r)return o}return-1}t=n}}updateNextNode(t,n,r,o,s,i){for(let l=this.index;l<this.top.children.length;l++){let a=this.top.children[l];if(a instanceof Kr){let c=this.preMatch.matched.get(a);if(c!=null&&c!=s)return!1;let u=a.dom,d,f=this.isLocked(u)&&!(t.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==t.text&&a.dirty!=Jn&&ka(n,a.outerDeco));if(!f&&a.update(t,n,r,o))return this.destroyBetween(this.index,l),a.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(a,t,n,r,o,i)))return this.destroyBetween(this.index,l),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=ho,d.updateChildren(o,i+1),d.dirty=bn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,o,s,i){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!ka(r,t.outerDeco)||!o.eq(t.innerDeco))return null;let l=Kr.create(this.top,n,r,o,s,i);if(l.contentDOM){l.children=t.children,t.children=[];for(let a of l.children)a.parent=l}return t.destroy(),l}addNode(t,n,r,o,s){let i=Kr.create(this.top,t,n,r,o,s);i.contentDOM&&i.updateChildren(o,s+1),this.top.children.splice(this.index++,0,i),this.changed=!0}placeWidget(t,n,r){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(t)&&(t==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let s=new vb(this.top,t,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof Po;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof Pc)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((Nt||Rt)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let o=new Eb(this.top,[],r,null);n!=this.top?n.children.push(o):n.children.splice(this.index++,0,o),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function jA(e,t){let n=t,r=n.children.length,o=e.childCount,s=new Map,i=[];e:for(;o>0;){let l;for(;;)if(r){let c=n.children[r-1];if(c instanceof Po)n=c,r=c.children.length;else{l=c,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let a=l.node;if(a){if(a!=e.child(o-1))break;--o,s.set(l,o),i.push(l)}}return{index:o,matched:s,matches:i.reverse()}}function PA(e,t){return e.type.side-t.type.side}function NA(e,t,n,r){let o=t.locals(e),s=0;if(o.length==0){for(let c=0;c<e.childCount;c++){let u=e.child(c);r(u,o,t.forChild(s,u),c),s+=u.nodeSize}return}let i=0,l=[],a=null;for(let c=0;;){let u,d;for(;i<o.length&&o[i].to==s;){let y=o[i++];y.widget&&(u?(d||(d=[u])).push(y):u=y)}if(u)if(d){d.sort(PA);for(let y=0;y<d.length;y++)n(d[y],c,!!a)}else n(u,c,!!a);let f,h;if(a)h=-1,f=a,a=null;else if(c<e.childCount)h=c,f=e.child(c++);else break;for(let y=0;y<l.length;y++)l[y].to<=s&&l.splice(y--,1);for(;i<o.length&&o[i].from<=s&&o[i].to>s;)l.push(o[i++]);let p=s+f.nodeSize;if(f.isText){let y=p;i<o.length&&o[i].from<y&&(y=o[i].from);for(let _=0;_<l.length;_++)l[_].to<y&&(y=l[_].to);y<p&&(a=f.cut(y-s),f=f.cut(0,y-s),p=y,h=-1)}else for(;i<o.length&&o[i].to<p;)i++;let g=f.isInline&&!f.isLeaf?l.filter(y=>!y.inline):l.slice();r(f,g,t.forChild(s,f),h),s=p}}function VA(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function $A(e,t,n,r){for(let o=0,s=0;o<e.childCount&&s<=r;){let i=e.child(o++),l=s;if(s+=i.nodeSize,!i.isText)continue;let a=i.text;for(;o<e.childCount;){let c=e.child(o++);if(s+=c.nodeSize,!c.isText)break;a+=c.text}if(s>=n){if(s>=r&&a.slice(r-t.length-l,r-l)==t)return r-t.length;let c=l<r?a.lastIndexOf(t,r-l-1):-1;if(c>=0&&c+t.length+l>=n)return l+c;if(n==r&&a.length>=r+t.length-l&&a.slice(r-l,r-l+t.length)==t)return r}}return-1}function jd(e,t,n,r,o){let s=[];for(let i=0,l=0;i<e.length;i++){let a=e[i],c=l,u=l+=a.size;c>=n||u<=t?s.push(a):(c<t&&s.push(a.slice(0,t-c,r)),o&&(s.push(o),o=void 0),u>n&&s.push(a.slice(n-c,a.size,r)))}return s}function Uf(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let o=e.docView.nearestDesc(n.focusNode),s=o&&o.size==0,i=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(i<0)return null;let l=r.resolve(i),a,c;if(jc(n)){for(a=i;o&&!o.node;)o=o.parent;let d=o.node;if(o&&d.isAtom&&ge.isSelectable(d)&&o.parent&&!(d.isInline&&dA(n.focusNode,n.focusOffset,o.dom))){let f=o.posBefore;c=new ge(i==f?l:r.resolve(f))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=i,f=i;for(let h=0;h<n.rangeCount;h++){let p=n.getRangeAt(h);d=Math.min(d,e.docView.posFromDOM(p.startContainer,p.startOffset,1)),f=Math.max(f,e.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(d<0)return null;[a,i]=f==e.state.selection.anchor?[f,d]:[d,f],l=r.resolve(i)}else a=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(a<0)return null}let u=r.resolve(a);if(!c){let d=t=="pointer"||e.state.selection.head<l.pos&&!s?1:-1;c=qf(e,u,l,d)}return c}function Cb(e){return e.editable?e.hasFocus():Sb(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function pr(e,t=!1){let n=e.state.selection;if(Tb(e,n),!!Cb(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&Rt){let r=e.domSelectionRange(),o=e.domObserver.currentSelection;if(r.anchorNode&&o.anchorNode&&jo(r.anchorNode,r.anchorOffset,o.anchorNode,o.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)HA(e);else{let{anchor:r,head:o}=n,s,i;Cm&&!(n instanceof ce)&&(n.$from.parent.inlineContent||(s=Tm(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(i=Tm(e,n.to))),e.docView.setSelection(r,o,e.root,t),Cm&&(s&&Sm(s),i&&Sm(i)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&BA(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const Cm=Nt||Rt&&hb<63;function Tm(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),o=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(Nt&&o&&o.contentEditable=="false")return ku(o);if((!o||o.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(o)return ku(o);if(s)return ku(s)}}function ku(e){return e.contentEditable="true",Nt&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function Sm(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function BA(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=o)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!Cb(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function HA(e){let t=e.domSelection(),n=document.createRange();if(!t)return;let r=e.cursorWrapper.dom,o=r.nodeName=="IMG";o?n.setStart(r.parentNode,wt(r)+1):n.setStart(r,0),n.collapse(!0),t.removeAllRanges(),t.addRange(n),!o&&!e.state.selection.visible&&qt&&zr<=11&&(r.disabled=!0,r.disabled=!1)}function Tb(e,t){if(t instanceof ge){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(Mm(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else Mm(e)}function Mm(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function qf(e,t,n,r){return e.someProp("createSelectionBetween",o=>o(e,t,n))||ce.between(t,n,r)}function Am(e){return e.editable&&!e.hasFocus()?!1:Sb(e)}function Sb(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function FA(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return jo(t.node,t.offset,n.anchorNode,n.anchorOffset)}function Pd(e,t){let{$anchor:n,$head:r}=e.selection,o=t>0?n.max(r):n.min(r),s=o.parent.inlineContent?o.depth?e.doc.resolve(t>0?o.after():o.before()):null:o;return s&&ye.findFrom(s,t)}function Rr(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Om(e,t,n){let r=e.state.selection;if(r instanceof ce)if(n.indexOf("s")>-1){let{$head:o}=r,s=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let i=e.state.doc.resolve(o.pos+s.nodeSize*(t<0?-1:1));return Rr(e,new ce(r.$anchor,i))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let o=Pd(e.state,t);return o&&o instanceof ge?Rr(e,o):!1}else if(!(hn&&n.indexOf("m")>-1)){let o=r.$head,s=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter,i;if(!s||s.isText)return!1;let l=t<0?o.pos-s.nodeSize:o.pos;return s.isAtom||(i=e.docView.descAt(l))&&!i.contentDOM?ge.isSelectable(s)?Rr(e,new ge(t<0?e.state.doc.resolve(o.pos-s.nodeSize):o)):Ki?Rr(e,new ce(e.state.doc.resolve(t<0?l:l+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ge&&r.node.isInline)return Rr(e,new ce(t>0?r.$to:r.$from));{let o=Pd(e.state,t);return o?Rr(e,o):!1}}}function wa(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function li(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function Xo(e,t){return t<0?zA(e):KA(e)}function zA(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o,s,i=!1;for(On&&n.nodeType==1&&r<wa(n)&&li(n.childNodes[r],-1)&&(i=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(li(l,-1))o=n,s=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(Mb(n))break;{let l=n.previousSibling;for(;l&&li(l,-1);)o=n.parentNode,s=wt(l),l=l.previousSibling;if(l)n=l,r=wa(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}i?Nd(e,n,r):o&&Nd(e,o,s)}function KA(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o=wa(n),s,i;for(;;)if(r<o){if(n.nodeType!=1)break;let l=n.childNodes[r];if(li(l,1))s=n,i=++r;else break}else{if(Mb(n))break;{let l=n.nextSibling;for(;l&&li(l,1);)s=l.parentNode,i=wt(l)+1,l=l.nextSibling;if(l)n=l,r=0,o=wa(n);else{if(n=n.parentNode,n==e.dom)break;r=o=0}}}s&&Nd(e,s,i)}function Mb(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function WA(e,t){for(;e&&t==e.childNodes.length&&!zi(e);)t=wt(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function UA(e,t){for(;e&&!t&&!zi(e);)t=wt(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function Nd(e,t,n){if(t.nodeType!=3){let s,i;(i=WA(t,n))?(t=i,n=0):(s=UA(t,n))&&(t=s,n=s.nodeValue.length)}let r=e.domSelection();if(!r)return;if(jc(r)){let s=document.createRange();s.setEnd(t,n),s.setStart(t,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:o}=e;setTimeout(()=>{e.state==o&&pr(e)},50)}function Im(e,t){let n=e.state.doc.resolve(t);if(!(Rt||pA)&&n.parent.inlineContent){let o=e.coordsAtPos(t);if(t>n.start()){let s=e.coordsAtPos(t-1),i=(s.top+s.bottom)/2;if(i>o.top&&i<o.bottom&&Math.abs(s.left-o.left)>1)return s.left<o.left?"ltr":"rtl"}if(t<n.end()){let s=e.coordsAtPos(t+1),i=(s.top+s.bottom)/2;if(i>o.top&&i<o.bottom&&Math.abs(s.left-o.left)>1)return s.left>o.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function Rm(e,t,n){let r=e.state.selection;if(r instanceof ce&&!r.empty||n.indexOf("s")>-1||hn&&n.indexOf("m")>-1)return!1;let{$from:o,$to:s}=r;if(!o.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let i=Pd(e.state,t);if(i&&i instanceof ge)return Rr(e,i)}if(!o.parent.inlineContent){let i=t<0?o:s,l=r instanceof Sn?ye.near(i,t):ye.findFrom(i,t);return l?Rr(e,l):!1}return!1}function Dm(e,t){if(!(e.state.selection instanceof ce))return!0;let{$head:n,$anchor:r,empty:o}=e.state.selection;if(!n.sameParent(r))return!0;if(!o)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let s=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let i=e.state.tr;return t<0?i.delete(n.pos-s.nodeSize,n.pos):i.delete(n.pos,n.pos+s.nodeSize),e.dispatch(i),!0}return!1}function Lm(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function qA(e){if(!Nt||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;Lm(e,r,"true"),setTimeout(()=>Lm(e,r,"false"),20)}return!1}function GA(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function JA(e,t){let n=t.keyCode,r=GA(t);if(n==8||hn&&n==72&&r=="c")return Dm(e,-1)||Xo(e,-1);if(n==46&&!t.shiftKey||hn&&n==68&&r=="c")return Dm(e,1)||Xo(e,1);if(n==13||n==27)return!0;if(n==37||hn&&n==66&&r=="c"){let o=n==37?Im(e,e.state.selection.from)=="ltr"?-1:1:-1;return Om(e,o,r)||Xo(e,o)}else if(n==39||hn&&n==70&&r=="c"){let o=n==39?Im(e,e.state.selection.from)=="ltr"?1:-1:1;return Om(e,o,r)||Xo(e,o)}else{if(n==38||hn&&n==80&&r=="c")return Rm(e,-1,r)||Xo(e,-1);if(n==40||hn&&n==78&&r=="c")return qA(e)||Rm(e,1,r)||Xo(e,1);if(r==(hn?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Ab(e,t){e.someProp("transformCopied",h=>{t=h(t,e)});let n=[],{content:r,openStart:o,openEnd:s}=t;for(;o>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){o--,s--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let i=e.someProp("clipboardSerializer")||zo.fromSchema(e.state.schema),l=jb(),a=l.createElement("div");a.appendChild(i.serializeFragment(r,{document:l}));let c=a.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=Lb[c.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){let p=l.createElement(u[h]);for(;a.firstChild;)p.appendChild(a.firstChild);a.appendChild(p),d++}c=a.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${o} ${s}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=e.someProp("clipboardTextSerializer",h=>h(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:a,text:f,slice:t}}function Ob(e,t,n,r,o){let s=o.parent.type.spec.code,i,l;if(!n&&!t)return null;let a=t&&(r||s||!n);if(a){if(e.someProp("transformPastedText",f=>{t=f(t,s||r,e)}),s)return t?new oe(G.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):oe.empty;let d=e.someProp("clipboardTextParser",f=>f(t,o,r,e));if(d)l=d;else{let f=o.marks(),{schema:h}=e.state,p=zo.fromSchema(h);i=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(g=>{let y=i.appendChild(document.createElement("p"));g&&y.appendChild(p.serializeNode(h.text(g,f)))})}}else e.someProp("transformPastedHTML",d=>{n=d(n,e)}),i=ZA(n),Ki&&eO(i);let c=i&&i.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=i.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;i=f}if(l||(l=(e.someProp("clipboardParser")||e.someProp("domParser")||fr.fromSchema(e.state.schema)).parseSlice(i,{preserveWhitespace:!!(a||u),context:o,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!XA.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)l=tO(jm(l,+u[1],+u[2]),u[4]);else if(l=oe.maxOpen(YA(l.content,o),!0),l.openStart||l.openEnd){let d=0,f=0;for(let h=l.content.firstChild;d<l.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=l.content.lastChild;f<l.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);l=jm(l,d,f)}return e.someProp("transformPasted",d=>{l=d(l,e)}),l}const XA=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function YA(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let o=t.node(n).contentMatchAt(t.index(n)),s,i=[];if(e.forEach(l=>{if(!i)return;let a=o.findWrapping(l.type),c;if(!a)return i=null;if(c=i.length&&s.length&&Rb(a,s,l,i[i.length-1],0))i[i.length-1]=c;else{i.length&&(i[i.length-1]=Db(i[i.length-1],s.length));let u=Ib(l,a);i.push(u),o=o.matchType(u.type),s=a}}),i)return G.from(i)}return e}function Ib(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,G.from(e));return e}function Rb(e,t,n,r,o){if(o<e.length&&o<t.length&&e[o]==t[o]){let s=Rb(e,t,n,r.lastChild,o+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(o==e.length-1?n.type:e[o+1]))return r.copy(r.content.append(G.from(Ib(n,e,o+1))))}}function Db(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,Db(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(G.empty,!0);return e.copy(n.append(r))}function Vd(e,t,n,r,o,s){let i=t<0?e.firstChild:e.lastChild,l=i.content;return e.childCount>1&&(s=0),o<r-1&&(l=Vd(l,t,n,r,o+1,s)),o>=n&&(l=t<0?i.contentMatchAt(0).fillBefore(l,s<=o).append(l):l.append(i.contentMatchAt(i.childCount).fillBefore(G.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,i.copy(l))}function jm(e,t,n){return t<e.openStart&&(e=new oe(Vd(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new oe(Vd(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const Lb={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Pm=null;function jb(){return Pm||(Pm=document.implementation.createHTMLDocument("title"))}function QA(e){let t=window.trustedTypes;return t?t.createPolicy("detachedDocument",{createHTML:n=>n}).createHTML(e):e}function ZA(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=jb().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),o;if((o=r&&Lb[r[1].toLowerCase()])&&(e=o.map(s=>"<"+s+">").join("")+e+o.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=QA(e),o)for(let s=0;s<o.length;s++)n=n.querySelector(o[s])||n;return n}function eO(e){let t=e.querySelectorAll(Rt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function tO(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:o,openStart:s,openEnd:i}=e;for(let l=r.length-2;l>=0;l-=2){let a=n.nodes[r[l]];if(!a||a.hasRequiredAttrs())break;o=G.from(a.create(r[l+1],o)),s++,i++}return new oe(o,s,i)}const Vt={},$t={},nO={touchstart:!0,touchmove:!0};class rO{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function oO(e){for(let t in Vt){let n=Vt[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{iO(e,r)&&!Gf(e,r)&&(e.editable||!(r.type in $t))&&n(e,r)},nO[t]?{passive:!0}:void 0)}Nt&&e.dom.addEventListener("input",()=>null),$d(e)}function Br(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function sO(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function $d(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>Gf(e,r))})}function Gf(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function iO(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function lO(e,t){!Gf(e,t)&&Vt[t.type]&&(e.editable||!(t.type in $t))&&Vt[t.type](e,t)}$t.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!Nb(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(wn&&Rt&&n.keyCode==13)))if(e.domObserver.selectionChanged(e.domSelectionRange())?e.domObserver.flush():n.keyCode!=229&&e.domObserver.forceFlush(),Ts&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",o=>o(e,co(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||JA(e,n)?n.preventDefault():Br(e,"key")};$t.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};$t.keypress=(e,t)=>{let n=t;if(Nb(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||hn&&n.metaKey)return;if(e.someProp("handleKeyPress",o=>o(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof ce)||!r.$from.sameParent(r.$to)){let o=String.fromCharCode(n.charCode);!/[\r\n]/.test(o)&&!e.someProp("handleTextInput",s=>s(e,r.$from.pos,r.$to.pos,o))&&e.dispatch(e.state.tr.insertText(o).scrollIntoView()),n.preventDefault()}};function Nc(e){return{left:e.clientX,top:e.clientY}}function aO(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function Jf(e,t,n,r,o){if(r==-1)return!1;let s=e.state.doc.resolve(r);for(let i=s.depth+1;i>0;i--)if(e.someProp(t,l=>i>s.depth?l(e,n,s.nodeAfter,s.before(i),o,!0):l(e,n,s.node(i),s.before(i),o,!1)))return!0;return!1}function gs(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function cO(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&ge.isSelectable(r)?(gs(e,new ge(n)),!0):!1}function uO(e,t){if(t==-1)return!1;let n=e.state.selection,r,o;n instanceof ge&&(r=n.node);let s=e.state.doc.resolve(t);for(let i=s.depth+1;i>0;i--){let l=i>s.depth?s.nodeAfter:s.node(i);if(ge.isSelectable(l)){r&&n.$from.depth>0&&i>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?o=s.before(n.$from.depth):o=s.before(i);break}}return o!=null?(gs(e,ge.create(e.state.doc,o)),!0):!1}function dO(e,t,n,r,o){return Jf(e,"handleClickOn",t,n,r)||e.someProp("handleClick",s=>s(e,t,r))||(o?uO(e,n):cO(e,n))}function fO(e,t,n,r){return Jf(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",o=>o(e,t,r))}function hO(e,t,n,r){return Jf(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",o=>o(e,t,r))||pO(e,n,r)}function pO(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(gs(e,ce.create(r,0,r.content.size)),!0):!1;let o=r.resolve(t);for(let s=o.depth+1;s>0;s--){let i=s>o.depth?o.nodeAfter:o.node(s),l=o.before(s);if(i.inlineContent)gs(e,ce.create(r,l+1,l+1+i.content.size));else if(ge.isSelectable(i))gs(e,ge.create(r,l));else continue;return!0}}function Xf(e){return xa(e)}const Pb=hn?"metaKey":"ctrlKey";Vt.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=Xf(e),o=Date.now(),s="singleClick";o-e.input.lastClick.time<500&&aO(n,e.input.lastClick)&&!n[Pb]&&(e.input.lastClick.type=="singleClick"?s="doubleClick":e.input.lastClick.type=="doubleClick"&&(s="tripleClick")),e.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:s};let i=e.posAtCoords(Nc(n));i&&(s=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new mO(e,i,n,!!r)):(s=="doubleClick"?fO:hO)(e,i.pos,i.inside,n)?n.preventDefault():Br(e,"pointer"))};class mO{constructor(t,n,r,o){this.view=t,this.pos=n,this.event=r,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[Pb],this.allowDefault=r.shiftKey;let s,i;if(n.inside>-1)s=t.state.doc.nodeAt(n.inside),i=n.inside;else{let u=t.state.doc.resolve(n.pos);s=u.parent,i=u.depth?u.before():0}const l=o?null:r.target,a=l?t.docView.nearestDesc(l,!0):null;this.target=a&&a.dom.nodeType==1?a.dom:null;let{selection:c}=t.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof ge&&c.from<=i&&c.to>i)&&(this.mightDrag={node:s,pos:i,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&On&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Br(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>pr(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Nc(t))),this.updateAllowDefault(t),this.allowDefault||!n?Br(this.view,"pointer"):dO(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||Nt&&this.mightDrag&&!this.mightDrag.node.isAtom||Rt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(gs(this.view,ye.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):Br(this.view,"pointer")}move(t){this.updateAllowDefault(t),Br(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}Vt.touchstart=e=>{e.input.lastTouch=Date.now(),Xf(e),Br(e,"pointer")};Vt.touchmove=e=>{e.input.lastTouch=Date.now(),Br(e,"pointer")};Vt.contextmenu=e=>Xf(e);function Nb(e,t){return e.composing?!0:Nt&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const gO=wn?5e3:-1;$t.compositionstart=$t.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof ce&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),xa(e,!0),e.markCursor=null;else if(xa(e,!t.selection.empty),On&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let o=r.focusNode,s=r.focusOffset;o&&o.nodeType==1&&s!=0;){let i=s<0?o.lastChild:o.childNodes[s-1];if(!i)break;if(i.nodeType==3){let l=e.domSelection();l&&l.collapse(i,i.nodeValue.length);break}else o=i,s=-1}}e.input.composing=!0}Vb(e,gO)};$t.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,Vb(e,20))};function Vb(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>xa(e),t))}function $b(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=yO());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function _O(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=cA(t.focusNode,t.focusOffset),r=uA(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let o=r.pmViewDesc,s=e.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!o||!o.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let i=n.pmViewDesc;if(!(!i||!i.isText(n.nodeValue)))return r}}return n||r}function yO(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function xa(e,t=!1){if(!(wn&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),$b(e),t||e.docView&&e.docView.dirty){let n=Uf(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!e.state.selection.empty?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function bO(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const Ci=qt&&zr<15||Ts&&mA<604;Vt.copy=$t.cut=(e,t)=>{let n=t,r=e.state.selection,o=n.type=="cut";if(r.empty)return;let s=Ci?null:n.clipboardData,i=r.content(),{dom:l,text:a}=Ab(e,i);s?(n.preventDefault(),s.clearData(),s.setData("text/html",l.innerHTML),s.setData("text/plain",a)):bO(e,l),o&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function vO(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function EO(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Ti(e,r.value,null,o,t):Ti(e,r.textContent,r.innerHTML,o,t)},50)}function Ti(e,t,n,r,o){let s=Ob(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",a=>a(e,o,s||oe.empty)))return!0;if(!s)return!1;let i=vO(s),l=i?e.state.tr.replaceSelectionWith(i,r):e.state.tr.replaceSelection(s);return e.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Bb(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}$t.paste=(e,t)=>{let n=t;if(e.composing&&!wn)return;let r=Ci?null:n.clipboardData,o=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&Ti(e,Bb(r),r.getData("text/html"),o,n)?n.preventDefault():EO(e,n)};class Hb{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const Fb=hn?"altKey":"ctrlKey";Vt.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let o=e.state.selection,s=o.empty?null:e.posAtCoords(Nc(n)),i;if(!(s&&s.pos>=o.from&&s.pos<=(o instanceof ge?o.to-1:o.to))){if(r&&r.mightDrag)i=ge.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=e.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=e.docView&&(i=ge.create(e.state.doc,d.posBefore))}}let l=(i||e.state.selection).content(),{dom:a,text:c,slice:u}=Ab(e,l);(!n.dataTransfer.files.length||!Rt||hb>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Ci?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",Ci||n.dataTransfer.setData("text/plain",c),e.dragging=new Hb(u,!n[Fb],i)};Vt.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};$t.dragover=$t.dragenter=(e,t)=>t.preventDefault();$t.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let o=e.posAtCoords(Nc(n));if(!o)return;let s=e.state.doc.resolve(o.pos),i=r&&r.slice;i?e.someProp("transformPasted",p=>{i=p(i,e)}):i=Ob(e,Bb(n.dataTransfer),Ci?null:n.dataTransfer.getData("text/html"),!1,s);let l=!!(r&&!n[Fb]);if(e.someProp("handleDrop",p=>p(e,n,i||oe.empty,l))){n.preventDefault();return}if(!i)return;n.preventDefault();let a=i?ob(e.state.doc,s.pos,i):s.pos;a==null&&(a=s.pos);let c=e.state.tr;if(l){let{node:p}=r;p?p.replace(c):c.deleteSelection()}let u=c.mapping.map(a),d=i.openStart==0&&i.openEnd==0&&i.content.childCount==1,f=c.doc;if(d?c.replaceRangeWith(u,u,i.content.firstChild):c.replaceRange(u,u,i),c.doc.eq(f))return;let h=c.doc.resolve(u);if(d&&ge.isSelectable(i.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(i.content.firstChild))c.setSelection(new ge(h));else{let p=c.mapping.map(a);c.mapping.maps[c.mapping.maps.length-1].forEach((g,y,_,w)=>p=w),c.setSelection(qf(e,h,c.doc.resolve(p)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))};Vt.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&pr(e)},20))};Vt.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};Vt.beforeinput=(e,t)=>{if(Rt&&wn&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",s=>s(e,co(8,"Backspace")))))return;let{$cursor:o}=e.state.selection;o&&o.pos>0&&e.dispatch(e.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let e in $t)Vt[e]=$t[e];function Si(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class Ca{constructor(t,n){this.toDOM=t,this.spec=n||To,this.side=this.spec.side||0}map(t,n,r,o){let{pos:s,deleted:i}=t.mapResult(n.from+o,this.side<0?-1:1);return i?null:new ft(s-r,s-r,this)}valid(){return!0}eq(t){return this==t||t instanceof Ca&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Si(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Wr{constructor(t,n){this.attrs=t,this.spec=n||To}map(t,n,r,o){let s=t.map(n.from+o,this.spec.inclusiveStart?-1:1)-r,i=t.map(n.to+o,this.spec.inclusiveEnd?1:-1)-r;return s>=i?null:new ft(s,i,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof Wr&&Si(this.attrs,t.attrs)&&Si(this.spec,t.spec)}static is(t){return t.type instanceof Wr}destroy(){}}class Yf{constructor(t,n){this.attrs=t,this.spec=n||To}map(t,n,r,o){let s=t.mapResult(n.from+o,1);if(s.deleted)return null;let i=t.mapResult(n.to+o,-1);return i.deleted||i.pos<=s.pos?null:new ft(s.pos-r,i.pos-r,this)}valid(t,n){let{index:r,offset:o}=t.content.findIndex(n.from),s;return o==n.from&&!(s=t.child(r)).isText&&o+s.nodeSize==n.to}eq(t){return this==t||t instanceof Yf&&Si(this.attrs,t.attrs)&&Si(this.spec,t.spec)}destroy(){}}class ft{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new ft(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new ft(t,t,new Ca(n,r))}static inline(t,n,r,o){return new ft(t,n,new Wr(r,o))}static node(t,n,r,o){return new ft(t,n,new Yf(r,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof Wr}get widget(){return this.type instanceof Ca}}const ns=[],To={};class He{constructor(t,n){this.local=t.length?t:ns,this.children=n.length?n:ns}static create(t,n){return n.length?Ta(n,t,0,To):Mt}find(t,n,r){let o=[];return this.findInner(t??0,n??1e9,o,0,r),o}findInner(t,n,r,o,s){for(let i=0;i<this.local.length;i++){let l=this.local[i];l.from<=n&&l.to>=t&&(!s||s(l.spec))&&r.push(l.copy(l.from+o,l.to+o))}for(let i=0;i<this.children.length;i+=3)if(this.children[i]<n&&this.children[i+1]>t){let l=this.children[i]+1;this.children[i+2].findInner(t-l,n-l,r,o+l,s)}}map(t,n,r){return this==Mt||t.maps.length==0?this:this.mapInner(t,n,0,0,r||To)}mapInner(t,n,r,o,s){let i;for(let l=0;l<this.local.length;l++){let a=this.local[l].map(t,r,o);a&&a.type.valid(n,a)?(i||(i=[])).push(a):s.onRemove&&s.onRemove(this.local[l].spec)}return this.children.length?kO(this.children,i||[],t,n,r,o,s):i?new He(i.sort(So),ns):Mt}add(t,n){return n.length?this==Mt?He.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let o,s=0;t.forEach((l,a)=>{let c=a+r,u;if(u=Kb(n,l,c)){for(o||(o=this.children.slice());s<o.length&&o[s]<a;)s+=3;o[s]==a?o[s+2]=o[s+2].addInner(l,u,c+1):o.splice(s,0,a,a+l.nodeSize,Ta(u,l,c+1,To)),s+=3}});let i=zb(s?Wb(n):n,-r);for(let l=0;l<i.length;l++)i[l].type.valid(t,i[l])||i.splice(l--,1);return new He(i.length?this.local.concat(i).sort(So):this.local,o||this.children)}remove(t){return t.length==0||this==Mt?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,o=this.local;for(let s=0;s<r.length;s+=3){let i,l=r[s]+n,a=r[s+1]+n;for(let u=0,d;u<t.length;u++)(d=t[u])&&d.from>l&&d.to<a&&(t[u]=null,(i||(i=[])).push(d));if(!i)continue;r==this.children&&(r=this.children.slice());let c=r[s+2].removeInner(i,l+1);c!=Mt?r[s+2]=c:(r.splice(s,3),s-=3)}if(o.length){for(let s=0,i;s<t.length;s++)if(i=t[s])for(let l=0;l<o.length;l++)o[l].eq(i,n)&&(o==this.local&&(o=this.local.slice()),o.splice(l--,1))}return r==this.children&&o==this.local?this:o.length||r.length?new He(o,r):Mt}forChild(t,n){if(this==Mt)return this;if(n.isLeaf)return He.empty;let r,o;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=t){this.children[l]==t&&(r=this.children[l+2]);break}let s=t+1,i=s+n.content.size;for(let l=0;l<this.local.length;l++){let a=this.local[l];if(a.from<i&&a.to>s&&a.type instanceof Wr){let c=Math.max(s,a.from)-s,u=Math.min(i,a.to)-s;c<u&&(o||(o=[])).push(a.copy(c,u))}}if(o){let l=new He(o.sort(So),ns);return r?new jr([l,r]):l}return r||Mt}eq(t){if(this==t)return!0;if(!(t instanceof He)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return Qf(this.localsInner(t))}localsInner(t){if(this==Mt)return ns;if(t.inlineContent||!this.local.some(Wr.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Wr||n.push(this.local[r]);return n}forEachSet(t){t(this)}}He.empty=new He([],[]);He.removeOverlap=Qf;const Mt=He.empty;class jr{constructor(t){this.members=t}map(t,n){const r=this.members.map(o=>o.map(t,n,To));return jr.from(r)}forChild(t,n){if(n.isLeaf)return He.empty;let r=[];for(let o=0;o<this.members.length;o++){let s=this.members[o].forChild(t,n);s!=Mt&&(s instanceof jr?r=r.concat(s.members):r.push(s))}return jr.from(r)}eq(t){if(!(t instanceof jr)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let o=0;o<this.members.length;o++){let s=this.members[o].localsInner(t);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let i=0;i<s.length;i++)n.push(s[i])}}return n?Qf(r?n:n.sort(So)):ns}static from(t){switch(t.length){case 0:return Mt;case 1:return t[0];default:return new jr(t.every(n=>n instanceof He)?t:t.reduce((n,r)=>n.concat(r instanceof He?r:r.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function kO(e,t,n,r,o,s,i){let l=e.slice();for(let c=0,u=s;c<n.maps.length;c++){let d=0;n.maps[c].forEach((f,h,p,g)=>{let y=g-p-(h-f);for(let _=0;_<l.length;_+=3){let w=l[_+1];if(w<0||f>w+u-d)continue;let b=l[_]+u-d;h>=b?l[_+1]=f<=b?-2:-1:f>=u&&y&&(l[_]+=y,l[_+1]+=y)}d+=y}),u=n.maps[c].map(u,-1)}let a=!1;for(let c=0;c<l.length;c+=3)if(l[c+1]<0){if(l[c+1]==-2){a=!0,l[c+1]=-1;continue}let u=n.map(e[c]+s),d=u-o;if(d<0||d>=r.content.size){a=!0;continue}let f=n.map(e[c+1]+s,-1),h=f-o,{index:p,offset:g}=r.content.findIndex(d),y=r.maybeChild(p);if(y&&g==d&&g+y.nodeSize==h){let _=l[c+2].mapInner(n,y,u+1,e[c]+s+1,i);_!=Mt?(l[c]=d,l[c+1]=h,l[c+2]=_):(l[c+1]=-2,a=!0)}else a=!0}if(a){let c=wO(l,e,t,n,o,s,i),u=Ta(c,r,0,i);t=u.local;for(let d=0;d<l.length;d+=3)l[d+1]<0&&(l.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let h=u.children[d];for(;f<l.length&&l[f]<h;)f+=3;l.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new He(t.sort(So),l)}function zb(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let o=e[r];n.push(new ft(o.from+t,o.to+t,o.type))}return n}function wO(e,t,n,r,o,s,i){function l(a,c){for(let u=0;u<a.local.length;u++){let d=a.local[u].map(r,o,c);d?n.push(d):i.onRemove&&i.onRemove(a.local[u].spec)}for(let u=0;u<a.children.length;u+=3)l(a.children[u+2],a.children[u]+c+1)}for(let a=0;a<e.length;a+=3)e[a+1]==-1&&l(e[a+2],t[a]+s+1);return n}function Kb(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,o=null;for(let s=0,i;s<e.length;s++)(i=e[s])&&i.from>n&&i.to<r&&((o||(o=[])).push(i),e[s]=null);return o}function Wb(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function Ta(e,t,n,r){let o=[],s=!1;t.forEach((l,a)=>{let c=Kb(e,l,a+n);if(c){s=!0;let u=Ta(c,l,n+a+1,r);u!=Mt&&o.push(a,a+l.nodeSize,u)}});let i=zb(s?Wb(e):e,-n).sort(So);for(let l=0;l<i.length;l++)i[l].type.valid(t,i[l])||(r.onRemove&&r.onRemove(i[l].spec),i.splice(l--,1));return i.length||o.length?new He(i,o):Mt}function So(e,t){return e.from-t.from||e.to-t.to}function Qf(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let o=n+1;o<t.length;o++){let s=t[o];if(s.from==r.from){s.to!=r.to&&(t==e&&(t=e.slice()),t[o]=s.copy(s.from,r.to),Nm(t,o+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,s.from),Nm(t,o,r.copy(s.from,r.to)));break}}}return t}function Nm(e,t,n){for(;t<e.length&&So(n,e[t])>0;)t++;e.splice(t,0,n)}function wu(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=Mt&&t.push(r)}),e.cursorWrapper&&t.push(He.create(e.state.doc,[e.cursorWrapper.deco])),jr.from(t)}const xO={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},CO=qt&&zr<=11;class TO{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class SO{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new TO,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let o=0;o<r.length;o++)this.queue.push(r[o]);qt&&zr<=11&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),CO&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,xO)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Am(this.view)){if(this.suppressingSelectionUpdates)return pr(this.view);if(qt&&zr<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&jo(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let s=t.focusNode;s;s=xi(s))n.add(s);for(let s=t.anchorNode;s;s=xi(s))if(n.has(s)){r=s;break}let o=r&&this.view.docView.nearestDesc(r);if(o&&o.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}selectionChanged(t){return!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&Am(this.view)&&!this.ignoreSelectionChange(t)}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),o=this.selectionChanged(r),s=-1,i=-1,l=!1,a=[];if(t.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],a);d&&(s=s<0?d.from:Math.min(d.from,s),i=i<0?d.to:Math.max(d.to,i),d.typeOver&&(l=!0))}if(On&&a.length){let u=a.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,f]=u;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of u){let h=f.parentNode;h&&h.nodeName=="LI"&&(!d||OO(t,d)!=h)&&f.remove()}}}let c=null;s<0&&o&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&jc(r)&&(c=Uf(t))&&c.eq(ye.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,pr(t),this.currentSelection.set(r),t.scrollToSelection()):(s>-1||o)&&(s>-1&&(t.docView.markDirty(s,i),MO(t)),this.handleDOMChange(s,i,l,a),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||pr(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let u=0;u<t.addedNodes.length;u++){let d=t.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let o=t.previousSibling,s=t.nextSibling;if(qt&&zr<=11&&t.addedNodes.length)for(let u=0;u<t.addedNodes.length;u++){let{previousSibling:d,nextSibling:f}=t.addedNodes[u];(!d||Array.prototype.indexOf.call(t.addedNodes,d)<0)&&(o=d),(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(s=f)}let i=o&&o.parentNode==t.target?wt(o)+1:0,l=r.localPosFromDOM(t.target,i,-1),a=s&&s.parentNode==t.target?wt(s):t.target.childNodes.length,c=r.localPosFromDOM(t.target,a,1);return{from:l,to:c}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let Vm=new WeakMap,$m=!1;function MO(e){if(!Vm.has(e)&&(Vm.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=On,$m)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),$m=!0}}function Bm(e,t){let n=t.startContainer,r=t.startOffset,o=t.endContainer,s=t.endOffset,i=e.domAtPos(e.state.selection.anchor);return jo(i.node,i.offset,o,s)&&([n,r,o,s]=[o,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:s}}function AO(e,t){if(t.getComposedRanges){let o=t.getComposedRanges(e.root)[0];if(o)return Bm(e,o)}let n;function r(o){o.preventDefault(),o.stopImmediatePropagation(),n=o.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?Bm(e,n):null}function OO(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function IO(e,t,n){let{node:r,fromOffset:o,toOffset:s,from:i,to:l}=e.docView.parseRange(t,n),a=e.domSelectionRange(),c,u=a.anchorNode;if(u&&e.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:a.anchorOffset}],jc(a)||c.push({node:a.focusNode,offset:a.focusOffset})),Rt&&e.input.lastKeyCode===8)for(let y=s;y>o;y--){let _=r.childNodes[y-1],w=_.pmViewDesc;if(_.nodeName=="BR"&&!w){s=y;break}if(!w||w.size)break}let d=e.state.doc,f=e.someProp("domParser")||fr.fromSchema(e.state.schema),h=d.resolve(i),p=null,g=f.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:o,to:s,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:RO,context:h});if(c&&c[0].pos!=null){let y=c[0].pos,_=c[1]&&c[1].pos;_==null&&(_=y),p={anchor:y+i,head:_+i}}return{doc:g,sel:p,from:i,to:l}}function RO(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(Nt&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||Nt&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const DO=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function LO(e,t,n,r,o){let s=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let M=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,O=Uf(e,M);if(O&&!e.state.selection.eq(O)){if(Rt&&wn&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",v=>v(e,co(13,"Enter"))))return;let $=e.state.tr.setSelection(O);M=="pointer"?$.setMeta("pointer",!0):M=="key"&&$.scrollIntoView(),s&&$.setMeta("composition",s),e.dispatch($)}return}let i=e.state.doc.resolve(t),l=i.sharedDepth(n);t=i.before(l+1),n=e.state.doc.resolve(n).after(l+1);let a=e.state.selection,c=IO(e,t,n),u=e.state.doc,d=u.slice(c.from,c.to),f,h;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(f=e.state.selection.to,h="end"):(f=e.state.selection.from,h="start"),e.input.lastKeyCode=null;let p=NO(d.content,c.doc.content,c.from,f,h);if(p&&e.input.domChangeCount++,(Ts&&e.input.lastIOSEnter>Date.now()-225||wn)&&o.some(M=>M.nodeType==1&&!DO.test(M.nodeName))&&(!p||p.endA>=p.endB)&&e.someProp("handleKeyDown",M=>M(e,co(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!p)if(r&&a instanceof ce&&!a.empty&&a.$head.sameParent(a.$anchor)&&!e.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))p={start:a.from,endA:a.to,endB:a.to};else{if(c.sel){let M=Hm(e,e.state.doc,c.sel);if(M&&!M.eq(e.state.selection)){let O=e.state.tr.setSelection(M);s&&O.setMeta("composition",s),e.dispatch(O)}}return}e.state.selection.from<e.state.selection.to&&p.start==p.endB&&e.state.selection instanceof ce&&(p.start>e.state.selection.from&&p.start<=e.state.selection.from+2&&e.state.selection.from>=c.from?p.start=e.state.selection.from:p.endA<e.state.selection.to&&p.endA>=e.state.selection.to-2&&e.state.selection.to<=c.to&&(p.endB+=e.state.selection.to-p.endA,p.endA=e.state.selection.to)),qt&&zr<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>c.from&&c.doc.textBetween(p.start-c.from-1,p.start-c.from+1)==" "&&(p.start--,p.endA--,p.endB--);let g=c.doc.resolveNoCache(p.start-c.from),y=c.doc.resolveNoCache(p.endB-c.from),_=u.resolve(p.start),w=g.sameParent(y)&&g.parent.inlineContent&&_.end()>=p.endA,b;if((Ts&&e.input.lastIOSEnter>Date.now()-225&&(!w||o.some(M=>M.nodeName=="DIV"||M.nodeName=="P"))||!w&&g.pos<c.doc.content.size&&!g.sameParent(y)&&(b=ye.findFrom(c.doc.resolve(g.pos+1),1,!0))&&b.head==y.pos)&&e.someProp("handleKeyDown",M=>M(e,co(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>p.start&&PO(u,p.start,p.endA,g,y)&&e.someProp("handleKeyDown",M=>M(e,co(8,"Backspace")))){wn&&Rt&&e.domObserver.suppressSelectionUpdates();return}Rt&&wn&&p.endB==p.start&&(e.input.lastAndroidDelete=Date.now()),wn&&!w&&g.start()!=y.start()&&y.parentOffset==0&&g.depth==y.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==p.endA&&(p.endB-=2,y=c.doc.resolveNoCache(p.endB-c.from),setTimeout(()=>{e.someProp("handleKeyDown",function(M){return M(e,co(13,"Enter"))})},20));let E=p.start,T=p.endA,x,D,N;if(w){if(g.pos==y.pos)qt&&zr<=11&&g.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>pr(e),20)),x=e.state.tr.delete(E,T),D=u.resolve(p.start).marksAcross(u.resolve(p.endA));else if(p.endA==p.endB&&(N=jO(g.parent.content.cut(g.parentOffset,y.parentOffset),_.parent.content.cut(_.parentOffset,p.endA-_.start()))))x=e.state.tr,N.type=="add"?x.addMark(E,T,N.mark):x.removeMark(E,T,N.mark);else if(g.parent.child(g.index()).isText&&g.index()==y.index()-(y.textOffset?0:1)){let M=g.parent.textBetween(g.parentOffset,y.parentOffset);if(e.someProp("handleTextInput",O=>O(e,E,T,M)))return;x=e.state.tr.insertText(M,E,T)}}if(x||(x=e.state.tr.replace(E,T,c.doc.slice(p.start-c.from,p.endB-c.from))),c.sel){let M=Hm(e,x.doc,c.sel);M&&!(Rt&&wn&&e.composing&&M.empty&&(p.start!=p.endB||e.input.lastAndroidDelete<Date.now()-100)&&(M.head==E||M.head==x.mapping.map(T)-1)||qt&&M.empty&&M.head==E)&&x.setSelection(M)}D&&x.ensureMarks(D),s&&x.setMeta("composition",s),e.dispatch(x.scrollIntoView())}function Hm(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:qf(e,t.resolve(n.anchor),t.resolve(n.head))}function jO(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,o=n,s=r,i,l,a;for(let u=0;u<r.length;u++)o=r[u].removeFromSet(o);for(let u=0;u<n.length;u++)s=n[u].removeFromSet(s);if(o.length==1&&s.length==0)l=o[0],i="add",a=u=>u.mark(l.addToSet(u.marks));else if(o.length==0&&s.length==1)l=s[0],i="remove",a=u=>u.mark(l.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<t.childCount;u++)c.push(a(t.child(u)));if(G.from(c).eq(e))return{mark:l,type:i}}function PO(e,t,n,r,o){if(n-t<=o.pos-r.pos||xu(r,!0,!1)<o.pos)return!1;let s=e.resolve(t);if(!r.parent.isTextblock){let l=s.nodeAfter;return l!=null&&n==t+l.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let i=e.resolve(xu(s,!0,!0));return!i.parent.isTextblock||i.pos>n||xu(i,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(i.parent.content)}function xu(e,t,n){let r=e.depth,o=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,o++,t=!1;if(n){let s=e.node(r).maybeChild(e.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,o++}return o}function NO(e,t,n,r,o){let s=e.findDiffStart(t,n);if(s==null)return null;let{a:i,b:l}=e.findDiffEnd(t,n+e.size,n+t.size);if(o=="end"){let a=Math.max(0,s-Math.min(i,l));r-=i+a-s}if(i<s&&e.size<t.size){let a=r<=s&&r>=i?s-r:0;s-=a,s&&s<t.size&&Fm(t.textBetween(s-1,s+1))&&(s+=a?1:-1),l=s+(l-i),i=s}else if(l<s){let a=r<=s&&r>=l?s-r:0;s-=a,s&&s<e.size&&Fm(e.textBetween(s-1,s+1))&&(s+=a?1:-1),i=s+(i-l),l=s}return{start:s,endA:i,endB:l}}function Fm(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class VO{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new rO,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(qm),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=Wm(this),Km(this),this.nodeViews=Um(this),this.docView=wm(this.state.doc,zm(this),wu(this),this.dom,this),this.domObserver=new SO(this,(r,o,s,i)=>LO(this,r,o,s,i)),this.domObserver.start(),oO(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&$d(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(qm),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let o=this.state,s=!1,i=!1;t.storedMarks&&this.composing&&($b(this),i=!0),this.state=t;let l=o.plugins!=t.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let h=Um(this);BO(h,this.nodeViews)&&(this.nodeViews=h,s=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&$d(this),this.editable=Wm(this),Km(this);let a=wu(this),c=zm(this),u=o.plugins!=t.plugins&&!o.doc.eq(t.doc)?"reset":t.scrollToSelection>o.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(t.doc,c,a);(d||!t.selection.eq(o.selection))&&(i=!0);let f=u=="preserve"&&i&&this.dom.style.overflowAnchor==null&&yA(this);if(i){this.domObserver.stop();let h=d&&(qt||Rt)&&!this.composing&&!o.selection.empty&&!t.selection.empty&&$O(o.selection,t.selection);if(d){let p=Rt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=_O(this)),(s||!this.docView.update(t.doc,c,a,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=wm(t.doc,c,a,this.dom,this)),p&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&FA(this))?pr(this,h):(Tb(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!((r=this.dragging)===null||r===void 0)&&r.node&&!o.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,o),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&bA(f)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof ge){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&_m(this,n.getBoundingClientRect(),t)}else _m(this,this.coordsAtPos(this.state.selection.head,1),t)}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,o=-1;if(this.state.doc.nodeAt(r.from)==r.node)o=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(o=s)}this.dragging=new Hb(t.slice,t.move,o<0?void 0:ge.create(this.state.doc,o))}someProp(t,n){let r=this._props&&this._props[t],o;if(r!=null&&(o=n?n(r):r))return o;for(let i=0;i<this.directPlugins.length;i++){let l=this.directPlugins[i].props[t];if(l!=null&&(o=n?n(l):l))return o}let s=this.state.plugins;if(s)for(let i=0;i<s.length;i++){let l=s[i].props[t];if(l!=null&&(o=n?n(l):l))return o}}hasFocus(){if(qt){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&vA(this.dom),pr(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return CA(this,t)}coordsAtPos(t,n=1){return yb(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let o=this.docView.posFromDOM(t,n,r);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(t,n){return OA(this,n||this.state,t)}pasteHTML(t,n){return Ti(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return Ti(this,t,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(sO(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],wu(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,lA())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return lO(this,t)}dispatch(t){let n=this._props.dispatchTransaction;n?n.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){let t=this.domSelection();return t?Nt&&this.root.nodeType===11&&fA(this.dom.ownerDocument)==this.dom&&AO(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function zm(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[ft.node(0,e.state.doc.content.size,t)]}function Km(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:ft.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Wm(e){return!e.someProp("editable",t=>t(e.state)===!1)}function $O(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function Um(e){let t=Object.create(null);function n(r){for(let o in r)Object.prototype.hasOwnProperty.call(t,o)||(t[o]=r[o])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function BO(e,t){let n=0,r=0;for(let o in e){if(e[o]!=t[o])return!0;n++}for(let o in t)r++;return n!=r}function qm(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Jr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Sa={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},HO=typeof navigator<"u"&&/Mac/.test(navigator.platform),FO=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var xt=0;xt<10;xt++)Jr[48+xt]=Jr[96+xt]=String(xt);for(var xt=1;xt<=24;xt++)Jr[xt+111]="F"+xt;for(var xt=65;xt<=90;xt++)Jr[xt]=String.fromCharCode(xt+32),Sa[xt]=String.fromCharCode(xt);for(var Cu in Jr)Sa.hasOwnProperty(Cu)||(Sa[Cu]=Jr[Cu]);function zO(e){var t=HO&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||FO&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?Sa:Jr)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const KO=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function WO(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,o,s,i;for(let l=0;l<t.length-1;l++){let a=t[l];if(/^(cmd|meta|m)$/i.test(a))i=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))o=!0;else if(/^s(hift)?$/i.test(a))s=!0;else if(/^mod$/i.test(a))KO?i=!0:o=!0;else throw new Error("Unrecognized modifier name: "+a)}return r&&(n="Alt-"+n),o&&(n="Ctrl-"+n),i&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function UO(e){let t=Object.create(null);for(let n in e)t[WO(n)]=e[n];return t}function Tu(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function qO(e){return new Oe({props:{handleKeyDown:Zf(e)}})}function Zf(e){let t=UO(e);return function(n,r){let o=zO(r),s,i=t[Tu(o,r)];if(i&&i(n.state,n.dispatch,n))return!0;if(o.length==1&&o!=" "){if(r.shiftKey){let l=t[Tu(o,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||o.charCodeAt(0)>127)&&(s=Jr[r.keyCode])&&s!=o){let l=t[Tu(s,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}const GO=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function Ub(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const JO=(e,t,n)=>{let r=Ub(e,n);if(!r)return!1;let o=eh(r);if(!o){let i=r.blockRange(),l=i&&Ko(i);return l==null?!1:(t&&t(e.tr.lift(i,l).scrollIntoView()),!0)}let s=o.nodeBefore;if(Xb(e,o,t,-1))return!0;if(r.parent.content.size==0&&(Ss(s,"end")||ge.isSelectable(s)))for(let i=r.depth;;i--){let l=Dc(e.doc,r.before(i),r.after(i),oe.empty);if(l&&l.slice.size<l.to-l.from){if(t){let a=e.tr.step(l);a.setSelection(Ss(s,"end")?ye.findFrom(a.doc.resolve(a.mapping.map(o.pos,-1)),-1):ge.create(a.doc,o.pos-s.nodeSize)),t(a.scrollIntoView())}return!0}if(i==1||r.node(i-1).childCount>1)break}return s.isAtom&&o.depth==r.depth-1?(t&&t(e.tr.delete(o.pos-s.nodeSize,o.pos).scrollIntoView()),!0):!1},XO=(e,t,n)=>{let r=Ub(e,n);if(!r)return!1;let o=eh(r);return o?qb(e,o,t):!1},YO=(e,t,n)=>{let r=Gb(e,n);if(!r)return!1;let o=th(r);return o?qb(e,o,t):!1};function qb(e,t,n){let r=t.nodeBefore,o=r,s=t.pos-1;for(;!o.isTextblock;s--){if(o.type.spec.isolating)return!1;let u=o.lastChild;if(!u)return!1;o=u}let i=t.nodeAfter,l=i,a=t.pos+1;for(;!l.isTextblock;a++){if(l.type.spec.isolating)return!1;let u=l.firstChild;if(!u)return!1;l=u}let c=Dc(e.doc,s,a,oe.empty);if(!c||c.from!=s||c instanceof mt&&c.slice.size>=a-s)return!1;if(n){let u=e.tr.step(c);u.setSelection(ce.create(u.doc,s)),n(u.scrollIntoView())}return!0}function Ss(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const QO=(e,t,n)=>{let{$head:r,empty:o}=e.selection,s=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;s=eh(r)}let i=s&&s.nodeBefore;return!i||!ge.isSelectable(i)?!1:(t&&t(e.tr.setSelection(ge.create(e.doc,s.pos-i.nodeSize)).scrollIntoView()),!0)};function eh(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function Gb(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const ZO=(e,t,n)=>{let r=Gb(e,n);if(!r)return!1;let o=th(r);if(!o)return!1;let s=o.nodeAfter;if(Xb(e,o,t,1))return!0;if(r.parent.content.size==0&&(Ss(s,"start")||ge.isSelectable(s))){let i=Dc(e.doc,r.before(),r.after(),oe.empty);if(i&&i.slice.size<i.to-i.from){if(t){let l=e.tr.step(i);l.setSelection(Ss(s,"start")?ye.findFrom(l.doc.resolve(l.mapping.map(o.pos)),1):ge.create(l.doc,l.mapping.map(o.pos))),t(l.scrollIntoView())}return!0}}return s.isAtom&&o.depth==r.depth-1?(t&&t(e.tr.delete(o.pos,o.pos+s.nodeSize).scrollIntoView()),!0):!1},eI=(e,t,n)=>{let{$head:r,empty:o}=e.selection,s=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;s=th(r)}let i=s&&s.nodeAfter;return!i||!ge.isSelectable(i)?!1:(t&&t(e.tr.setSelection(ge.create(e.doc,s.pos)).scrollIntoView()),!0)};function th(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const tI=(e,t)=>{let n=e.selection,r=n instanceof ge,o;if(r){if(n.node.isTextblock||!vr(e.doc,n.from))return!1;o=n.from}else if(o=Rc(e.doc,n.from,-1),o==null)return!1;if(t){let s=e.tr.join(o);r&&s.setSelection(ge.create(s.doc,o-e.doc.resolve(o).nodeBefore.nodeSize)),t(s.scrollIntoView())}return!0},nI=(e,t)=>{let n=e.selection,r;if(n instanceof ge){if(n.node.isTextblock||!vr(e.doc,n.to))return!1;r=n.to}else if(r=Rc(e.doc,n.to,1),r==null)return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0},rI=(e,t)=>{let{$from:n,$to:r}=e.selection,o=n.blockRange(r),s=o&&Ko(o);return s==null?!1:(t&&t(e.tr.lift(o,s).scrollIntoView()),!0)},oI=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function Jb(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const sI=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let o=n.node(-1),s=n.indexAfter(-1),i=Jb(o.contentMatchAt(s));if(!i||!o.canReplaceWith(s,s,i))return!1;if(t){let l=n.after(),a=e.tr.replaceWith(l,l,i.createAndFill());a.setSelection(ye.near(a.doc.resolve(l),1)),t(a.scrollIntoView())}return!0},iI=(e,t)=>{let n=e.selection,{$from:r,$to:o}=n;if(n instanceof Sn||r.parent.inlineContent||o.parent.inlineContent)return!1;let s=Jb(o.parent.contentMatchAt(o.indexAfter()));if(!s||!s.isTextblock)return!1;if(t){let i=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,l=e.tr.insert(i,s.createAndFill());l.setSelection(ce.create(l.doc,i+1)),t(l.scrollIntoView())}return!0},lI=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(hr(e.doc,s))return t&&t(e.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),o=r&&Ko(r);return o==null?!1:(t&&t(e.tr.lift(r,o).scrollIntoView()),!0)},aI=(e,t)=>{let{$from:n,to:r}=e.selection,o,s=n.sharedDepth(r);return s==0?!1:(o=n.before(s),t&&t(e.tr.setSelection(ge.create(e.doc,o))),!0)};function cI(e,t,n){let r=t.nodeBefore,o=t.nodeAfter,s=t.index();return!r||!o||!r.type.compatibleContent(o.type)?!1:!r.content.size&&t.parent.canReplace(s-1,s)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(s,s+1)||!(o.isTextblock||vr(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function Xb(e,t,n,r){let o=t.nodeBefore,s=t.nodeAfter,i,l,a=o.type.spec.isolating||s.type.spec.isolating;if(!a&&cI(e,t,n))return!0;let c=!a&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(i=(l=o.contentMatchAt(o.childCount)).findWrapping(s.type))&&l.matchType(i[0]||s.type).validEnd){if(n){let h=t.pos+s.nodeSize,p=G.empty;for(let _=i.length-1;_>=0;_--)p=G.from(i[_].create(null,p));p=G.from(o.copy(p));let g=e.tr.step(new at(t.pos-1,h,t.pos,h,new oe(p,1,0),i.length,!0)),y=g.doc.resolve(h+2*i.length);y.nodeAfter&&y.nodeAfter.type==o.type&&vr(g.doc,y.pos)&&g.join(y.pos),n(g.scrollIntoView())}return!0}let u=s.type.spec.isolating||r>0&&a?null:ye.findFrom(t,1),d=u&&u.$from.blockRange(u.$to),f=d&&Ko(d);if(f!=null&&f>=t.depth)return n&&n(e.tr.lift(d,f).scrollIntoView()),!0;if(c&&Ss(s,"start",!0)&&Ss(o,"end")){let h=o,p=[];for(;p.push(h),!h.isTextblock;)h=h.lastChild;let g=s,y=1;for(;!g.isTextblock;g=g.firstChild)y++;if(h.canReplace(h.childCount,h.childCount,g.content)){if(n){let _=G.empty;for(let b=p.length-1;b>=0;b--)_=G.from(p[b].copy(_));let w=e.tr.step(new at(t.pos-p.length,t.pos+s.nodeSize,t.pos+y,t.pos+s.nodeSize-y,new oe(_,p.length,0),0,!0));n(w.scrollIntoView())}return!0}}return!1}function Yb(e){return function(t,n){let r=t.selection,o=e<0?r.$from:r.$to,s=o.depth;for(;o.node(s).isInline;){if(!s)return!1;s--}return o.node(s).isTextblock?(n&&n(t.tr.setSelection(ce.create(t.doc,e<0?o.start(s):o.end(s)))),!0):!1}}const uI=Yb(-1),dI=Yb(1);function fI(e,t=null){return function(n,r){let{$from:o,$to:s}=n.selection,i=o.blockRange(s),l=i&&Ff(i,e,t);return l?(r&&r(n.tr.wrap(i,l).scrollIntoView()),!0):!1}}function Gm(e,t=null){return function(n,r){let o=!1;for(let s=0;s<n.selection.ranges.length&&!o;s++){let{$from:{pos:i},$to:{pos:l}}=n.selection.ranges[s];n.doc.nodesBetween(i,l,(a,c)=>{if(o)return!1;if(!(!a.isTextblock||a.hasMarkup(e,t)))if(a.type==e)o=!0;else{let u=n.doc.resolve(c),d=u.index();o=u.parent.canReplaceWith(d,d+1,e)}})}if(!o)return!1;if(r){let s=n.tr;for(let i=0;i<n.selection.ranges.length;i++){let{$from:{pos:l},$to:{pos:a}}=n.selection.ranges[i];s.setBlockType(l,a,e,t)}r(s.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";const hI=["ol",0],pI=["ul",0],mI=["li",0],gI={attrs:{order:{default:1,validate:"number"}},parseDOM:[{tag:"ol",getAttrs(e){return{order:e.hasAttribute("start")?+e.getAttribute("start"):1}}}],toDOM(e){return e.attrs.order==1?hI:["ol",{start:e.attrs.order},0]}},_I={parseDOM:[{tag:"ul"}],toDOM(){return pI}},yI={parseDOM:[{tag:"li"}],toDOM(){return mI},defining:!0};function Su(e,t){let n={};for(let r in e)n[r]=e[r];for(let r in t)n[r]=t[r];return n}function bI(e,t,n){return e.append({ordered_list:Su(gI,{content:"list_item+",group:n}),bullet_list:Su(_I,{content:"list_item+",group:n}),list_item:Su(yI,{content:t})})}function vI(e,t=null){return function(n,r){let{$from:o,$to:s}=n.selection,i=o.blockRange(s),l=!1,a=i;if(!i)return!1;if(i.depth>=2&&o.node(i.depth-1).type.compatibleContent(e)&&i.startIndex==0){if(o.index(i.depth-1)==0)return!1;let u=n.doc.resolve(i.start-2);a=new ya(u,u,i.depth),i.endIndex<i.parent.childCount&&(i=new ya(o,n.doc.resolve(s.end(i.depth)),i.depth)),l=!0}let c=Ff(a,e,t,i);return c?(r&&r(EI(n.tr,i,c,l,e).scrollIntoView()),!0):!1}}function EI(e,t,n,r,o){let s=G.empty;for(let u=n.length-1;u>=0;u--)s=G.from(n[u].type.create(n[u].attrs,s));e.step(new at(t.start-(r?2:0),t.end,t.start,t.end,new oe(s,0,0),n.length,!0));let i=0;for(let u=0;u<n.length;u++)n[u].type==o&&(i=u+1);let l=n.length-i,a=t.start+n.length-(r?2:0),c=t.parent;for(let u=t.startIndex,d=t.endIndex,f=!0;u<d;u++,f=!1)!f&&hr(e.doc,a,l)&&(e.split(a,l),a+=2*l),a+=c.child(u).nodeSize;return e}function kI(e){return function(t,n){let{$from:r,$to:o}=t.selection,s=r.blockRange(o,i=>i.childCount>0&&i.firstChild.type==e);return s?n?r.node(s.depth-1).type==e?wI(t,n,e,s):xI(t,n,s):!0:!1}}function wI(e,t,n,r){let o=e.tr,s=r.end,i=r.$to.end(r.depth);s<i&&(o.step(new at(s-1,i,s,i,new oe(G.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new ya(o.doc.resolve(r.$from.pos),o.doc.resolve(i),r.depth));const l=Ko(r);if(l==null)return!1;o.lift(r,l);let a=o.mapping.map(s,-1)-1;return vr(o.doc,a)&&o.join(a),t(o.scrollIntoView()),!0}function xI(e,t,n){let r=e.tr,o=n.parent;for(let h=n.end,p=n.endIndex-1,g=n.startIndex;p>g;p--)h-=o.child(p).nodeSize,r.delete(h-1,h+1);let s=r.doc.resolve(n.start),i=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,a=n.endIndex==o.childCount,c=s.node(-1),u=s.index(-1);if(!c.canReplace(u+(l?0:1),u+1,i.content.append(a?G.empty:G.from(o))))return!1;let d=s.pos,f=d+i.nodeSize;return r.step(new at(d-(l?1:0),f+(a?1:0),d+1,f-1,new oe((l?G.empty:G.from(o.copy(G.empty))).append(a?G.empty:G.from(o.copy(G.empty))),l?0:1,a?0:1),l?0:1)),t(r.scrollIntoView()),!0}function CI(e){return function(t,n){let{$from:r,$to:o}=t.selection,s=r.blockRange(o,c=>c.childCount>0&&c.firstChild.type==e);if(!s)return!1;let i=s.startIndex;if(i==0)return!1;let l=s.parent,a=l.child(i-1);if(a.type!=e)return!1;if(n){let c=a.lastChild&&a.lastChild.type==l.type,u=G.from(c?e.create():null),d=new oe(G.from(e.create(null,G.from(l.type.create(null,u)))),c?3:1,0),f=s.start,h=s.end;n(t.tr.step(new at(f-(c?3:1),h,f,h,d,1,!0)).scrollIntoView())}return!0}}function Vc(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:o}=n,{storedMarks:s}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return s},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,s=n.storedMarks,n}}}class $c{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:r}=this,{view:o}=n,{tr:s}=r,i=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([l,a])=>[l,(...u)=>{const d=a(...u)(i);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:i}=o,l=[],a=!!t,c=t||s.tr,u=()=>(!a&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(c),l.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,h])=>[f,(...g)=>{const y=this.buildProps(c,n),_=h(...g)(y);return l.push(_),d}])),run:u};return d}createCan(t){const{rawCommands:n,state:r}=this,o=!1,s=t||r.tr,i=this.buildProps(s,o);return{...Object.fromEntries(Object.entries(n).map(([a,c])=>[a,(...u)=>c(...u)({...i,dispatch:void 0})])),chain:()=>this.createChain(s,o)}}buildProps(t,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:i}=o,l={tr:t,editor:o,view:i,state:Vc({state:s,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t,n),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([a,c])=>[a,(...u)=>c(...u)(l)]))}};return l}}class TI{constructor(){this.callbacks={}}on(t,n){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n),this}emit(t,...n){const r=this.callbacks[t];return r&&r.forEach(o=>o.apply(this,n)),this}off(t,n){const r=this.callbacks[t];return r&&(n?this.callbacks[t]=r.filter(o=>o!==n):delete this.callbacks[t]),this}removeAllListeners(){this.callbacks={}}}function de(e,t,n){return e.config[t]===void 0&&e.parent?de(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?de(e.parent,t,n):null}):e.config[t]}function Bc(e){const t=e.filter(o=>o.type==="extension"),n=e.filter(o=>o.type==="node"),r=e.filter(o=>o.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function Qb(e){const t=[],{nodeExtensions:n,markExtensions:r}=Bc(e),o=[...n,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(i=>{const l={name:i.name,options:i.options,storage:i.storage,extensions:o},a=de(i,"addGlobalAttributes",l);if(!a)return;a().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([f,h])=>{t.push({type:d,name:f,attribute:{...s,...h}})})})})}),o.forEach(i=>{const l={name:i.name,options:i.options,storage:i.storage},a=de(i,"addAttributes",l);if(!a)return;const c=a();Object.entries(c).forEach(([u,d])=>{const f={...s,...d};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,t.push({type:i.name,name:u,attribute:f})})}),t}function Ae(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function $e(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([o,s])=>{if(!r[o]){r[o]=s;return}if(o==="class"){const l=s?s.split(" "):[],a=r[o]?r[o].split(" "):[],c=l.filter(u=>!a.includes(u));r[o]=[...a,...c].join(" ")}else if(o==="style"){const l=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],a=r[o]?r[o].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;a.forEach(u=>{const[d,f]=u.split(":").map(h=>h.trim());c.set(d,f)}),l.forEach(u=>{const[d,f]=u.split(":").map(h=>h.trim());c.set(d,f)}),r[o]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[o]=s}),r},{})}function Bd(e,t){return t.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,r)=>$e(n,r),{})}function Zb(e){return typeof e=="function"}function xe(e,t=void 0,...n){return Zb(e)?t?e.bind(t)(...n):e(...n):e}function SI(e={}){return Object.keys(e).length===0&&e.constructor===Object}function MI(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function Jm(e,t){return"style"in e?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(r===!1)return!1;const o=t.reduce((s,i)=>{const l=i.attribute.parseHTML?i.attribute.parseHTML(n):MI(n.getAttribute(i.name));return l==null?s:{...s,[i.name]:l}},{});return{...r,...o}}}}function Xm(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&SI(n)?!1:n!=null))}function ev(e,t){var n;const r=Qb(e),{nodeExtensions:o,markExtensions:s}=Bc(e),i=(n=o.find(c=>de(c,"topNode")))===null||n===void 0?void 0:n.name,l=Object.fromEntries(o.map(c=>{const u=r.filter(_=>_.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:t},f=e.reduce((_,w)=>{const b=de(w,"extendNodeSchema",d);return{..._,...b?b(c):{}}},{}),h=Xm({...f,content:xe(de(c,"content",d)),marks:xe(de(c,"marks",d)),group:xe(de(c,"group",d)),inline:xe(de(c,"inline",d)),atom:xe(de(c,"atom",d)),selectable:xe(de(c,"selectable",d)),draggable:xe(de(c,"draggable",d)),code:xe(de(c,"code",d)),whitespace:xe(de(c,"whitespace",d)),defining:xe(de(c,"defining",d)),isolating:xe(de(c,"isolating",d)),attrs:Object.fromEntries(u.map(_=>{var w;return[_.name,{default:(w=_==null?void 0:_.attribute)===null||w===void 0?void 0:w.default}]}))}),p=xe(de(c,"parseHTML",d));p&&(h.parseDOM=p.map(_=>Jm(_,u)));const g=de(c,"renderHTML",d);g&&(h.toDOM=_=>g({node:_,HTMLAttributes:Bd(_,u)}));const y=de(c,"renderText",d);return y&&(h.toText=y),[c.name,h]})),a=Object.fromEntries(s.map(c=>{const u=r.filter(y=>y.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:t},f=e.reduce((y,_)=>{const w=de(_,"extendMarkSchema",d);return{...y,...w?w(c):{}}},{}),h=Xm({...f,inclusive:xe(de(c,"inclusive",d)),excludes:xe(de(c,"excludes",d)),group:xe(de(c,"group",d)),spanning:xe(de(c,"spanning",d)),code:xe(de(c,"code",d)),attrs:Object.fromEntries(u.map(y=>{var _;return[y.name,{default:(_=y==null?void 0:y.attribute)===null||_===void 0?void 0:_.default}]}))}),p=xe(de(c,"parseHTML",d));p&&(h.parseDOM=p.map(y=>Jm(y,u)));const g=de(c,"renderHTML",d);return g&&(h.toDOM=y=>g({mark:y,HTMLAttributes:Bd(y,u)})),[c.name,h]}));return new Ic({topNode:i,nodes:l,marks:a})}function Mu(e,t){return t.nodes[e]||t.marks[e]||null}function Ym(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}const AI=(e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(o,s,i,l)=>{var a,c;const u=((c=(a=o.type.spec).toText)===null||c===void 0?void 0:c.call(a,{node:o,pos:s,parent:i,index:l}))||o.textContent||"%leaf%";n+=o.isAtom&&!o.isText?u:u.slice(0,Math.max(0,r-s))}),n};function nh(e){return Object.prototype.toString.call(e)==="[object RegExp]"}class Ui{constructor(t){this.find=t.find,this.handler=t.handler}}const OI=(e,t)=>{if(nh(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function fl(e){var t;const{editor:n,from:r,to:o,text:s,rules:i,plugin:l}=e,{view:a}=n;if(a.composing)return!1;const c=a.state.doc.resolve(r);if(c.parent.type.spec.code||!((t=c.nodeBefore||c.nodeAfter)===null||t===void 0)&&t.marks.find(f=>f.type.spec.code))return!1;let u=!1;const d=AI(c)+s;return i.forEach(f=>{if(u)return;const h=OI(d,f.find);if(!h)return;const p=a.state.tr,g=Vc({state:a.state,transaction:p}),y={from:r-(h[0].length-s.length),to:o},{commands:_,chain:w,can:b}=new $c({editor:n,state:g});f.handler({state:g,range:y,match:h,commands:_,chain:w,can:b})===null||!p.steps.length||(p.setMeta(l,{transform:p,from:r,to:o,text:s}),a.dispatch(p),u=!0)}),u}function II(e){const{editor:t,rules:n}=e,r=new Oe({state:{init(){return null},apply(o,s){const i=o.getMeta(r);if(i)return i;const l=o.getMeta("applyInputRules");return!!l&&setTimeout(()=>{const{from:c,text:u}=l,d=c+u.length;fl({editor:t,from:c,to:d,text:u,rules:n,plugin:r})}),o.selectionSet||o.docChanged?null:s}},props:{handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:s}=o.state.selection;s&&fl({editor:t,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1),keyup(o,s){return s.key.length===1?fl({editor:t,from:o.state.selection.from,to:o.state.selection.from,text:"",rules:n,plugin:r}):!1}},handleKeyDown(o,s){if(s.key!=="Enter")return!1;const{$cursor:i}=o.state.selection;return i?fl({editor:t,from:i.pos,to:i.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function RI(e){return typeof e=="number"}class tv{constructor(t){this.find=t.find,this.handler=t.handler}}const DI=(e,t,n)=>{if(nh(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map(o=>{const s=[o.text];return s.index=o.index,s.input=e,s.data=o.data,o.replaceWith&&(o.text.includes(o.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(o.replaceWith)),s}):[]};function LI(e){const{editor:t,state:n,from:r,to:o,rule:s,pasteEvent:i,dropEvent:l}=e,{commands:a,chain:c,can:u}=new $c({editor:t,state:n}),d=[];return n.doc.nodesBetween(r,o,(h,p)=>{if(!h.isTextblock||h.type.spec.code)return;const g=Math.max(r,p),y=Math.min(o,p+h.content.size),_=h.textBetween(g-p,y-p,void 0,"");DI(_,s.find,i).forEach(b=>{if(b.index===void 0)return;const E=g+b.index+1,T=E+b[0].length,x={from:n.tr.mapping.map(E),to:n.tr.mapping.map(T)},D=s.handler({state:n,range:x,match:b,commands:a,chain:c,can:u,pasteEvent:i,dropEvent:l});d.push(D)})}),d.every(h=>h!==null)}const jI=e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)===null||t===void 0||t.setData("text/html",e),n};function PI(e){const{editor:t,rules:n}=e;let r=null,o=!1,s=!1,i=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l=typeof DragEvent<"u"?new DragEvent("drop"):null;const a=({state:u,from:d,to:f,rule:h,pasteEvt:p})=>{const g=u.tr,y=Vc({state:u,transaction:g});if(!(!LI({editor:t,state:y,from:Math.max(d-1,0),to:f.b-1,rule:h,pasteEvent:p,dropEvent:l})||!g.steps.length))return l=typeof DragEvent<"u"?new DragEvent("drop"):null,i=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g};return n.map(u=>new Oe({view(d){const f=h=>{var p;r=!((p=d.dom.parentElement)===null||p===void 0)&&p.contains(h.target)?d.dom.parentElement:null};return window.addEventListener("dragstart",f),{destroy(){window.removeEventListener("dragstart",f)}}},props:{handleDOMEvents:{drop:(d,f)=>(s=r===d.dom.parentElement,l=f,!1),paste:(d,f)=>{var h;const p=(h=f.clipboardData)===null||h===void 0?void 0:h.getData("text/html");return i=f,o=!!(p!=null&&p.includes("data-pm-slice")),!1}}},appendTransaction:(d,f,h)=>{const p=d[0],g=p.getMeta("uiEvent")==="paste"&&!o,y=p.getMeta("uiEvent")==="drop"&&!s,_=p.getMeta("applyPasteRules"),w=!!_;if(!g&&!y&&!w)return;if(w){const{from:T,text:x}=_,D=T+x.length,N=jI(x);return a({rule:u,state:h,from:T,to:{b:D},pasteEvt:N})}const b=f.doc.content.findDiffStart(h.doc.content),E=f.doc.content.findDiffEnd(h.doc.content);if(!(!RI(b)||!E||b===E.b))return a({rule:u,state:h,from:b,to:E,pasteEvt:i})}}))}function NI(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return Array.from(new Set(t))}class mo{constructor(t,n){this.splittableMarks=[],this.editor=n,this.extensions=mo.resolve(t),this.schema=ev(this.extensions,n),this.setupExtensions()}static resolve(t){const n=mo.sort(mo.flatten(t)),r=NI(n.map(o=>o.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(o=>`'${o}'`).join(", ")}]. This can lead to issues.`),n}static flatten(t){return t.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},o=de(n,"addExtensions",r);return o?[n,...this.flatten(o())]:n}).flat(10)}static sort(t){return t.sort((r,o)=>{const s=de(r,"priority")||100,i=de(o,"priority")||100;return s>i?-1:s<i?1:0})}get commands(){return this.extensions.reduce((t,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Mu(n.name,this.schema)},o=de(n,"addCommands",r);return o?{...t,...o()}:t},{})}get plugins(){const{editor:t}=this,n=mo.sort([...this.extensions].reverse()),r=[],o=[],s=n.map(i=>{const l={name:i.name,options:i.options,storage:i.storage,editor:t,type:Mu(i.name,this.schema)},a=[],c=de(i,"addKeyboardShortcuts",l);let u={};if(i.type==="mark"&&de(i,"exitable",l)&&(u.ArrowRight=()=>Xt.handleExit({editor:t,mark:i})),c){const g=Object.fromEntries(Object.entries(c()).map(([y,_])=>[y,()=>_({editor:t})]));u={...u,...g}}const d=qO(u);a.push(d);const f=de(i,"addInputRules",l);Ym(i,t.options.enableInputRules)&&f&&r.push(...f());const h=de(i,"addPasteRules",l);Ym(i,t.options.enablePasteRules)&&h&&o.push(...h());const p=de(i,"addProseMirrorPlugins",l);if(p){const g=p();a.push(...g)}return a}).flat();return[II({editor:t,rules:r}),...PI({editor:t,rules:o}),...s]}get attributes(){return Qb(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:n}=Bc(this.extensions);return Object.fromEntries(n.filter(r=>!!de(r,"addNodeView")).map(r=>{const o=this.attributes.filter(a=>a.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:t,type:Ae(r.name,this.schema)},i=de(r,"addNodeView",s);if(!i)return[];const l=(a,c,u,d,f)=>{const h=Bd(a,o);return i()({node:a,view:c,getPos:u,decorations:d,innerDecorations:f,editor:t,extension:r,HTMLAttributes:h})};return[r.name,l]}))}setupExtensions(){this.extensions.forEach(t=>{var n;this.editor.extensionStorage[t.name]=t.storage;const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:Mu(t.name,this.schema)};t.type==="mark"&&(!((n=xe(de(t,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(t.name);const o=de(t,"onBeforeCreate",r),s=de(t,"onCreate",r),i=de(t,"onUpdate",r),l=de(t,"onSelectionUpdate",r),a=de(t,"onTransaction",r),c=de(t,"onFocus",r),u=de(t,"onBlur",r),d=de(t,"onDestroy",r);o&&this.editor.on("beforeCreate",o),s&&this.editor.on("create",s),i&&this.editor.on("update",i),l&&this.editor.on("selectionUpdate",l),a&&this.editor.on("transaction",a),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}}function VI(e){return Object.prototype.toString.call(e).slice(8,-1)}function hl(e){return VI(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function Hc(e,t){const n={...e};return hl(e)&&hl(t)&&Object.keys(t).forEach(r=>{hl(t[r])&&hl(e[r])?n[r]=Hc(e[r],t[r]):n[r]=t[r]}),n}class Tt{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=xe(de(this,"addOptions",{name:this.name}))),this.storage=xe(de(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Tt(t)}configure(t={}){const n=this.extend({...this.config,addOptions:()=>Hc(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new Tt({...this.config,...t});return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=xe(de(n,"addOptions",{name:n.name})),n.storage=xe(de(n,"addStorage",{name:n.name,options:n.options})),n}}function nv(e,t,n){const{from:r,to:o}=t,{blockSeparator:s=`

`,textSerializers:i={}}=n||{};let l="";return e.nodesBetween(r,o,(a,c,u,d)=>{var f;a.isBlock&&c>r&&(l+=s);const h=i==null?void 0:i[a.type.name];if(h)return u&&(l+=h({node:a,pos:c,parent:u,index:d,range:t})),!1;a.isText&&(l+=(f=a==null?void 0:a.text)===null||f===void 0?void 0:f.slice(Math.max(r,c)-c,o-c))}),l}function rv(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}const $I=Tt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Oe({key:new Re("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:o}=t,{ranges:s}=o,i=Math.min(...s.map(u=>u.$from.pos)),l=Math.max(...s.map(u=>u.$to.pos)),a=rv(n);return nv(r,{from:i,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:a})}}})]}}),BI=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),HI=(e=!1)=>({commands:t})=>t.setContent("",e),FI=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:o}=r;return n&&o.forEach(({$from:s,$to:i})=>{e.doc.nodesBetween(s.pos,i.pos,(l,a)=>{if(l.type.isText)return;const{doc:c,mapping:u}=t,d=c.resolve(u.map(a)),f=c.resolve(u.map(a+l.nodeSize)),h=d.blockRange(f);if(!h)return;const p=Ko(h);if(l.type.isTextblock){const{defaultType:g}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(h.start,g)}(p||p===0)&&t.lift(h,p)})}),!0},zI=e=>t=>e(t),KI=()=>({state:e,dispatch:t})=>iI(e,t),WI=(e,t)=>({editor:n,tr:r})=>{const{state:o}=n,s=o.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const i=r.mapping.map(t);return r.insert(i,s.content),r.setSelection(new ce(r.doc.resolve(i-1))),!0},UI=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===r.type){if(t){const l=o.before(s),a=o.after(s);e.delete(l,a).scrollIntoView()}return!0}return!1},qI=e=>({tr:t,state:n,dispatch:r})=>{const o=Ae(e,n.schema),s=t.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===o){if(r){const a=s.before(i),c=s.after(i);t.delete(a,c).scrollIntoView()}return!0}return!1},GI=e=>({tr:t,dispatch:n})=>{const{from:r,to:o}=e;return n&&t.delete(r,o),!0},JI=()=>({state:e,dispatch:t})=>GO(e,t),XI=()=>({commands:e})=>e.keyboardShortcut("Enter"),YI=()=>({state:e,dispatch:t})=>sI(e,t);function Ma(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(o=>n.strict?t[o]===e[o]:nh(t[o])?t[o].test(e[o]):t[o]===e[o]):!0}function Hd(e,t,n={}){return e.find(r=>r.type===t&&Ma(r.attrs,n))}function QI(e,t,n={}){return!!Hd(e,t,n)}function rh(e,t,n={}){if(!e||!t)return;let r=e.parent.childAfter(e.parentOffset);if(e.parentOffset===r.offset&&r.offset!==0&&(r=e.parent.childBefore(e.parentOffset)),!r.node)return;const o=Hd([...r.node.marks],t,n);if(!o)return;let s=r.index,i=e.start()+r.offset,l=s+1,a=i+r.node.nodeSize;for(Hd([...r.node.marks],t,n);s>0&&o.isInSet(e.parent.child(s-1).marks);)s-=1,i-=e.parent.child(s).nodeSize;for(;l<e.parent.childCount&&QI([...e.parent.child(l).marks],t,n);)a+=e.parent.child(l).nodeSize,l+=1;return{from:i,to:a}}function Er(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}const ZI=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const s=Er(e,r.schema),{doc:i,selection:l}=n,{$from:a,from:c,to:u}=l;if(o){const d=rh(a,s,t);if(d&&d.from<=c&&d.to>=u){const f=ce.create(i,d.from,d.to);n.setSelection(f)}}return!0},e2=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function ov(e){return e instanceof ce}function go(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function sv(e,t=null){if(!t)return null;const n=ye.atStart(e),r=ye.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const o=n.from,s=r.to;return t==="all"?ce.create(e,go(0,o,s),go(e.content.size,o,s)):ce.create(e,go(t,o,s),go(t,o,s))}function Fc(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const t2=(e=null,t={})=>({editor:n,view:r,tr:o,dispatch:s})=>{t={scrollIntoView:!0,...t};const i=()=>{Fc()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t!=null&&t.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(s&&e===null&&!ov(n.state.selection))return i(),!0;const l=sv(o.doc,e)||n.state.selection,a=n.state.selection.eq(l);return s&&(a||o.setSelection(l),a&&o.storedMarks&&o.setStoredMarks(o.storedMarks),i()),!0},n2=(e,t)=>n=>e.every((r,o)=>t(r,{...n,index:o})),r2=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),iv=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&iv(r)}return e};function Xs(e){const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return iv(n)}function Aa(e,t,n){n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,o=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return G.fromArray(e.map(l=>t.nodeFromJSON(l)));const i=t.nodeFromJSON(e);return n.errorOnInvalidContent&&i.check(),i}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",s),Aa("",t,n)}if(o){if(n.errorOnInvalidContent){let i=!1,l="";const a=new Ic({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(i=!0,l=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?fr.fromSchema(a).parseSlice(Xs(e),n.parseOptions):fr.fromSchema(a).parse(Xs(e),n.parseOptions),n.errorOnInvalidContent&&i)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const s=fr.fromSchema(t);return n.slice?s.parseSlice(Xs(e),n.parseOptions).content:s.parse(Xs(e),n.parseOptions)}return Aa("",t,n)}function o2(e,t,n){const r=e.steps.length-1;if(r<t)return;const o=e.steps[r];if(!(o instanceof mt||o instanceof at))return;const s=e.mapping.maps[r];let i=0;s.forEach((l,a,c,u)=>{i===0&&(i=u)}),e.setSelection(ye.near(e.doc.resolve(i),n))}const s2=e=>!("type"in e),i2=(e,t,n)=>({tr:r,dispatch:o,editor:s})=>{var i;if(o){n={parseOptions:{},updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;try{l=Aa(t,s.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(i=n.errorOnInvalidContent)!==null&&i!==void 0?i:s.options.enableContentCheck})}catch(p){return s.emit("contentError",{editor:s,error:p,disableCollaboration:()=>{console.error("[tiptap error]: Unable to disable collaboration at this point in time")}}),!1}let{from:a,to:c}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},u=!0,d=!0;if((s2(l)?l:[l]).forEach(p=>{p.check(),u=u?p.isText&&p.marks.length===0:!1,d=d?p.isBlock:!1}),a===c&&d){const{parent:p}=r.doc.resolve(a);p.isTextblock&&!p.type.spec.code&&!p.childCount&&(a-=1,c+=1)}let h;u?(Array.isArray(t)?h=t.map(p=>p.text||"").join(""):typeof t=="object"&&t&&t.text?h=t.text:h=t,r.insertText(h,a,c)):(h=l,r.replaceWith(a,c,h)),n.updateSelection&&o2(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:a,text:h}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:a,text:h})}return!0},l2=()=>({state:e,dispatch:t})=>tI(e,t),a2=()=>({state:e,dispatch:t})=>nI(e,t),c2=()=>({state:e,dispatch:t})=>JO(e,t),u2=()=>({state:e,dispatch:t})=>ZO(e,t),d2=()=>({state:e,dispatch:t,tr:n})=>{try{const r=Rc(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},f2=()=>({state:e,dispatch:t,tr:n})=>{try{const r=Rc(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},h2=()=>({state:e,dispatch:t})=>XO(e,t),p2=()=>({state:e,dispatch:t})=>YO(e,t);function lv(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function m2(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,o,s,i;for(let l=0;l<t.length-1;l+=1){const a=t[l];if(/^(cmd|meta|m)$/i.test(a))i=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))o=!0;else if(/^s(hift)?$/i.test(a))s=!0;else if(/^mod$/i.test(a))Fc()||lv()?i=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${a}`)}return r&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),i&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}const g2=e=>({editor:t,view:n,tr:r,dispatch:o})=>{const s=m2(e).split(/-(?!$)/),i=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),l=new KeyboardEvent("keydown",{key:i==="Space"?" ":i,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),a=t.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,l))});return a==null||a.steps.forEach(c=>{const u=c.map(r.mapping);u&&o&&r.maybeStep(u)}),!0};function Mi(e,t,n={}){const{from:r,to:o,empty:s}=e.selection,i=t?Ae(t,e.schema):null,l=[];e.doc.nodesBetween(r,o,(d,f)=>{if(d.isText)return;const h=Math.max(r,f),p=Math.min(o,f+d.nodeSize);l.push({node:d,from:h,to:p})});const a=o-r,c=l.filter(d=>i?i.name===d.node.type.name:!0).filter(d=>Ma(d.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=a}const _2=(e,t={})=>({state:n,dispatch:r})=>{const o=Ae(e,n.schema);return Mi(n,o,t)?rI(n,r):!1},y2=()=>({state:e,dispatch:t})=>lI(e,t),b2=e=>({state:t,dispatch:n})=>{const r=Ae(e,t.schema);return kI(r)(t,n)},v2=()=>({state:e,dispatch:t})=>oI(e,t);function zc(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function Qm(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,o)=>(n.includes(o)||(r[o]=e[o]),r),{})}const E2=(e,t)=>({tr:n,state:r,dispatch:o})=>{let s=null,i=null;const l=zc(typeof e=="string"?e:e.name,r.schema);return l?(l==="node"&&(s=Ae(e,r.schema)),l==="mark"&&(i=Er(e,r.schema)),o&&n.selection.ranges.forEach(a=>{r.doc.nodesBetween(a.$from.pos,a.$to.pos,(c,u)=>{s&&s===c.type&&n.setNodeMarkup(u,void 0,Qm(c.attrs,t)),i&&c.marks.length&&c.marks.forEach(d=>{i===d.type&&n.addMark(u,u+c.nodeSize,i.create(Qm(d.attrs,t)))})})}),!0):!1},k2=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),w2=()=>({tr:e,commands:t})=>t.setTextSelection({from:0,to:e.doc.content.size}),x2=()=>({state:e,dispatch:t})=>QO(e,t),C2=()=>({state:e,dispatch:t})=>eI(e,t),T2=()=>({state:e,dispatch:t})=>aI(e,t),S2=()=>({state:e,dispatch:t})=>dI(e,t),M2=()=>({state:e,dispatch:t})=>uI(e,t);function Oa(e,t,n={},r={}){return Aa(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const A2=(e,t=!1,n={},r={})=>({editor:o,tr:s,dispatch:i,commands:l})=>{var a,c;const{doc:u}=s;if(n.preserveWhitespace!=="full"){const d=Oa(e,o.schema,n,{errorOnInvalidContent:(a=r.errorOnInvalidContent)!==null&&a!==void 0?a:o.options.enableContentCheck});return i&&s.replaceWith(0,u.content.size,d).setMeta("preventUpdate",!t),!0}return i&&s.setMeta("preventUpdate",!t),l.insertContentAt({from:0,to:u.content.size},e,{parseOptions:n,errorOnInvalidContent:(c=r.errorOnInvalidContent)!==null&&c!==void 0?c:o.options.enableContentCheck})};function av(e,t){const n=Er(t,e.schema),{from:r,to:o,empty:s}=e.selection,i=[];s?(e.storedMarks&&i.push(...e.storedMarks),i.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,o,a=>{i.push(...a.marks)});const l=i.find(a=>a.type.name===n.name);return l?{...l.attrs}:{}}function O2(e,t){const n=new zf(e);return t.forEach(r=>{r.steps.forEach(o=>{n.step(o)})}),n}function I2(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Fd(e,t){const n=[];return e.descendants((r,o)=>{t(r)&&n.push({node:r,pos:o})}),n}function R2(e,t,n){const r=[];return e.nodesBetween(t.from,t.to,(o,s)=>{n(o)&&r.push({node:o,pos:s})}),r}function cv(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function oh(e){return t=>cv(t.$from,e)}function D2(e,t){const n=zo.fromSchema(t).serializeFragment(e),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(n),o.innerHTML}function sh(e,t){const n=mo.resolve(e);return ev(n,t)}function L2(e,t){const n=sh(t),r=Xs(e);return fr.fromSchema(n).parse(r).toJSON()}function j2(e,t){const n={from:0,to:e.content.size};return nv(e,n,t)}function P2(e,t){const n=Ae(t,e.schema),{from:r,to:o}=e.selection,s=[];e.doc.nodesBetween(r,o,l=>{s.push(l)});const i=s.reverse().find(l=>l.type.name===n.name);return i?{...i.attrs}:{}}function ih(e,t){const n=zc(typeof t=="string"?t:t.name,e.schema);return n==="node"?P2(e,t):n==="mark"?av(e,t):{}}function N2(e,t=JSON.stringify){const n={};return e.filter(r=>{const o=t(r);return Object.prototype.hasOwnProperty.call(n,o)?!1:n[o]=!0})}function V2(e){const t=N2(e);return t.length===1?t:t.filter((n,r)=>!t.filter((s,i)=>i!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function $2(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((o,s)=>{const i=[];if(o.ranges.length)o.forEach((l,a)=>{i.push({from:l,to:a})});else{const{from:l,to:a}=n[s];if(l===void 0||a===void 0)return;i.push({from:l,to:a})}i.forEach(({from:l,to:a})=>{const c=t.slice(s).map(l,-1),u=t.slice(s).map(a),d=t.invert().map(c,-1),f=t.invert().map(u);r.push({oldRange:{from:d,to:f},newRange:{from:c,to:u}})})}),V2(r)}function lh(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(o=>{const s=n.resolve(e),i=rh(s,o.type);i&&r.push({mark:o,...i})}):n.nodesBetween(e,t,(o,s)=>{!o||(o==null?void 0:o.nodeSize)===void 0||r.push(...o.marks.map(i=>({from:s,to:s+o.nodeSize,mark:i})))}),r}function jl(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const o=e.find(s=>s.type===t&&s.name===r);return o?o.attribute.keepOnSplit:!1}))}function zd(e,t,n={}){const{empty:r,ranges:o}=e.selection,s=t?Er(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>Ma(d.attrs,n,{strict:!1}));let i=0;const l=[];if(o.forEach(({$from:d,$to:f})=>{const h=d.pos,p=f.pos;e.doc.nodesBetween(h,p,(g,y)=>{if(!g.isText&&!g.marks.length)return;const _=Math.max(h,y),w=Math.min(p,y+g.nodeSize),b=w-_;i+=b,l.push(...g.marks.map(E=>({mark:E,from:_,to:w})))})}),i===0)return!1;const a=l.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>Ma(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=l.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,f)=>d+f.to-f.from,0);return(a>0?a+c:a)>=i}function B2(e,t,n={}){if(!t)return Mi(e,null,n)||zd(e,null,n);const r=zc(t,e.schema);return r==="node"?Mi(e,t,n):r==="mark"?zd(e,t,n):!1}function Zm(e,t){const{nodeExtensions:n}=Bc(t),r=n.find(i=>i.name===e);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},s=xe(de(r,"group",o));return typeof s!="string"?!1:s.split(" ").includes("list")}function ah(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!==null&&r!==void 0?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let o=!0;return e.content.forEach(s=>{o!==!1&&(ah(s,{ignoreWhitespace:n,checkChildren:t})||(o=!1))}),o}return!1}function H2(e,t,n){var r;const{selection:o}=t;let s=null;if(ov(o)&&(s=o.$cursor),s){const l=(r=e.storedMarks)!==null&&r!==void 0?r:s.marks();return!!n.isInSet(l)||!l.some(a=>a.type.excludes(n))}const{ranges:i}=o;return i.some(({$from:l,$to:a})=>{let c=l.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(l.pos,a.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const h=!f||f.type.allowsMarkType(n),p=!!n.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(n));c=h&&p}return!c}),c})}const F2=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=n,{empty:i,ranges:l}=s,a=Er(e,r.schema);if(o)if(i){const c=av(r,a);n.addStoredMark(a.create({...c,...t}))}else l.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,h)=>{const p=Math.max(h,u),g=Math.min(h+f.nodeSize,d);f.marks.find(_=>_.type===a)?f.marks.forEach(_=>{a===_.type&&n.addMark(p,g,a.create({..._.attrs,...t}))}):n.addMark(p,g,a.create(t))})});return H2(r,n,a)},z2=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),K2=(e,t={})=>({state:n,dispatch:r,chain:o})=>{const s=Ae(e,n.schema);return s.isTextblock?o().command(({commands:i})=>Gm(s,t)(n)?!0:i.clearNodes()).command(({state:i})=>Gm(s,t)(i,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},W2=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,o=go(e,0,r.content.size),s=ge.create(r,o);t.setSelection(s)}return!0},U2=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:o,to:s}=typeof e=="number"?{from:e,to:e}:e,i=ce.atStart(r).from,l=ce.atEnd(r).to,a=go(o,i,l),c=go(s,i,l),u=ce.create(r,a,c);t.setSelection(u)}return!0},q2=e=>({state:t,dispatch:n})=>{const r=Ae(e,t.schema);return CI(r)(t,n)};function eg(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(o=>t==null?void 0:t.includes(o.type.name));e.tr.ensureMarks(r)}}const G2=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:o})=>{const{selection:s,doc:i}=t,{$from:l,$to:a}=s,c=o.extensionManager.attributes,u=jl(c,l.node().type.name,l.node().attrs);if(s instanceof ge&&s.node.isBlock)return!l.parentOffset||!hr(i,l.pos)?!1:(r&&(e&&eg(n,o.extensionManager.splittableMarks),t.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const d=a.parentOffset===a.parent.content.size,f=l.depth===0?void 0:I2(l.node(-1).contentMatchAt(l.indexAfter(-1)));let h=d&&f?[{type:f,attrs:u}]:void 0,p=hr(t.doc,t.mapping.map(l.pos),1,h);if(!h&&!p&&hr(t.doc,t.mapping.map(l.pos),1,f?[{type:f}]:void 0)&&(p=!0,h=f?[{type:f,attrs:u}]:void 0),r){if(p&&(s instanceof ce&&t.deleteSelection(),t.split(t.mapping.map(l.pos),1,h),f&&!d&&!l.parentOffset&&l.parent.type!==f)){const g=t.mapping.map(l.before()),y=t.doc.resolve(g);l.node(-1).canReplaceWith(y.index(),y.index()+1,f)&&t.setNodeMarkup(t.mapping.map(l.before()),f)}e&&eg(n,o.extensionManager.splittableMarks),t.scrollIntoView()}return p},J2=(e,t={})=>({tr:n,state:r,dispatch:o,editor:s})=>{var i;const l=Ae(e,r.schema),{$from:a,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||a.depth<2||!a.sameParent(c))return!1;const d=a.node(-1);if(d.type!==l)return!1;const f=s.extensionManager.attributes;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==l||a.index(-2)!==a.node(-2).childCount-1)return!1;if(o){let _=G.empty;const w=a.index(-1)?1:a.index(-2)?2:3;for(let N=a.depth-w;N>=a.depth-3;N-=1)_=G.from(a.node(N).copy(_));const b=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,E={...jl(f,a.node().type.name,a.node().attrs),...t},T=((i=l.contentMatch.defaultType)===null||i===void 0?void 0:i.createAndFill(E))||void 0;_=_.append(G.from(l.createAndFill(null,T)||void 0));const x=a.before(a.depth-(w-1));n.replace(x,a.after(-b),new oe(_,4-w,0));let D=-1;n.doc.nodesBetween(x,n.doc.content.size,(N,M)=>{if(D>-1)return!1;N.isTextblock&&N.content.size===0&&(D=M+1)}),D>-1&&n.setSelection(ce.near(n.doc.resolve(D))),n.scrollIntoView()}return!0}const h=c.pos===a.end()?d.contentMatchAt(0).defaultType:null,p={...jl(f,d.type.name,d.attrs),...t},g={...jl(f,a.node().type.name,a.node().attrs),...t};n.delete(a.pos,c.pos);const y=h?[{type:l,attrs:p},{type:h,attrs:g}]:[{type:l,attrs:p}];if(!hr(n.doc,a.pos,2))return!1;if(o){const{selection:_,storedMarks:w}=r,{splittableMarks:b}=s.extensionManager,E=w||_.$to.parentOffset&&_.$from.marks();if(n.split(a.pos,2,y).scrollIntoView(),!E||!o)return!0;const T=E.filter(x=>b.includes(x.type.name));n.ensureMarks(T)}return!0},Au=(e,t)=>{const n=oh(i=>i.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===(o==null?void 0:o.type)&&vr(e.doc,n.pos)&&e.join(n.pos),!0},Ou=(e,t)=>{const n=oh(i=>i.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===(o==null?void 0:o.type)&&vr(e.doc,r)&&e.join(r),!0},X2=(e,t,n,r={})=>({editor:o,tr:s,state:i,dispatch:l,chain:a,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=o.extensionManager,h=Ae(e,i.schema),p=Ae(t,i.schema),{selection:g,storedMarks:y}=i,{$from:_,$to:w}=g,b=_.blockRange(w),E=y||g.$to.parentOffset&&g.$from.marks();if(!b)return!1;const T=oh(x=>Zm(x.type.name,d))(g);if(b.depth>=1&&T&&b.depth-T.depth<=1){if(T.node.type===h)return c.liftListItem(p);if(Zm(T.node.type.name,d)&&h.validContent(T.node.content)&&l)return a().command(()=>(s.setNodeMarkup(T.pos,h),!0)).command(()=>Au(s,h)).command(()=>Ou(s,h)).run()}return!n||!E||!l?a().command(()=>u().wrapInList(h,r)?!0:c.clearNodes()).wrapInList(h,r).command(()=>Au(s,h)).command(()=>Ou(s,h)).run():a().command(()=>{const x=u().wrapInList(h,r),D=E.filter(N=>f.includes(N.type.name));return s.ensureMarks(D),x?!0:c.clearNodes()}).wrapInList(h,r).command(()=>Au(s,h)).command(()=>Ou(s,h)).run()},Y2=(e,t={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:s=!1}=n,i=Er(e,r.schema);return zd(r,i,t)?o.unsetMark(i,{extendEmptyMarkRange:s}):o.setMark(i,t)},Q2=(e,t,n={})=>({state:r,commands:o})=>{const s=Ae(e,r.schema),i=Ae(t,r.schema),l=Mi(r,s,n);let a;return r.selection.$anchor.sameParent(r.selection.$head)&&(a=r.selection.$anchor.parent.attrs),l?o.setNode(i,a):o.setNode(s,{...a,...n})},Z2=(e,t={})=>({state:n,commands:r})=>{const o=Ae(e,n.schema);return Mi(n,o,t)?r.lift(o):r.wrapIn(o,t)},eR=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let s;if(o.spec.isInputRules&&(s=o.getState(e))){if(t){const i=e.tr,l=s.transform;for(let a=l.steps.length-1;a>=0;a-=1)i.step(l.steps[a].invert(l.docs[a]));if(s.text){const a=i.doc.resolve(s.from).marks();i.replaceWith(s.from,s.to,e.schema.text(s.text,a))}else i.delete(s.from,s.to)}return!0}}return!1},tR=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:o}=n;return r||t&&o.forEach(s=>{e.removeMark(s.$from.pos,s.$to.pos)}),!0},nR=(e,t={})=>({tr:n,state:r,dispatch:o})=>{var s;const{extendEmptyMarkRange:i=!1}=t,{selection:l}=n,a=Er(e,r.schema),{$from:c,empty:u,ranges:d}=l;if(!o)return!0;if(u&&i){let{from:f,to:h}=l;const p=(s=c.marks().find(y=>y.type===a))===null||s===void 0?void 0:s.attrs,g=rh(c,a,p);g&&(f=g.from,h=g.to),n.removeMark(f,h,a)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,a)});return n.removeStoredMark(a),!0},rR=(e,t={})=>({tr:n,state:r,dispatch:o})=>{let s=null,i=null;const l=zc(typeof e=="string"?e:e.name,r.schema);return l?(l==="node"&&(s=Ae(e,r.schema)),l==="mark"&&(i=Er(e,r.schema)),o&&n.selection.ranges.forEach(a=>{const c=a.$from.pos,u=a.$to.pos;r.doc.nodesBetween(c,u,(d,f)=>{s&&s===d.type&&n.setNodeMarkup(f,void 0,{...d.attrs,...t}),i&&d.marks.length&&d.marks.forEach(h=>{if(i===h.type){const p=Math.max(f,c),g=Math.min(f+d.nodeSize,u);n.addMark(p,g,i.create({...h.attrs,...t}))}})})}),!0):!1},oR=(e,t={})=>({state:n,dispatch:r})=>{const o=Ae(e,n.schema);return fI(o,t)(n,r)},sR=(e,t={})=>({state:n,dispatch:r})=>{const o=Ae(e,n.schema);return vI(o,t)(n,r)};var iR=Object.freeze({__proto__:null,blur:BI,clearContent:HI,clearNodes:FI,command:zI,createParagraphNear:KI,cut:WI,deleteCurrentNode:UI,deleteNode:qI,deleteRange:GI,deleteSelection:JI,enter:XI,exitCode:YI,extendMarkRange:ZI,first:e2,focus:t2,forEach:n2,insertContent:r2,insertContentAt:i2,joinBackward:c2,joinDown:a2,joinForward:u2,joinItemBackward:d2,joinItemForward:f2,joinTextblockBackward:h2,joinTextblockForward:p2,joinUp:l2,keyboardShortcut:g2,lift:_2,liftEmptyBlock:y2,liftListItem:b2,newlineInCode:v2,resetAttributes:E2,scrollIntoView:k2,selectAll:w2,selectNodeBackward:x2,selectNodeForward:C2,selectParentNode:T2,selectTextblockEnd:S2,selectTextblockStart:M2,setContent:A2,setMark:F2,setMeta:z2,setNode:K2,setNodeSelection:W2,setTextSelection:U2,sinkListItem:q2,splitBlock:G2,splitListItem:J2,toggleList:X2,toggleMark:Y2,toggleNode:Q2,toggleWrap:Z2,undoInputRule:eR,unsetAllMarks:tR,unsetMark:nR,updateAttributes:rR,wrapIn:oR,wrapInList:sR});const lR=Tt.create({name:"commands",addCommands(){return{...iR}}}),aR=Tt.create({name:"editable",addProseMirrorPlugins(){return[new Oe({key:new Re("editable"),props:{editable:()=>this.editor.options.editable}})]}}),cR=Tt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Oe({key:new Re("focusEvents"),props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),uR=Tt.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:i})=>[()=>i.undoInputRule(),()=>i.command(({tr:l})=>{const{selection:a,doc:c}=l,{empty:u,$anchor:d}=a,{pos:f,parent:h}=d,p=d.parent.isTextblock&&f>0?l.doc.resolve(f-1):d,g=p.parent.type.spec.isolating,y=d.pos-d.parentOffset,_=g&&p.parent.childCount===1?y===d.pos:ye.atStart(c).from===f;return!u||!h.type.isTextblock||h.textContent.length||!_||_&&d.parent.type.name==="paragraph"?!1:i.clearNodes()}),()=>i.deleteSelection(),()=>i.joinBackward(),()=>i.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:i})=>[()=>i.deleteSelection(),()=>i.deleteCurrentNode(),()=>i.joinForward(),()=>i.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:i})=>[()=>i.newlineInCode(),()=>i.createParagraphNear(),()=>i.liftEmptyBlock(),()=>i.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},s={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Fc()||lv()?s:o},addProseMirrorPlugins(){return[new Oe({key:new Re("clearDocument"),appendTransaction:(e,t,n)=>{const r=e.some(g=>g.docChanged)&&!t.doc.eq(n.doc),o=e.some(g=>g.getMeta("preventClearDocument"));if(!r||o)return;const{empty:s,from:i,to:l}=t.selection,a=ye.atStart(t.doc).from,c=ye.atEnd(t.doc).to;if(s||!(i===a&&l===c)||!ah(n.doc))return;const f=n.tr,h=Vc({state:n,transaction:f}),{commands:p}=new $c({editor:this.editor,state:h});if(p.clearNodes(),!!f.steps.length)return f}})]}}),dR=Tt.create({name:"tabindex",addProseMirrorPlugins(){return[new Oe({key:new Re("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class uo{get name(){return this.node.type.name}constructor(t,n,r=!1,o=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=t,this.editor=n,this.currentNode=o}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!==null&&t!==void 0?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new uo(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new uo(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new uo(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,r)=>{const o=n.isBlock&&!n.isTextblock,s=this.pos+r+1,i=this.resolvedPos.doc.resolve(s);if(!o&&i.depth<=this.depth)return;const l=new uo(i,this.editor,o,o?n:null);o&&(l.actualDepth=this.depth+1),t.push(new uo(i,this.editor,o,o?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let r=null,o=this.parent;for(;o&&!r;){if(o.node.type.name===t)if(Object.keys(n).length>0){const s=o.node.attrs,i=Object.keys(n);for(let l=0;l<i.length;l+=1){const a=i[l];if(s[a]!==n[a])break}}else r=o;o=o.parent}return r}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},r=!1){let o=[];if(!this.children||this.children.length===0)return o;const s=Object.keys(n);return this.children.forEach(i=>{r&&o.length>0||(i.node.type.name===t&&s.every(a=>n[a]===i.node.attrs[a])&&o.push(i),!(r&&o.length>0)&&(o=o.concat(i.querySelectorAll(t,n,r))))}),o}setAttribute(t){const n=this.editor.state.selection;this.editor.chain().setTextSelection(this.from).updateAttributes(this.node.type.name,t).setTextSelection(n.from).run()}}const fR=e=>new Oe({key:new Re("tiptapDrop"),props:{handleDrop:(t,n,r,o)=>{e(n,r,o)}}}),hR=e=>new Oe({key:new Re("tiptapPaste"),props:{handlePaste:(t,n,r)=>{e(n,r)}}}),pR=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function mR(e,t,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const o=document.createElement("style");return t&&o.setAttribute("nonce",t),o.setAttribute("data-tiptap-style",""),o.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(o),o}let uv=class extends TI{constructor(t={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.options.onPaste&&this.registerPlugin(hR(this.options.onPaste)),this.options.onDrop&&this.registerPlugin(fR(this.options.onDrop)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=mR(pR,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,n=!0){this.setOptions({editable:t}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,n){const r=Zb(n)?n(t,[...this.state.plugins]):[...this.state.plugins,t],o=this.state.reconfigure({plugins:r});this.view.updateState(o)}unregisterPlugin(t){if(this.isDestroyed)return;const n=typeof t=="string"?`${t}$`:t.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(o=>!o.key.startsWith(n))});this.view.updateState(r)}createExtensionManager(){var t,n;const o=[...this.options.enableCoreExtensions?[aR,$I.configure({blockSeparator:(n=(t=this.options.coreExtensionOptions)===null||t===void 0?void 0:t.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),lR,cR,uR,dR].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new mo(o,this)}createCommandManager(){this.commandManager=new $c({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){let t;try{t=Oa(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(s){if(!(s instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(s.message))throw s;this.emit("contentError",{editor:this,error:s,disableCollaboration:()=>{this.options.extensions=this.options.extensions.filter(i=>i.name!=="collaboration"),this.createExtensionManager()}}),t=Oa(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const n=sv(t,this.options.autofocus);this.view=new VO(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:fo.create({doc:t,selection:n||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(i=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(i)});return}const n=this.state.apply(t),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:t,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:t}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const o=t.getMeta("focus"),s=t.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:t}),s&&this.emit("blur",{editor:this,event:s.event,transaction:t}),!(!t.docChanged||t.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return ih(this.state,t)}isActive(t,n){const r=typeof t=="string"?t:null,o=typeof t=="string"?n:t;return B2(this.state,r,o)}getJSON(){return this.state.doc.toJSON()}getHTML(){return D2(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:n=`

`,textSerializers:r={}}=t||{};return j2(this.state.doc,{blockSeparator:n,textSerializers:{...rv(this.schema),...r}})}get isEmpty(){return ah(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var t;return!(!((t=this.view)===null||t===void 0)&&t.docView)}$node(t,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(t,n))||null}$nodes(t,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(t,n))||null}$pos(t){const n=this.state.doc.resolve(t);return new uo(n,this)}get $doc(){return this.$pos(0)}};function Xr(e){return new Ui({find:e.find,handler:({state:t,range:n,match:r})=>{const o=xe(e.getAttributes,void 0,r);if(o===!1||o===null)return null;const{tr:s}=t,i=r[r.length-1],l=r[0];if(i){const a=l.search(/\S/),c=n.from+l.indexOf(i),u=c+i.length;if(lh(n.from,n.to,t.doc).filter(h=>h.mark.type.excluded.find(g=>g===e.type&&g!==h.mark.type)).filter(h=>h.to>c).length)return null;u<n.to&&s.delete(u,n.to),c>n.from&&s.delete(n.from+a,c);const f=n.from+a+i.length;s.addMark(n.from+a,f,e.type.create(o||{})),s.removeStoredMark(e.type)}}})}function gR(e){return new Ui({find:e.find,handler:({state:t,range:n,match:r})=>{const o=xe(e.getAttributes,void 0,r)||{},{tr:s}=t,i=n.from;let l=n.to;const a=e.type.create(o);if(r[1]){const c=r[0].lastIndexOf(r[1]);let u=i+c;u>l?u=l:l=u+r[1].length;const d=r[0][r[0].length-1];s.insertText(d,i+r[0].length-1),s.replaceWith(u,l,a)}else if(r[0]){const c=e.type.isInline?i:i-1;s.insert(c,e.type.create(o)).delete(s.mapping.map(i),s.mapping.map(l))}s.scrollIntoView()}})}function Kd(e){return new Ui({find:e.find,handler:({state:t,range:n,match:r})=>{const o=t.doc.resolve(n.from),s=xe(e.getAttributes,void 0,r)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,s)}})}function _R(e){return new Ui({find:e.find,handler:({state:t,range:n,match:r,chain:o})=>{const s=xe(e.getAttributes,void 0,r)||{},i=t.tr.delete(n.from,n.to),a=i.doc.resolve(n.from).blockRange(),c=a&&Ff(a,e.type,s);if(!c)return null;if(i.wrap(a,c),e.keepMarks&&e.editor){const{selection:d,storedMarks:f}=t,{splittableMarks:h}=e.editor.extensionManager,p=f||d.$to.parentOffset&&d.$from.marks();if(p){const g=p.filter(y=>h.includes(y.type.name));i.ensureMarks(g)}}if(e.keepAttributes){const d=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";o().updateAttributes(d,s).run()}const u=i.doc.resolve(n.from-1).nodeBefore;u&&u.type===e.type&&vr(i.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,u))&&i.join(n.from-1)}})}class Xt{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=xe(de(this,"addOptions",{name:this.name}))),this.storage=xe(de(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Xt(t)}configure(t={}){const n=this.extend({...this.config,addOptions:()=>Hc(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new Xt(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=xe(de(n,"addOptions",{name:n.name})),n.storage=xe(de(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,o=t.state.selection.$from;if(o.pos===o.end()){const i=o.marks();if(!!!i.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const a=i.find(c=>(c==null?void 0:c.type.name)===n.name);return a&&r.removeStoredMark(a),r.insertText(" ",o.pos),t.view.dispatch(r),!0}return!1}}let bt=class Wd{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=xe(de(this,"addOptions",{name:this.name}))),this.storage=xe(de(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Wd(t)}configure(t={}){const n=this.extend({...this.config,addOptions:()=>Hc(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new Wd(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=xe(de(n,"addOptions",{name:n.name})),n.storage=xe(de(n,"addStorage",{name:n.name,options:n.options})),n}};function yR(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}class bR{constructor(t,n,r){this.isDragging=!1,this.component=t,this.editor=n.editor,this.options={stopEvent:null,ignoreMutation:null,...r},this.extension=n.extension,this.node=n.node,this.decorations=n.decorations,this.innerDecorations=n.innerDecorations,this.view=n.view,this.HTMLAttributes=n.HTMLAttributes,this.getPos=n.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(t){var n,r,o,s,i,l,a;const{view:c}=this.editor,u=t.target,d=u.nodeType===3?(n=u.parentElement)===null||n===void 0?void 0:n.closest("[data-drag-handle]"):u.closest("[data-drag-handle]");if(!this.dom||!((r=this.contentDOM)===null||r===void 0)&&r.contains(u)||!d)return;let f=0,h=0;if(this.dom!==d){const _=this.dom.getBoundingClientRect(),w=d.getBoundingClientRect(),b=(o=t.offsetX)!==null&&o!==void 0?o:(s=t.nativeEvent)===null||s===void 0?void 0:s.offsetX,E=(i=t.offsetY)!==null&&i!==void 0?i:(l=t.nativeEvent)===null||l===void 0?void 0:l.offsetY;f=w.x-_.x+b,h=w.y-_.y+E}(a=t.dataTransfer)===null||a===void 0||a.setDragImage(this.dom,f,h);const p=this.getPos();if(typeof p!="number")return;const g=ge.create(c.state.doc,p),y=c.state.tr.setSelection(g);c.dispatch(y)}stopEvent(t){var n;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:t});const r=t.target;if(!(this.dom.contains(r)&&!(!((n=this.contentDOM)===null||n===void 0)&&n.contains(r))))return!1;const s=t.type.startsWith("drag"),i=t.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!i&&!s)return!0;const{isEditable:a}=this.editor,{isDragging:c}=this,u=!!this.node.type.spec.draggable,d=ge.isSelectable(this.node),f=t.type==="copy",h=t.type==="paste",p=t.type==="cut",g=t.type==="mousedown";if(!u&&d&&s&&t.preventDefault(),u&&s&&!c)return t.preventDefault(),!1;if(u&&a&&!c&&g){const y=r.closest("[data-drag-handle]");y&&(this.dom===y||this.dom.contains(y))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(c||i||f||h||p||g&&d)}ignoreMutation(t){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:t}):this.node.isLeaf||this.node.isAtom?!0:t.type==="selection"||this.dom.contains(t.target)&&t.type==="childList"&&(Fc()||yR())&&this.editor.isFocused&&[...Array.from(t.addedNodes),...Array.from(t.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===t.target&&t.type==="attributes"?!0:!this.contentDOM.contains(t.target)}updateAttributes(t){this.editor.commands.command(({tr:n})=>{const r=this.getPos();return typeof r!="number"?!1:(n.setNodeMarkup(r,void 0,{...this.node.attrs,...t}),!0)})}deleteNode(){const t=this.getPos();if(typeof t!="number")return;const n=t+this.node.nodeSize;this.editor.commands.deleteRange({from:t,to:n})}}function mr(e){return new tv({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:o})=>{const s=xe(e.getAttributes,void 0,r,o);if(s===!1||s===null)return null;const{tr:i}=t,l=r[r.length-1],a=r[0];let c=n.to;if(l){const u=a.search(/\S/),d=n.from+a.indexOf(l),f=d+l.length;if(lh(n.from,n.to,t.doc).filter(p=>p.mark.type.excluded.find(y=>y===e.type&&y!==p.mark.type)).filter(p=>p.to>d).length)return null;f<n.to&&i.delete(f,n.to),d>n.from&&i.delete(n.from+u,d),c=n.from+u+l.length,i.addMark(n.from+u,c,e.type.create(s||{})),i.removeStoredMark(e.type)}}})}function vR(e){return new tv({find:e.find,handler({match:t,chain:n,range:r,pasteEvent:o}){const s=xe(e.getAttributes,void 0,t,o),i=xe(e.getContent,void 0,s);if(s===!1||s===null)return null;const l={type:e.type.name,attrs:s};i&&(l.content=i),t.input&&n().deleteRange(r).insertContentAt(r.from,l)}})}function tg(e){return D0((t,n)=>({get(){return t(),e},set(r){e=r,requestAnimationFrame(()=>{requestAnimationFrame(()=>{n()})})}}))}class ER extends uv{constructor(t={}){return super(t),this.contentComponent=null,this.appContext=null,this.reactiveState=tg(this.view.state),this.reactiveExtensionStorage=tg(this.extensionStorage),this.on("beforeTransaction",({nextState:n})=>{this.reactiveState.value=n,this.reactiveExtensionStorage.value=this.extensionStorage}),Me(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(t,n){const r=super.registerPlugin(t,n);return this.reactiveState&&(this.reactiveState.value=r),r}unregisterPlugin(t){const n=super.unregisterPlugin(t);return this.reactiveState&&n&&(this.reactiveState.value=n),n}}const kR=Se({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(e){const t=Q(),n=Zr();return Af(()=>{const r=e.editor;r&&r.options.element&&t.value&&Gt(()=>{if(!t.value||!r.options.element.firstChild)return;const o=S(t.value);t.value.append(...r.options.element.childNodes),r.contentComponent=n.ctx._,n&&(r.appContext={...n.appContext,provides:n.provides}),r.setOptions({element:o}),r.createNodeViews()})}),kn(()=>{const r=e.editor;if(!r||(r.isDestroyed||r.view.setProps({nodeViews:{}}),r.contentComponent=null,r.appContext=null,!r.options.element.firstChild))return;const o=document.createElement("div");o.append(...r.options.element.childNodes),r.setOptions({element:o})}),{rootEl:t}},render(){return Ds("div",{ref:e=>{this.rootEl=e}})}}),ch=Se({name:"NodeViewContent",props:{as:{type:String,default:"div"}},render(){return Ds(this.as,{style:{whiteSpace:"pre-wrap"},"data-node-view-content":""})}}),qi=Se({name:"NodeViewWrapper",props:{as:{type:String,default:"div"}},inject:["onDragStart","decorationClasses"],render(){var e,t;return Ds(this.as,{class:this.decorationClasses,style:{whiteSpace:"normal"},"data-node-view-wrapper":"",onDragstart:this.onDragStart},(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e))}}),wR=(e={})=>{const t=Jl();return St(()=>{t.value=new ER(e)}),kn(()=>{var n;(n=t.value)===null||n===void 0||n.destroy()}),t};class xR{constructor(t,{props:n={},editor:r}){this.editor=r,this.component=Me(t),this.el=document.createElement("div"),this.props=vn(n),this.renderedComponent=this.renderComponent()}get element(){return this.renderedComponent.el}get ref(){var t,n,r,o;return!((n=(t=this.renderedComponent.vNode)===null||t===void 0?void 0:t.component)===null||n===void 0)&&n.exposed?this.renderedComponent.vNode.component.exposed:(o=(r=this.renderedComponent.vNode)===null||r===void 0?void 0:r.component)===null||o===void 0?void 0:o.proxy}renderComponent(){let t=Ds(this.component,this.props);return this.editor.appContext&&(t.appContext=this.editor.appContext),typeof document<"u"&&this.el&&Cp(t,this.el),{vNode:t,destroy:()=>{this.el&&Cp(null,this.el),this.el=null,t=null},el:this.el?this.el.firstElementChild:null}}updateProps(t={}){Object.entries(t).forEach(([n,r])=>{this.props[n]=r}),this.renderComponent()}destroy(){this.renderedComponent.destroy()}}const Gi={editor:{type:Object,required:!0},node:{type:Object,required:!0},decorations:{type:Object,required:!0},selected:{type:Boolean,required:!0},extension:{type:Object,required:!0},getPos:{type:Function,required:!0},updateAttributes:{type:Function,required:!0},deleteNode:{type:Function,required:!0}};class CR extends bR{mount(){const t={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(o={})=>this.updateAttributes(o),deleteNode:()=>this.deleteNode()},n=this.onDragStart.bind(this);this.decorationClasses=Q(this.getDecorationClasses());const r=Se({extends:{...this.component},props:Object.keys(t),template:this.component.template,setup:o=>{var s,i;return tt("onDragStart",n),tt("decorationClasses",this.decorationClasses),(i=(s=this.component).setup)===null||i===void 0?void 0:i.call(s,o,{expose:()=>{}})},__scopeId:this.component.__scopeId,__cssModules:this.component.__cssModules,__name:this.component.__name,__file:this.component.__file});this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.renderer=new xR(r,{editor:this.editor,props:t})}get dom(){if(!this.renderer.element||!this.renderer.element.hasAttribute("data-node-view-wrapper"))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.dom.querySelector("[data-node-view-content]")}handleSelectionUpdate(){const{from:t,to:n}=this.editor.state.selection,r=this.getPos();if(typeof r=="number")if(t<=r&&n>=r+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(t,n,r){const o=s=>{this.decorationClasses.value=this.getDecorationClasses(),this.renderer.updateProps(s)};if(typeof this.options.update=="function"){const s=this.node,i=this.decorations,l=this.innerDecorations;return this.node=t,this.decorations=n,this.innerDecorations=r,this.options.update({oldNode:s,oldDecorations:i,newNode:t,newDecorations:n,oldInnerDecorations:l,innerDecorations:r,updateProps:()=>o({node:t,decorations:n,innerDecorations:r})})}return t.type!==this.node.type?!1:(t===this.node&&this.decorations===n&&this.innerDecorations===r||(this.node=t,this.decorations=n,this.innerDecorations=r,o({node:t,decorations:n,innerDecorations:r})),!0)}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element&&this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element&&this.renderer.element.classList.remove("ProseMirror-selectednode")}getDecorationClasses(){return this.decorations.map(t=>t.type.attrs.class).flat().join(" ")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate)}}function Ji(e,t){return n=>{if(!n.editor.contentComponent)return{};const r=typeof e=="function"&&"__vccOpts"in e?e.__vccOpts:e;return new CR(r,n,t)}}function Pl(e,t=!0,n=[],r=0){var f,h;const o={},s=[];s.push(`=${((f=e==null?void 0:e.type)==null?void 0:f.name)??"unknown"} ${((h=e.firstChild)==null?void 0:h.textContent)??""}`),e.textContent!==""&&e.isText&&s.push(`"${e.textContent}"`),n.includes("size")&&s.push(e.nodeSize),n.includes("is")&&(o.isBlock=e.isBlock,o.isInline=e.isInline,o.isLeaf=e.isLeaf,o.isText=e.isText,o.isTextblock=e.isTextblock,o.isAtom=e.isAtom),n.includes("attrs")&&(o.attrs=e.attrs);const i=e.content.content;i&&i.length>0&&(t?o.children=`
${Object.values(i).map(p=>Pl(p,t,n,r+1)).join(`
`)}`:o.children=`[${i.length}]`);const l="	".repeat(r),a=s.length>0?l+s.join(`
${l}`):"",c=Object.entries(o).map(([p,g])=>p==="children"?`${l}${g}`:p==="attrs"?`${g?l+(Object.keys(g).length>0?JSON.stringify(g):""):""}`:`${l}${p}: ${g}`),u=c.length>0?`
${c.join(`
`)}`:"";return a+u}function Ia(e,t,n=!0,r=!0,o=["size"]){var a,c;e instanceof ws&&(e=e.node());const s=((a=e==null?void 0:e.constructor)==null?void 0:a.name)==="Slice",i=((c=e==null?void 0:e.constructor)==null?void 0:c.name)==="Fragment",l=e?s?`[[${e.content.content.map(u=>Pl(u,r,o)??"").join(`]
[`)}]]`:i?`[[${e.content.map(u=>Pl(u,r,o)??"").join(`]
[`)}]]`:Pl(e,r,o):"UNDEFINED";console[n?"groupCollapsed":"group"](t!==void 0?t.toString():"",l!=="UNDEFINED"?s||i?"Slice":l.split(`
`)[0]:l),console.log(l),console.groupEnd()}function uh(e,{$from:t,$to:n},r,{shift:o=-1,fromShift:s,toShift:i}={}){let l=s,a=i;o&&(l=o,a=o),e.nodesBetween(t.start(),n.end(),(c,u,...d)=>{const f=u>=t.start(l)-1,h=u<=n.end(a)+1;if(f&&h)return r(c,u,...d)})}const TR=e=>{St(()=>{})},ng=Symbol("editorCssVariablesInjectionKey"),dv=Symbol("editorScrollInjectionKey"),Kc=Se({name:"lib-popup",__name:"LibPopup",props:En({id:{},useBackdrop:{type:Boolean,default:!0},preferredHorizontal:{type:[Array,Function],default:()=>["center","right","left","either"]},preferredVertical:{type:[Array,Function],default:()=>["top","bottom","either"]},avoidRepositioning:{type:Boolean,default:!1},modifyPosition:{}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(e,{expose:t}){const n=Ho(),r=e,o=br(),s=Q(null),i=Q(null),l=Q(null),a=Q(null),c=Q({}),u=qn(e,"modelValue");let d=!1;const f=x=>{const D=x.getBoundingClientRect();return{x:0,y:0,width:D.left+D.right,height:D.top+D.bottom,top:0,bottom:0,left:0,right:0}};let h;const p=(x=!1)=>{requestAnimationFrame(()=>{var K,Z;const D=ha(r.preferredHorizontal)&&r.preferredHorizontal[0]==="center-screen",N=ha(r.preferredVertical)&&r.preferredVertical[0]==="center-screen",M=(D||typeof r.preferredHorizontal=="function")&&(N||typeof r.preferredVertical=="function");if(!i.value||!s.value||!l.value&&!M){c.value={};return}const O=(K=l.value)==null?void 0:K.getBoundingClientRect(),$=((Z=a.value)==null?void 0:Z.getBoundingClientRect())??(r.useBackdrop?f(s.value):document.body.getBoundingClientRect()),v=i.value.getBoundingClientRect();let L={};if(!x&&u.value&&r.avoidRepositioning&&l.value&&h){const ie=l.value.getBoundingClientRect().x-h.x,pe=l.value.getBoundingClientRect().y-h.y;c.value.x+=ie,c.value.y+=pe,h=O;return}const H={left:0,right:0,leftLeft:0,rightRight:0,leftFromCenter:0,rightFromCenter:0,topFromCenter:0,bottomFromCenter:0,top:0,bottom:0};O&&(H.left=O.x+O.width-$.x,H.leftLeft=O.x-$.x,H.right=$.x+$.width-(O.x+O.width),H.rightRight=$.x+$.width-O.x,H.leftFromCenter=O.x+O.width/2-$.x,H.rightFromCenter=$.x+$.width-(O.x+O.width/2),H.topFromCenter=O.y+O.height/2-$.y,H.bottomFromCenter=$.y+$.height-(O.y+O.height/2),H.top=O.y-$.y,H.bottom=$.y+$.height-(O.y+O.height));const{preferredHorizontal:W,preferredVertical:P}=r;let k,I;if(typeof W=="function")L.x=W(O,v,$,H);else e:for(const ie of W)switch(ie){case"center-screen":v.width<$.width?L.x=$.width/2-v.width/2:(L.x=0,k=L.x);break;case"center-most":case"center":if(H.leftFromCenter>=v.width/2&&H.rightFromCenter>=v.width/2){L.x=O.x+O.width/2-v.width/2;break e}if(H.rightFromCenter+H.leftFromCenter<=v.width){L.x=0;break e}if(ie==="center-most")if(H.leftFromCenter<H.rightFromCenter){L.x=O.x+O.width/2-H.leftFromCenter;break e}else{L.x=O.x+O.width/2+H.rightFromCenter-v.width;break e}break;case"left-most":if(H.left>=v.width){L.x=O.x-v.width;break e}else{L.x=0;break e}case"right-most":if(H.right>=v.width){L.x=O.x+O.width;break e}else{L.x=$.x+$.width-v.width;break e}case"right":if(H.right>=v.width){L.x=O.x;break e}break;case"left":if(H.left>=v.width){L.x=O.x+O.width-v.width;break e}break;case"either":if(H.right>=H.left){L.x=O.x;break e}else{L.x=O.x+O.width-v.width;break e}}if(typeof P=="function")L.y=P(O,v,$,H);else e:for(const ie of P)switch(ie){case"center-screen":v.height<$.height?L.y=$.height/2-v.height/2:(L.y=0,I=L.y);break;case"top":if(H.top>=v.height){L.y=O.y-v.height;break e}break;case"bottom":if(H.bottom>=v.height){L.y=O.y+O.height;break e}break;case"top-most":if(H.top>=v.height){L.y=O.y-v.height;break e}else{L.y=0;break e}case"bottom-most":if(H.bottom>=v.height){L.y=O.y+O.height;break e}else{L.y=$.y+$.height-v.height;break e}case"center-most":case"center":if(H.topFromCenter>=v.height/2&&H.bottomFromCenter>=v.height/2){L.y=O.y+O.height/2-v.height/2;break e}if(H.bottomFromCenter+H.topFromCenter<=v.height){L.y=0;break e}if(ie==="center-most")if(H.topFromCenter<H.bottomFromCenter){L.y=O.y+O.height/2-H.topFromCenter;break e}else{L.y=O.y+O.height/2+H.bottomFromCenter-v.height;break e}break;case"either":if(H.top>=H.bottom){L.y=O.y-v.height;break e}else{L.y=O.y+O.height;break e}}L.maxWidth=k??void 0,L.maxHeight=I??void 0,r.modifyPosition&&(L=r.modifyPosition(L,O,v,$,H)),c.value=L,h=O})},g=()=>{var x;d||(d=!0,u.value=d,r.useBackdrop&&((x=s.value)==null||x.showModal()),p(!0))},y=()=>{var x;d&&(d=!1,u.value=d,c.value.maxWidth=void 0,r.useBackdrop&&((x=s.value)==null||x.close()))},_=()=>{d?y():g()},w=()=>p(),b=()=>{window.addEventListener("resize",w),window.addEventListener("scroll",w,!0)},E=()=>{window.removeEventListener("resize",w),window.removeEventListener("scroll",w,!0)};ze([u,i],()=>{u.value?(g(),b()):(y(),E())});const T=x=>{x.preventDefault(),_()};return St(()=>{p()}),t({recompute:p,setReference:x=>{l.value=x},setBackground:x=>{a.value=x}}),(x,D)=>(z(),ee(Xe,null,[ct(x.$slots,"button",{extractEl:N=>l.value=N}),(z(),ke($o(x.useBackdrop?"dialog":"div"),Ve({id:x.id??S(n),class:S(nt)(x.useBackdrop&&`bg-transparent
			p-0
			backdrop:bg-transparent
		`,S(o).class)},{...S(o),class:void 0},{ref_key:"dialogEl",ref:s,onMousedown:ks(T,["self"])}),{default:me(()=>[x.useBackdrop||u.value?(z(),ee("div",{key:0,class:st(`fixed ${r.avoidRepositioning?"transition-[top,left]":""}`),style:Wn(`
		top:${c.value.y}px;
		left:${c.value.x}px;
		${c.value.maxWidth?`max-width:${c.value.maxWidth}px`:""}
		${c.value.maxHeight?`max-height:${c.value.maxHeight}px`:""}
		`)},[ct(x.$slots,"popup",{position:c.value,extractEl:N=>i.value=N})],6)):Pe("",!0)]),_:3},16,["id","class"]))],64))}}),SR={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 1664 1408"};function MR(e,t){return z(),ee("svg",SR,t[0]||(t[0]=[le("path",{fill:"currentColor",d:"M512 1248v-192q0-14-9-23t-23-9H160q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23m0-384V672q0-14-9-23t-23-9H160q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23m512 384v-192q0-14-9-23t-23-9H672q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23M512 480V288q0-14-9-23t-23-9H160q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23m512 384V672q0-14-9-23t-23-9H672q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23m512 384v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23m-512-768V288q0-14-9-23t-23-9H672q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23m512 384V672q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23m0-384V288q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23m128-320v1088q0 66-47 113t-113 47H160q-66 0-113-47T0 1248V160Q0 94 47 47T160 0h1344q66 0 113 47t47 113"},null,-1)]))}const AR=Me({name:"fa-table",render:MR}),OR={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 448 512"};function IR(e,t){return z(),ee("svg",OR,t[0]||(t[0]=[le("path",{fill:"currentColor",d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16M53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},null,-1)]))}const dh=Me({name:"fa-solid-trash",render:IR}),RR={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 448 512"};function DR(e,t){return z(),ee("svg",RR,t[0]||(t[0]=[le("path",{fill:"currentColor",d:"M192 32h224c17.7 0 32 14.3 32 32s-14.3 32-32 32h-32v352c0 17.7-14.3 32-32 32s-32-14.3-32-32V96h-32v352c0 17.7-14.3 32-32 32s-32-14.3-32-32v-96h-32c-88.4 0-160-71.6-160-160S103.6 32 192 32"},null,-1)]))}const LR=Me({name:"fa6-solid-paragraph",render:DR}),jR={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 16 16"};function PR(e,t){return z(),ee("svg",jR,t[0]||(t[0]=[le("path",{fill:"currentColor",d:"M9 1v3.5A1.5 1.5 0 0 0 10.5 6H14v7.5a1.5 1.5 0 0 1-1.5 1.5H8.663A5.5 5.5 0 0 0 4 5.207V2.5A1.5 1.5 0 0 1 5.5 1zm1 .25V4.5a.5.5 0 0 0 .5.5h3.25zM5.5 15a4.5 4.5 0 1 1 0-9a4.5 4.5 0 0 1 0 9M7 8v.152a3 3 0 0 0-3.621.477a.5.5 0 0 0 .707.707A2 2 0 0 1 6.468 9H6a.5.5 0 0 0 0 1h1.5a.5.5 0 0 0 .5-.5V8a.5.5 0 0 0-1 0m-1.552 5.25a3 3 0 0 0 2.173-.879a.5.5 0 1 0-.707-.707A2 2 0 0 1 4.532 12H5a.5.5 0 0 0 0-1H3.5a.5.5 0 0 0-.5.5V13a.5.5 0 0 0 1 0v-.152a3 3 0 0 0 1.448.401"},null,-1)]))}const NR=Me({name:"fluent-document-sync-16-filled",render:PR}),VR={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 16 16"};function $R(e,t){return z(),ee("svg",VR,t[0]||(t[0]=[le("path",{fill:"currentColor","fill-rule":"evenodd",d:"M4.78 4.97a.75.75 0 0 1 0 1.06L2.81 8l1.97 1.97a.75.75 0 1 1-1.06 1.06l-2.5-2.5a.75.75 0 0 1 0-1.06l2.5-2.5a.75.75 0 0 1 1.06 0m6.44 0a.75.75 0 0 0 0 1.06L13.19 8l-1.97 1.97a.75.75 0 1 0 1.06 1.06l2.5-2.5a.75.75 0 0 0 0-1.06l-2.5-2.5a.75.75 0 0 0-1.06 0M8.856 2.008a.75.75 0 0 1 .636.848l-1.5 10.5a.75.75 0 0 1-1.484-.212l1.5-10.5a.75.75 0 0 1 .848-.636","clip-rule":"evenodd"},null,-1)]))}const BR=Me({name:"heroicons-code-bracket-16-solid",render:$R}),HR={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 16 16"};function FR(e,t){return z(),ee("svg",HR,t[0]||(t[0]=[le("path",{fill:"currentColor",d:"M3 4.75a1 1 0 1 0 0-2a1 1 0 0 0 0 2M6.25 3a.75.75 0 0 0 0 1.5h7a.75.75 0 0 0 0-1.5zm0 4.25a.75.75 0 0 0 0 1.5h7a.75.75 0 0 0 0-1.5zm0 4.25a.75.75 0 0 0 0 1.5h7a.75.75 0 0 0 0-1.5zM4 12.25a1 1 0 1 1-2 0a1 1 0 0 1 2 0M3 9a1 1 0 1 0 0-2a1 1 0 0 0 0 2"},null,-1)]))}const zR=Me({name:"heroicons-list-bullet-16-solid",render:FR}),KR={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 16 16"};function WR(e,t){return z(),ee("svg",KR,t[0]||(t[0]=[le("path",{fill:"currentColor",d:"M2.995 1a.625.625 0 1 0 0 1.25h.38v2.125a.625.625 0 1 0 1.25 0v-2.75A.625.625 0 0 0 4 1zm.213 6.385a2.4 2.4 0 0 1 1.027-.124L2.573 8.923a.625.625 0 0 0 .439 1.067l1.987.011a.625.625 0 0 0 .006-1.25l-.49-.003l.777-.776c.215-.215.335-.506.335-.809c0-.465-.297-.957-.842-1.078a3.64 3.64 0 0 0-1.993.121a.625.625 0 1 0 .416 1.179M2.625 11a.625.625 0 1 0 0 1.25H4.25a.125.125 0 0 1 0 .25H3.5a.625.625 0 1 0 0 1.25h.75a.125.125 0 0 1 0 .25H2.625a.625.625 0 1 0 0 1.25H4.25a1.375 1.375 0 0 0 1.153-2.125A1.375 1.375 0 0 0 4.25 11zM7.25 2a.75.75 0 0 0 0 1.5h6a.75.75 0 0 0 0-1.5zm0 5.25a.75.75 0 0 0 0 1.5h6a.75.75 0 0 0 0-1.5zm-.75 6a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 0 1.5h-6a.75.75 0 0 1-.75-.75"},null,-1)]))}const UR=Me({name:"heroicons-numbered-list-16-solid",render:WR}),qR={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 24 24"};function GR(e,t){return z(),ee("svg",qR,t[0]||(t[0]=[le("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 12h8m-8 6V6m8 12V6m5 6l3-2v8"},null,-1)]))}const JR=Me({name:"lucide-heading-1",render:GR}),XR={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 24 24"};function YR(e,t){return z(),ee("svg",XR,t[0]||(t[0]=[le("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 12h8m-8 6V6m8 12V6m9 12h-4c0-4 4-3 4-6c0-1.5-2-2.5-4-1"},null,-1)]))}const QR=Me({name:"lucide-heading-2",render:YR}),ZR={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 24 24"};function eD(e,t){return z(),ee("svg",ZR,t[0]||(t[0]=[le("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 12h8m-8 6V6m8 12V6m5.5 4.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2m-2 3.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2"},null,-1)]))}const tD=Me({name:"lucide-heading-3",render:eD}),nD={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 24 24"};function rD(e,t){return z(),ee("svg",nD,t[0]||(t[0]=[le("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 12h8m-8 6V6m8 12V6m5 4v4h4m0-4v8"},null,-1)]))}const oD=Me({name:"lucide-heading-4",render:rD}),sD={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 24 24"};function iD(e,t){return z(),ee("svg",sD,t[0]||(t[0]=[le("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 12h8m-8 6V6m8 12V6m5 7v-3h4m-4 7.7c.4.2.8.3 1.3.3c1.5 0 2.7-1.1 2.7-2.5S19.8 13 18.3 13H17"},null,-1)]))}const lD=Me({name:"lucide-heading-5",render:iD}),aD={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 24 24"};function cD(e,t){return z(),ee("svg",aD,t[0]||(t[0]=[le("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[le("path",{d:"M4 12h8m-8 6V6m8 12V6"}),le("circle",{cx:"19",cy:"16",r:"2"}),le("path",{d:"M20 10c-2 2-3 3.5-3 6"})],-1)]))}const uD=Me({name:"lucide-heading-6",render:cD}),dD={type:"command",command:"deleteItem",title:"Delete",args:["$blockPos"],icon:{props:{class:"w-[0.7em]"},component:dh}},fD={type:"command",command:"changeItemType",title:"Bullet Item",icon:zR,args:[{type:"unordered"},"$blockPos"]},hD={type:"command",command:"changeItemType",icon:UR,title:"Numbered Item",args:[{type:"ordered"},"$blockPos"]},pD={type:"command",command:"setNode",title:"Code",icon:BR,args:["codeBlock",{language:"",loading:!1},"$blockPos"]},mD={type:"command",command:"setNode",title:"Embed",icon:NR,args:["embeddedDoc",{embedId:{docId:void 0,embedId:void 0}},"$blockPos"]},gD={type:"command",command:"setNode",title:"Paragraph",icon:LR,args:["paragraph",{},"$blockPos"]},_D={type:"command",command:"setNode",title:"Table",icon:AR,args:["table",{},"$blockPos"]},yD={type:"command",command:"setHeading",title:"Heading Level 1",icon:JR,args:[{level:1,onlyHeadings:!1},"$contentPos"]},bD={type:"command",command:"setHeading",title:"Heading Level 2",icon:QR,args:[{level:2,onlyHeadings:!1},"$contentPos"]},vD={type:"command",command:"setHeading",title:"Heading Level 3",icon:tD,args:[{level:3,onlyHeadings:!1},"$contentPos"]},ED={type:"command",command:"setHeading",title:"Heading Level 4",icon:oD,args:[{level:4,onlyHeadings:!1},"$contentPos"]},kD={type:"command",command:"setHeading",title:"Heading Level 5",icon:lD,args:[{level:5,onlyHeadings:!1},"$contentPos"]},wD={type:"command",command:"setHeading",title:"Heading Level 6",icon:uD,args:[{level:6,onlyHeadings:!1},"$contentPos"]},xD=[dD,{type:"group",title:"Change Item Type",variations:[fD,hD]},{type:"group",title:"Change Block Type",variations:[pD,mD,gD,_D,yD,bD,vD,ED,kD,wD]}],CD={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 320 512"};function TD(e,t){return z(),ee("svg",CD,t[0]||(t[0]=[le("path",{fill:"currentColor",d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256L34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941"},null,-1)]))}const SD=Me({name:"fa-solid-chevron-right",render:TD}),fv=Symbol("menuEditorInjectionKey"),MD=Symbol("menuBlockIdInjectionKey"),nr=new Re("commandBarMenuPluginKey"),fh=Symbol("commandExecuterInjectionKey"),AD=["title"],hv=Se({__name:"CommandMenuItem",props:{item:{}},emits:["close"],setup(e,{emit:t}){const n=Ne(fv),r=e,o=t,s=Ne(fh);if(!s)throw new Error("Command executer must be provided.");function i(){r.item.type==="command"&&(s(r.item,n),o("close"))}return(l,a)=>{const c=yn,u=SD;return z(),ee("div",{class:"p-1",title:l.item.type==="command"?l.item.description:void 0},[le("div",{class:"group/menu-item px-1 rounded-sm hover:text-accent-700 dark:hover:text-accent-300 cursor-pointer",onClick:i},[te(c,{class:"w-[1em] text-center"},{default:me(()=>[l.item.icon?(z(),ke($o("component"in l.item.icon?l.item.icon.component:l.item.icon),Ft(Ve({key:0},"props"in l.item.icon?{editor:S(n),...l.item.icon.props}:{editor:S(n)})),null,16)):Pe("",!0)]),_:1}),It(" "+Dt(l.item.title)+" ",1),l.item.type==="group"?(z(),ke(u,{key:0,class:"text-neutral-500 pl-2 group-hover/menu-item:text-accent-500"})):Pe("",!0)])],8,AD)}}}),pv=(e,t,n,r)=>(n.height>r.height&&(e.maxHeight=r.height),n.width>r.width&&(e.maxWidth=r.width),e),mv=(e,t,n,r)=>{if(!e)return 0;const o=n.y+n.height-e.y;return r.top<=0||r.top+e.width+r.bottom<=t.height?0:o>t.height?e.y:n.y+n.height-t.height},OD=Se({__name:"CommandMenuGroup",props:{item:{}},emits:["close"],setup(e,{emit:t}){const n=Q(null),r=Q(!1),o=Q(),s=t;return(i,l)=>(z(),ee("div",{class:"group/command-group",onMouseenter:l[3]||(l[3]=a=>{o.value.setReference(n.value),r.value=!0}),onMouseleave:l[4]||(l[4]=a=>{o.value.setReference(null),r.value=!1})},[Vo(te(hv,{item:i.item},null,8,["item"]),[[S(Fi),a=>n.value=a]]),te(S(Kc),{"model-value":r.value,"preferred-horizontal":["right-most"],"preferred-vertical":S(mv),"position-modifier":S(pv),"use-backdrop":!1,ref_key:"popup",ref:o,"onUpdate:modelValue":l[2]||(l[2]=a=>r.value=a)},{popup:me(({extractEl:a})=>[le("div",{ref:a,onMouseleave:l[1]||(l[1]=c=>{o.value.setReference(null),r.value=!1})},[te(gv,{entries:i.item.variations,class:"ml-0 mt-0",onClose:l[0]||(l[0]=c=>s("close"))},null,8,["entries"])],544)]),_:1},8,["model-value","preferred-vertical","position-modifier"])],32))}}),ID={class:"commands-list flex flex-col rounded border bg-neutral-100 border-neutral-300 dark:bg-neutral-800 dark:border-neutral-700 m-1 [&>*:first-child]:border-t-0 [&>*:first-child]:rounded-t [&>*:last-child]:rounded-b"},RD={key:0},gv=Se({__name:"CommandMenuList",props:{entries:{}},emits:["close"],setup(e,{emit:t}){const n=t;return br(),(r,o)=>(z(),ee("div",ID,[(z(!0),ee(Xe,null,gi(r.entries,s=>(z(),ee("div",{key:s.type+s.title,class:"border-t border-neutral-300"},[s.type==="command"?(z(),ee("div",RD,[te(hv,{item:s,onClose:o[0]||(o[0]=i=>n("close"))},null,8,["item"])])):s.type==="group"?(z(),ke(OD,{key:1,item:s,onClose:o[1]||(o[1]=i=>n("close"))},null,8,["item"])):Pe("",!0)]))),128))]))}});function Xi(e){return function(t,n){const r=t.getMeta(e);return r?{...n,...r}:n}}const gr=new Re("item-menu");function DD(){return new Oe({key:gr,state:{init(){return{opened:!1,id:void 0}},apply:Xi(gr)}})}const Ra=Symbol("statesInjectionKey");function LD(e){return function(n,r){var s;const o=e();if(o===void 0){console.warn("No blockId found, this is probably a bug.");return}if(n.type==="command"){const i=r.view.dom.querySelector(`li[blockid='${o}']`),l=r.view.posAtDOM(i,0);o!==void 0&&l<=-1&&Jt();const a=typeof n.args=="function"?n.args(r,{blockId:o,blockPos:l,contentPos:l+1}):((s=n.args)==null?void 0:s.map(c=>c==="$blockId"?o:c==="$blockPos"?l:c==="$contentPos"?l+1:c))??[];r.commands.command(({commands:c})=>(c[n.command](...a),!0))}}}const jD=Se({__name:"ItemMenu",props:{editor:{}},setup(e){const t=e,n=Q({opened:!1,id:void 0}),r=Q(),o=Q(null);function s(){var u;const a=t.editor.view.dom.querySelector(`li[blockid='${n.value.id}']`),c=(u=a==null?void 0:a.parentElement)==null?void 0:u.querySelector(".grab-handle");if(c instanceof HTMLElement)return{...c.getBoundingClientRect().toJSON(),width:0};Jt()}function i({editor:a}){const c=n.value,u=gr.getState(a.state)??n.value;u.opened&&(c.opened!==u.opened||c.id!==u.id)?(o.value={getBoundingClientRect:s},r.value.setReference(o.value)):o.value&&!u.opened&&(o.value=null,r.value.setReference(o.value)),n.value=u}tt(fv,t.editor);const l=Ee(()=>n.value.id);return tt(MD,l),tt(fh,LD(()=>l.value)),St(()=>{t.editor.on("transaction",i)}),kn(()=>{t.editor.off("transaction",i)}),(a,c)=>(z(),ke(S(Kc),{"model-value":n.value.opened,"preferred-horizontal":["left-most"],"preferred-vertical":S(mv),"position-modifier":S(pv),ref_key:"popup",ref:r,"onUpdate:modelValue":c[1]||(c[1]=u=>!u&&t.editor.commands.closeItemMenu())},{popup:me(({extractEl:u})=>[le("div",{ref:u},[te(gv,{entries:S(xD),onClose:c[0]||(c[0]=d=>t.editor.commands.closeItemMenu())},null,8,["entries"])],512)]),_:1},8,["model-value","preferred-vertical","position-modifier"]))}}),PD="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20width='16px'%20height='16px'%20viewbox='0%200%2016%2016'%20version='1.1'%20id='svg1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs1'%20/%3e%3crect%20style='fill:none;stroke:%23000000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:miter;stroke-dasharray:none;paint-order:normal;stroke-opacity:1'%20id='rect1'%20width='15'%20height='15'%20x='0.5'%20y='0.5'%20ry='2.5'%20/%3e%3cg%20id='g4'%20transform='matrix(0.64463749,0,0,0.64463749,-14.168367,6.9425683)'%3e%3cpath%20style='fill:none;stroke:%23303030;stroke-width:3.5;stroke-linecap:butt;stroke-linejoin:miter;stroke-dasharray:none;stroke-opacity:1'%20d='m%2026.388889,-6.3596491%2016,16'%20id='path3'%20/%3e%3cpath%20style='fill:none;stroke:%23303030;stroke-width:3.5;stroke-linecap:butt;stroke-linejoin:miter;stroke-dasharray:none;stroke-opacity:1'%20d='m%2042.388889,-6.3596491%20-16,16'%20id='path4'%20/%3e%3c/g%3e%3c/svg%3e",ND="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20width='16px'%20height='16px'%20viewbox='0%200%2016%2016'%20version='1.1'%20id='svg1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs1'%20/%3e%3crect%20style='fill:none;stroke:%23000000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:miter;stroke-dasharray:none;paint-order:normal;stroke-opacity:1'%20id='rect1'%20width='15'%20height='15'%20x='0.5'%20y='0.5'%20ry='2.5'%20/%3e%3cpath%20style='fill:none;stroke:%23303030;stroke-width:2.5;stroke-linecap:butt;stroke-linejoin:miter;stroke-dasharray:none;stroke-opacity:1'%20d='M%202.8965023,7.8937535%206.5971043,11.41698%2013.103498,4.5830203'%20id='path2'%20/%3e%3c/svg%3e",VD="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgd2lkdGg9IjE2cHgiCiAgIGhlaWdodD0iMTZweCIKICAgdmlld2JveD0iMCAwIDE2IDE2IgogICB2ZXJzaW9uPSIxLjEiCiAgIGlkPSJzdmcxIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxkZWZzCiAgICAgaWQ9ImRlZnMxIiAvPgogIDxyZWN0CiAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MC45Mzc1O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtZGFzaGFycmF5Om5vbmU7cGFpbnQtb3JkZXI6bm9ybWFsO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgaWQ9InJlY3QxIgogICAgIHdpZHRoPSIxNSIKICAgICBoZWlnaHQ9IjE1IgogICAgIHg9IjAuNSIKICAgICB5PSIwLjUiCiAgICAgcnk9IjIuNSIgLz4KICA8dGV4dAogICAgIHhtbDpzcGFjZT0icHJlc2VydmUiCiAgICAgc3R5bGU9ImZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtd2VpZ2h0Om5vcm1hbDtmb250LXNpemU6MjguNjUzcHg7bGluZS1oZWlnaHQ6MS4yNTtmb250LWZhbWlseTpzYW5zLXNlcmlmO2ZpbGw6IzMwMzAzMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MC43MTYzMjQiCiAgICAgeD0iMi4xMTE0OTI2IgogICAgIHk9IjE2LjMxODY1MSIKICAgICBpZD0idGV4dDQiCiAgICAgdHJhbnNmb3JtPSJzY2FsZSgwLjc3NzMwODQ5LDEuMjg2NDkwNSkiPjx0c3BhbgogICAgICAgaWQ9InRzcGFuNCIKICAgICAgIHg9IjIuMTExNDkyNiIKICAgICAgIHk9IjE2LjMxODY1MSIKICAgICAgIHN0eWxlPSJzdHJva2Utd2lkdGg6MC43MTYzMjQiPn48L3RzcGFuPjwvdGV4dD4KPC9zdmc+Cg==",$D="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20width='16px'%20height='16px'%20viewbox='0%200%2016%2016'%20version='1.1'%20id='svg1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs1'%20/%3e%3crect%20style='fill:none;stroke:%23000000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:miter;stroke-dasharray:none;paint-order:normal;stroke-opacity:1'%20id='rect1'%20width='15'%20height='15'%20x='0.5'%20y='0.5'%20ry='2.5'%20/%3e%3c/svg%3e";function BD(e,t){return{entries:e,default:t}}const Nl={task:BD([{icon:`url(${$D})`,value:"unchecked"},{icon:`url(${VD})`,value:"partial"},{icon:`url(${ND})`,value:"checked",isChecked:!0},{icon:`url(${PD})`,value:"cancelled",isChecked:!0}].map(e=>({isEnabled:!0,isChecked:e.isChecked??!1,...e})),"unchecked")},HD=/^```([a-z]+)?[\s\n]$/,FD=/^~~~([a-z]+)?[\s\n]$/,zD=bt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options,s=[...((t=e.firstElementChild)===null||t===void 0?void 0:t.classList)||[]].filter(i=>i.startsWith(n)).map(i=>i.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",$e(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=t.pos===1;return!e||t.parent.type.name!==this.name?!1:n||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:o}=n;if(!o||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,i=r.parent.textContent.endsWith(`

`);return!s||!i?!1:e.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:o,empty:s}=n;if(!s||o.parent.type!==this.type||!(o.parentOffset===o.parent.nodeSize-2))return!1;const l=o.after();return l===void 0?!1:r.nodeAt(l)?e.commands.command(({tr:c})=>(c.setSelection(ye.near(r.resolve(l))),!0)):e.commands.exitCode()}}},addInputRules(){return[Kd({find:HD,type:this.type,getAttributes:e=>({language:e[1]})}),Kd({find:FD,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new Oe({key:new Re("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),o=r?JSON.parse(r):void 0,s=o==null?void 0:o.mode;if(!n||!s)return!1;const{tr:i,schema:l}=e.state,a=l.text(n.replace(/\r\n?/g,`
`));return i.replaceSelectionWith(this.type.create({language:s},a)),i.selection.$from.parent.type!==this.type&&i.setSelection(ce.near(i.doc.resolve(Math.max(0,i.selection.from-2)))),i.setMeta("paste",!0),e.dispatch(i),!0}}})]}});function KD(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _v(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const n=e[t],r=typeof n;(r==="object"||r==="function")&&!Object.isFrozen(n)&&_v(n)}),e}let rg=class{constructor(t){t.data===void 0&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}};function yv(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Hr(e,...t){const n=Object.create(null);for(const r in e)n[r]=e[r];return t.forEach(function(r){for(const o in r)n[o]=r[o]}),n}const WD="</span>",og=e=>!!e.scope,UD=(e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map((r,o)=>`${r}${"_".repeat(o+1)}`)].join(" ")}return`${t}${e}`};let qD=class{constructor(t,n){this.buffer="",this.classPrefix=n.classPrefix,t.walk(this)}addText(t){this.buffer+=yv(t)}openNode(t){if(!og(t))return;const n=UD(t.scope,{prefix:this.classPrefix});this.span(n)}closeNode(t){og(t)&&(this.buffer+=WD)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}};const sg=(e={})=>{const t={children:[]};return Object.assign(t,e),t};let GD=class bv{constructor(){this.rootNode=sg(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const n=sg({scope:t});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,n){return typeof n=="string"?t.addText(n):n.children&&(t.openNode(n),n.children.forEach(r=>this._walk(t,r)),t.closeNode(n)),t}static _collapse(t){typeof t!="string"&&t.children&&(t.children.every(n=>typeof n=="string")?t.children=[t.children.join("")]:t.children.forEach(n=>{bv._collapse(n)}))}},JD=class extends GD{constructor(t){super(),this.options=t}addText(t){t!==""&&this.add(t)}startScope(t){this.openNode(t)}endScope(){this.closeNode()}__addSublanguage(t,n){const r=t.root;n&&(r.scope=`language:${n}`),this.add(r)}toHTML(){return new qD(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}};function Ai(e){return e?typeof e=="string"?e:e.source:null}function vv(e){return Wo("(?=",e,")")}function XD(e){return Wo("(?:",e,")*")}function YD(e){return Wo("(?:",e,")?")}function Wo(...e){return e.map(n=>Ai(n)).join("")}function QD(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function hh(...e){return"("+(QD(e).capture?"":"?:")+e.map(r=>Ai(r)).join("|")+")"}function Ev(e){return new RegExp(e.toString()+"|").exec("").length-1}function ZD(e,t){const n=e&&e.exec(t);return n&&n.index===0}const eL=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function ph(e,{joinWith:t}){let n=0;return e.map(r=>{n+=1;const o=n;let s=Ai(r),i="";for(;s.length>0;){const l=eL.exec(s);if(!l){i+=s;break}i+=s.substring(0,l.index),s=s.substring(l.index+l[0].length),l[0][0]==="\\"&&l[1]?i+="\\"+String(Number(l[1])+o):(i+=l[0],l[0]==="("&&n++)}return i}).map(r=>`(${r})`).join(t)}const tL=/\b\B/,kv="[a-zA-Z]\\w*",mh="[a-zA-Z_]\\w*",wv="\\b\\d+(\\.\\d+)?",xv="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",Cv="\\b(0b[01]+)",nL="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",rL=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=Wo(t,/.*\b/,e.binary,/\b.*/)),Hr({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(n,r)=>{n.index!==0&&r.ignoreMatch()}},e)},Oi={begin:"\\\\[\\s\\S]",relevance:0},oL={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Oi]},sL={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Oi]},iL={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},Wc=function(e,t,n={}){const r=Hr({scope:"comment",begin:e,end:t,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const o=hh("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:Wo(/[ ]+/,"(",o,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},lL=Wc("//","$"),aL=Wc("/\\*","\\*/"),cL=Wc("#","$"),uL={scope:"number",begin:wv,relevance:0},dL={scope:"number",begin:xv,relevance:0},fL={scope:"number",begin:Cv,relevance:0},hL={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[Oi,{begin:/\[/,end:/\]/,relevance:0,contains:[Oi]}]},pL={scope:"title",begin:kv,relevance:0},mL={scope:"title",begin:mh,relevance:0},gL={begin:"\\.\\s*"+mh,relevance:0},_L=function(e){return Object.assign(e,{"on:begin":(t,n)=>{n.data._beginMatch=t[1]},"on:end":(t,n)=>{n.data._beginMatch!==t[1]&&n.ignoreMatch()}})};var pl=Object.freeze({__proto__:null,APOS_STRING_MODE:oL,BACKSLASH_ESCAPE:Oi,BINARY_NUMBER_MODE:fL,BINARY_NUMBER_RE:Cv,COMMENT:Wc,C_BLOCK_COMMENT_MODE:aL,C_LINE_COMMENT_MODE:lL,C_NUMBER_MODE:dL,C_NUMBER_RE:xv,END_SAME_AS_BEGIN:_L,HASH_COMMENT_MODE:cL,IDENT_RE:kv,MATCH_NOTHING_RE:tL,METHOD_GUARD:gL,NUMBER_MODE:uL,NUMBER_RE:wv,PHRASAL_WORDS_MODE:iL,QUOTE_STRING_MODE:sL,REGEXP_MODE:hL,RE_STARTERS_RE:nL,SHEBANG:rL,TITLE_MODE:pL,UNDERSCORE_IDENT_RE:mh,UNDERSCORE_TITLE_MODE:mL});function yL(e,t){e.input[e.index-1]==="."&&t.ignoreMatch()}function bL(e,t){e.className!==void 0&&(e.scope=e.className,delete e.className)}function vL(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=yL,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function EL(e,t){Array.isArray(e.illegal)&&(e.illegal=hh(...e.illegal))}function kL(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function wL(e,t){e.relevance===void 0&&(e.relevance=1)}const xL=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach(r=>{delete e[r]}),e.keywords=n.keywords,e.begin=Wo(n.beforeMatch,vv(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},CL=["of","and","for","in","not","or","if","then","parent","list","value"],TL="keyword";function Tv(e,t,n=TL){const r=Object.create(null);return typeof e=="string"?o(n,e.split(" ")):Array.isArray(e)?o(n,e):Object.keys(e).forEach(function(s){Object.assign(r,Tv(e[s],t,s))}),r;function o(s,i){t&&(i=i.map(l=>l.toLowerCase())),i.forEach(function(l){const a=l.split("|");r[a[0]]=[s,SL(a[0],a[1])]})}}function SL(e,t){return t?Number(t):ML(e)?0:1}function ML(e){return CL.includes(e.toLowerCase())}const ig={},Mo=e=>{console.error(e)},lg=(e,...t)=>{console.log(`WARN: ${e}`,...t)},Yo=(e,t)=>{ig[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),ig[`${e}/${t}`]=!0)},Da=new Error;function Sv(e,t,{key:n}){let r=0;const o=e[n],s={},i={};for(let l=1;l<=t.length;l++)i[l+r]=o[l],s[l+r]=!0,r+=Ev(t[l-1]);e[n]=i,e[n]._emit=s,e[n]._multi=!0}function AL(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw Mo("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Da;if(typeof e.beginScope!="object"||e.beginScope===null)throw Mo("beginScope must be object"),Da;Sv(e,e.begin,{key:"beginScope"}),e.begin=ph(e.begin,{joinWith:""})}}function OL(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw Mo("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Da;if(typeof e.endScope!="object"||e.endScope===null)throw Mo("endScope must be object"),Da;Sv(e,e.end,{key:"endScope"}),e.end=ph(e.end,{joinWith:""})}}function IL(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function RL(e){IL(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),AL(e),OL(e)}function DL(e){function t(i,l){return new RegExp(Ai(i),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(l?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(l,a){a.position=this.position++,this.matchIndexes[this.matchAt]=a,this.regexes.push([a,l]),this.matchAt+=Ev(l)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const l=this.regexes.map(a=>a[1]);this.matcherRe=t(ph(l,{joinWith:"|"}),!0),this.lastIndex=0}exec(l){this.matcherRe.lastIndex=this.lastIndex;const a=this.matcherRe.exec(l);if(!a)return null;const c=a.findIndex((d,f)=>f>0&&d!==void 0),u=this.matchIndexes[c];return a.splice(0,c),Object.assign(a,u)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(l){if(this.multiRegexes[l])return this.multiRegexes[l];const a=new n;return this.rules.slice(l).forEach(([c,u])=>a.addRule(c,u)),a.compile(),this.multiRegexes[l]=a,a}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(l,a){this.rules.push([l,a]),a.type==="begin"&&this.count++}exec(l){const a=this.getMatcher(this.regexIndex);a.lastIndex=this.lastIndex;let c=a.exec(l);if(this.resumingScanAtSamePosition()&&!(c&&c.index===this.lastIndex)){const u=this.getMatcher(0);u.lastIndex=this.lastIndex+1,c=u.exec(l)}return c&&(this.regexIndex+=c.position+1,this.regexIndex===this.count&&this.considerAll()),c}}function o(i){const l=new r;return i.contains.forEach(a=>l.addRule(a.begin,{rule:a,type:"begin"})),i.terminatorEnd&&l.addRule(i.terminatorEnd,{type:"end"}),i.illegal&&l.addRule(i.illegal,{type:"illegal"}),l}function s(i,l){const a=i;if(i.isCompiled)return a;[bL,kL,RL,xL].forEach(u=>u(i,l)),e.compilerExtensions.forEach(u=>u(i,l)),i.__beforeBegin=null,[vL,EL,wL].forEach(u=>u(i,l)),i.isCompiled=!0;let c=null;return typeof i.keywords=="object"&&i.keywords.$pattern&&(i.keywords=Object.assign({},i.keywords),c=i.keywords.$pattern,delete i.keywords.$pattern),c=c||/\w+/,i.keywords&&(i.keywords=Tv(i.keywords,e.case_insensitive)),a.keywordPatternRe=t(c,!0),l&&(i.begin||(i.begin=/\B|\b/),a.beginRe=t(a.begin),!i.end&&!i.endsWithParent&&(i.end=/\B|\b/),i.end&&(a.endRe=t(a.end)),a.terminatorEnd=Ai(a.end)||"",i.endsWithParent&&l.terminatorEnd&&(a.terminatorEnd+=(i.end?"|":"")+l.terminatorEnd)),i.illegal&&(a.illegalRe=t(i.illegal)),i.contains||(i.contains=[]),i.contains=[].concat(...i.contains.map(function(u){return LL(u==="self"?i:u)})),i.contains.forEach(function(u){s(u,a)}),i.starts&&s(i.starts,l),a.matcher=o(a),a}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=Hr(e.classNameAliases||{}),s(e)}function Mv(e){return e?e.endsWithParent||Mv(e.starts):!1}function LL(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return Hr(e,{variants:null},t)})),e.cachedVariants?e.cachedVariants:Mv(e)?Hr(e,{starts:e.starts?Hr(e.starts):null}):Object.isFrozen(e)?Hr(e):e}var jL="11.10.0";let PL=class extends Error{constructor(t,n){super(t),this.name="HTMLInjectionError",this.html=n}};const Iu=yv,ag=Hr,cg=Symbol("nomatch"),NL=7,Av=function(e){const t=Object.create(null),n=Object.create(null),r=[];let o=!0;const s="Could not find the language '{}', did you forget to load/include a language module?",i={disableAutodetect:!0,name:"Plain text",contains:[]};let l={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:JD};function a(k){return l.noHighlightRe.test(k)}function c(k){let I=k.className+" ";I+=k.parentNode?k.parentNode.className:"";const K=l.languageDetectRe.exec(I);if(K){const Z=M(K[1]);return Z||(lg(s.replace("{}",K[1])),lg("Falling back to no-highlight mode for this block.",k)),Z?K[1]:"no-highlight"}return I.split(/\s+/).find(Z=>a(Z)||M(Z))}function u(k,I,K){let Z="",ie="";typeof I=="object"?(Z=k,K=I.ignoreIllegals,ie=I.language):(Yo("10.7.0","highlight(lang, code, ...args) has been deprecated."),Yo("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),ie=k,Z=I),K===void 0&&(K=!0);const pe={code:Z,language:ie};W("before:highlight",pe);const Qe=pe.result?pe.result:d(pe.language,pe.code,K);return Qe.code=pe.code,W("after:highlight",Qe),Qe}function d(k,I,K,Z){const ie=Object.create(null);function pe(R,B){return R.keywords[B]}function Qe(){if(!j.keywords){U.addText(V);return}let R=0;j.keywordPatternRe.lastIndex=0;let B=j.keywordPatternRe.exec(V),J="";for(;B;){J+=V.substring(R,B.index);const ae=q.case_insensitive?B[0].toLowerCase():B[0],be=pe(j,ae);if(be){const[De,Et]=be;if(U.addText(J),J="",ie[ae]=(ie[ae]||0)+1,ie[ae]<=NL&&(fe+=Et),De.startsWith("_"))J+=B[0];else{const Qn=q.classNameAliases[De]||De;Be(B[0],Qn)}}else J+=B[0];R=j.keywordPatternRe.lastIndex,B=j.keywordPatternRe.exec(V)}J+=V.substring(R),U.addText(J)}function Yt(){if(V==="")return;let R=null;if(typeof j.subLanguage=="string"){if(!t[j.subLanguage]){U.addText(V);return}R=d(j.subLanguage,V,!0,re[j.subLanguage]),re[j.subLanguage]=R._top}else R=h(V,j.subLanguage.length?j.subLanguage:null);j.relevance>0&&(fe+=R.relevance),U.__addSublanguage(R._emitter,R.language)}function Ie(){j.subLanguage!=null?Yt():Qe(),V=""}function Be(R,B){R!==""&&(U.startScope(B),U.addText(R),U.endScope())}function ln(R,B){let J=1;const ae=B.length-1;for(;J<=ae;){if(!R._emit[J]){J++;continue}const be=q.classNameAliases[R[J]]||R[J],De=B[J];be?Be(De,be):(V=De,Qe(),V=""),J++}}function Qt(R,B){return R.scope&&typeof R.scope=="string"&&U.openNode(q.classNameAliases[R.scope]||R.scope),R.beginScope&&(R.beginScope._wrap?(Be(V,q.classNameAliases[R.beginScope._wrap]||R.beginScope._wrap),V=""):R.beginScope._multi&&(ln(R.beginScope,B),V="")),j=Object.create(R,{parent:{value:j}}),j}function pt(R,B,J){let ae=ZD(R.endRe,J);if(ae){if(R["on:end"]){const be=new rg(R);R["on:end"](B,be),be.isMatchIgnored&&(ae=!1)}if(ae){for(;R.endsParent&&R.parent;)R=R.parent;return R}}if(R.endsWithParent)return pt(R.parent,B,J)}function Zt(R){return j.matcher.regexIndex===0?(V+=R[0],1):(_e=!0,0)}function Rn(R){const B=R[0],J=R.rule,ae=new rg(J),be=[J.__beforeBegin,J["on:begin"]];for(const De of be)if(De&&(De(R,ae),ae.isMatchIgnored))return Zt(B);return J.skip?V+=B:(J.excludeBegin&&(V+=B),Ie(),!J.returnBegin&&!J.excludeBegin&&(V=B)),Qt(J,R),J.returnBegin?0:B.length}function Yn(R){const B=R[0],J=I.substring(R.index),ae=pt(j,R,J);if(!ae)return cg;const be=j;j.endScope&&j.endScope._wrap?(Ie(),Be(B,j.endScope._wrap)):j.endScope&&j.endScope._multi?(Ie(),ln(j.endScope,R)):be.skip?V+=B:(be.returnEnd||be.excludeEnd||(V+=B),Ie(),be.excludeEnd&&(V=B));do j.scope&&U.closeNode(),!j.skip&&!j.subLanguage&&(fe+=j.relevance),j=j.parent;while(j!==ae.parent);return ae.starts&&Qt(ae.starts,R),be.returnEnd?0:B.length}function C(){const R=[];for(let B=j;B!==q;B=B.parent)B.scope&&R.unshift(B.scope);R.forEach(B=>U.openNode(B))}let A={};function F(R,B){const J=B&&B[0];if(V+=R,J==null)return Ie(),0;if(A.type==="begin"&&B.type==="end"&&A.index===B.index&&J===""){if(V+=I.slice(B.index,B.index+1),!o){const ae=new Error(`0 width match regex (${k})`);throw ae.languageName=k,ae.badRule=A.rule,ae}return 1}if(A=B,B.type==="begin")return Rn(B);if(B.type==="illegal"&&!K){const ae=new Error('Illegal lexeme "'+J+'" for mode "'+(j.scope||"<unnamed>")+'"');throw ae.mode=j,ae}else if(B.type==="end"){const ae=Yn(B);if(ae!==cg)return ae}if(B.type==="illegal"&&J==="")return 1;if(ue>1e5&&ue>B.index*3)throw new Error("potential infinite loop, way more iterations than matches");return V+=J,J.length}const q=M(k);if(!q)throw Mo(s.replace("{}",k)),new Error('Unknown language: "'+k+'"');const X=DL(q);let Y="",j=Z||X;const re={},U=new l.__emitter(l);C();let V="",fe=0,ne=0,ue=0,_e=!1;try{if(q.__emitTokens)q.__emitTokens(I,U);else{for(j.matcher.considerAll();;){ue++,_e?_e=!1:j.matcher.considerAll(),j.matcher.lastIndex=ne;const R=j.matcher.exec(I);if(!R)break;const B=I.substring(ne,R.index),J=F(B,R);ne=R.index+J}F(I.substring(ne))}return U.finalize(),Y=U.toHTML(),{language:k,value:Y,relevance:fe,illegal:!1,_emitter:U,_top:j}}catch(R){if(R.message&&R.message.includes("Illegal"))return{language:k,value:Iu(I),illegal:!0,relevance:0,_illegalBy:{message:R.message,index:ne,context:I.slice(ne-100,ne+100),mode:R.mode,resultSoFar:Y},_emitter:U};if(o)return{language:k,value:Iu(I),illegal:!1,relevance:0,errorRaised:R,_emitter:U,_top:j};throw R}}function f(k){const I={value:Iu(k),illegal:!1,relevance:0,_top:i,_emitter:new l.__emitter(l)};return I._emitter.addText(k),I}function h(k,I){I=I||l.languages||Object.keys(t);const K=f(k),Z=I.filter(M).filter($).map(Ie=>d(Ie,k,!1));Z.unshift(K);const ie=Z.sort((Ie,Be)=>{if(Ie.relevance!==Be.relevance)return Be.relevance-Ie.relevance;if(Ie.language&&Be.language){if(M(Ie.language).supersetOf===Be.language)return 1;if(M(Be.language).supersetOf===Ie.language)return-1}return 0}),[pe,Qe]=ie,Yt=pe;return Yt.secondBest=Qe,Yt}function p(k,I,K){const Z=I&&n[I]||K;k.classList.add("hljs"),k.classList.add(`language-${Z}`)}function g(k){let I=null;const K=c(k);if(a(K))return;if(W("before:highlightElement",{el:k,language:K}),k.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",k);return}if(k.children.length>0&&(l.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(k)),l.throwUnescapedHTML))throw new PL("One of your code blocks includes unescaped HTML.",k.innerHTML);I=k;const Z=I.textContent,ie=K?u(Z,{language:K,ignoreIllegals:!0}):h(Z);k.innerHTML=ie.value,k.dataset.highlighted="yes",p(k,K,ie.language),k.result={language:ie.language,re:ie.relevance,relevance:ie.relevance},ie.secondBest&&(k.secondBest={language:ie.secondBest.language,relevance:ie.secondBest.relevance}),W("after:highlightElement",{el:k,result:ie,text:Z})}function y(k){l=ag(l,k)}const _=()=>{E(),Yo("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function w(){E(),Yo("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let b=!1;function E(){if(document.readyState==="loading"){b=!0;return}document.querySelectorAll(l.cssSelector).forEach(g)}function T(){b&&E()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",T,!1);function x(k,I){let K=null;try{K=I(e)}catch(Z){if(Mo("Language definition for '{}' could not be registered.".replace("{}",k)),o)Mo(Z);else throw Z;K=i}K.name||(K.name=k),t[k]=K,K.rawDefinition=I.bind(null,e),K.aliases&&O(K.aliases,{languageName:k})}function D(k){delete t[k];for(const I of Object.keys(n))n[I]===k&&delete n[I]}function N(){return Object.keys(t)}function M(k){return k=(k||"").toLowerCase(),t[k]||t[n[k]]}function O(k,{languageName:I}){typeof k=="string"&&(k=[k]),k.forEach(K=>{n[K.toLowerCase()]=I})}function $(k){const I=M(k);return I&&!I.disableAutodetect}function v(k){k["before:highlightBlock"]&&!k["before:highlightElement"]&&(k["before:highlightElement"]=I=>{k["before:highlightBlock"](Object.assign({block:I.el},I))}),k["after:highlightBlock"]&&!k["after:highlightElement"]&&(k["after:highlightElement"]=I=>{k["after:highlightBlock"](Object.assign({block:I.el},I))})}function L(k){v(k),r.push(k)}function H(k){const I=r.indexOf(k);I!==-1&&r.splice(I,1)}function W(k,I){const K=k;r.forEach(function(Z){Z[K]&&Z[K](I)})}function P(k){return Yo("10.7.0","highlightBlock will be removed entirely in v12.0"),Yo("10.7.0","Please use highlightElement now."),g(k)}Object.assign(e,{highlight:u,highlightAuto:h,highlightAll:E,highlightElement:g,highlightBlock:P,configure:y,initHighlighting:_,initHighlightingOnLoad:w,registerLanguage:x,unregisterLanguage:D,listLanguages:N,getLanguage:M,registerAliases:O,autoDetection:$,inherit:ag,addPlugin:L,removePlugin:H}),e.debugMode=function(){o=!1},e.safeMode=function(){o=!0},e.versionString=jL,e.regex={concat:Wo,lookahead:vv,either:hh,optional:YD,anyNumberOfTimes:XD};for(const k in pl)typeof pl[k]=="object"&&_v(pl[k]);return Object.assign(e,pl),e},Ms=Av({});Ms.newInstance=()=>Av({});var VL=Ms;Ms.HighlightJS=Ms;Ms.default=Ms;var $L=KD(VL);function Ov(e,t=[]){return e.map(n=>{const r=[...t,...n.properties?n.properties.className:[]];return n.children?Ov(n.children,r):{text:n.value,classes:r}}).flat()}function ug(e){return e.value||e.children||[]}function BL(e){return!!$L.getLanguage(e)}function dg({doc:e,name:t,lowlight:n,defaultLanguage:r}){const o=[];return Fd(e,s=>s.type.name===t).forEach(s=>{var i;let l=s.pos+1;const a=s.node.attrs.language||r,c=n.listLanguages(),u=a&&(c.includes(a)||BL(a)||!((i=n.registered)===null||i===void 0)&&i.call(n,a))?ug(n.highlight(a,s.node.textContent)):ug(n.highlightAuto(s.node.textContent));Ov(u).forEach(d=>{const f=l+d.text.length;if(d.classes.length){const h=ft.inline(l,f,{class:d.classes.join(" ")});o.push(h)}l=f})}),He.create(e,o)}function HL(e){return typeof e=="function"}function FL({name:e,lowlight:t,defaultLanguage:n}){if(!["highlight","highlightAuto","listLanguages"].every(o=>HL(t[o])))throw Error("You should provide an instance of lowlight to use the code-block-lowlight extension");const r=new Oe({key:new Re("lowlight"),state:{init:(o,{doc:s})=>dg({doc:s,name:e,lowlight:t,defaultLanguage:n}),apply:(o,s,i,l)=>{const a=i.selection.$head.parent.type.name,c=l.selection.$head.parent.type.name,u=Fd(i.doc,f=>f.type.name===e),d=Fd(l.doc,f=>f.type.name===e);return o.docChanged&&([a,c].includes(e)||d.length!==u.length||o.steps.some(f=>f.from!==void 0&&f.to!==void 0&&u.some(h=>h.pos>=f.from&&h.pos+h.node.nodeSize<=f.to)))?dg({doc:o.doc,name:e,lowlight:t,defaultLanguage:n}):s.map(o.mapping,o.doc)}},props:{decorations(o){return r.getState(o)}}});return r}const zL=zD.extend({addOptions(){var e;return{...(e=this.parent)===null||e===void 0?void 0:e.call(this),lowlight:{}}},addProseMirrorPlugins(){var e;return[...((e=this.parent)===null||e===void 0?void 0:e.call(this))||[],FL({name:this.name,lowlight:this.options.lowlight,defaultLanguage:this.options.defaultLanguage})]}});function Iv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Rv(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const n=e[t],r=typeof n;(r==="object"||r==="function")&&!Object.isFrozen(n)&&Rv(n)}),e}class fg{constructor(t){t.data===void 0&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function Dv(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Fr(e,...t){const n=Object.create(null);for(const r in e)n[r]=e[r];return t.forEach(function(r){for(const o in r)n[o]=r[o]}),n}const KL="</span>",hg=e=>!!e.scope,WL=(e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map((r,o)=>`${r}${"_".repeat(o+1)}`)].join(" ")}return`${t}${e}`};class UL{constructor(t,n){this.buffer="",this.classPrefix=n.classPrefix,t.walk(this)}addText(t){this.buffer+=Dv(t)}openNode(t){if(!hg(t))return;const n=WL(t.scope,{prefix:this.classPrefix});this.span(n)}closeNode(t){hg(t)&&(this.buffer+=KL)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}const pg=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class gh{constructor(){this.rootNode=pg(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const n=pg({scope:t});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,n){return typeof n=="string"?t.addText(n):n.children&&(t.openNode(n),n.children.forEach(r=>this._walk(t,r)),t.closeNode(n)),t}static _collapse(t){typeof t!="string"&&t.children&&(t.children.every(n=>typeof n=="string")?t.children=[t.children.join("")]:t.children.forEach(n=>{gh._collapse(n)}))}}class qL extends gh{constructor(t){super(),this.options=t}addText(t){t!==""&&this.add(t)}startScope(t){this.openNode(t)}endScope(){this.closeNode()}__addSublanguage(t,n){const r=t.root;n&&(r.scope=`language:${n}`),this.add(r)}toHTML(){return new UL(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function Ii(e){return e?typeof e=="string"?e:e.source:null}function Lv(e){return Uo("(?=",e,")")}function GL(e){return Uo("(?:",e,")*")}function JL(e){return Uo("(?:",e,")?")}function Uo(...e){return e.map(n=>Ii(n)).join("")}function XL(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function _h(...e){return"("+(XL(e).capture?"":"?:")+e.map(r=>Ii(r)).join("|")+")"}function jv(e){return new RegExp(e.toString()+"|").exec("").length-1}function YL(e,t){const n=e&&e.exec(t);return n&&n.index===0}const QL=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function yh(e,{joinWith:t}){let n=0;return e.map(r=>{n+=1;const o=n;let s=Ii(r),i="";for(;s.length>0;){const l=QL.exec(s);if(!l){i+=s;break}i+=s.substring(0,l.index),s=s.substring(l.index+l[0].length),l[0][0]==="\\"&&l[1]?i+="\\"+String(Number(l[1])+o):(i+=l[0],l[0]==="("&&n++)}return i}).map(r=>`(${r})`).join(t)}const ZL=/\b\B/,Pv="[a-zA-Z]\\w*",bh="[a-zA-Z_]\\w*",Nv="\\b\\d+(\\.\\d+)?",Vv="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",$v="\\b(0b[01]+)",ej="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",tj=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=Uo(t,/.*\b/,e.binary,/\b.*/)),Fr({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(n,r)=>{n.index!==0&&r.ignoreMatch()}},e)},Ri={begin:"\\\\[\\s\\S]",relevance:0},nj={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Ri]},rj={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Ri]},oj={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},Uc=function(e,t,n={}){const r=Fr({scope:"comment",begin:e,end:t,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const o=_h("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:Uo(/[ ]+/,"(",o,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},sj=Uc("//","$"),ij=Uc("/\\*","\\*/"),lj=Uc("#","$"),aj={scope:"number",begin:Nv,relevance:0},cj={scope:"number",begin:Vv,relevance:0},uj={scope:"number",begin:$v,relevance:0},dj={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[Ri,{begin:/\[/,end:/\]/,relevance:0,contains:[Ri]}]},fj={scope:"title",begin:Pv,relevance:0},hj={scope:"title",begin:bh,relevance:0},pj={begin:"\\.\\s*"+bh,relevance:0},mj=function(e){return Object.assign(e,{"on:begin":(t,n)=>{n.data._beginMatch=t[1]},"on:end":(t,n)=>{n.data._beginMatch!==t[1]&&n.ignoreMatch()}})};var ml=Object.freeze({__proto__:null,APOS_STRING_MODE:nj,BACKSLASH_ESCAPE:Ri,BINARY_NUMBER_MODE:uj,BINARY_NUMBER_RE:$v,COMMENT:Uc,C_BLOCK_COMMENT_MODE:ij,C_LINE_COMMENT_MODE:sj,C_NUMBER_MODE:cj,C_NUMBER_RE:Vv,END_SAME_AS_BEGIN:mj,HASH_COMMENT_MODE:lj,IDENT_RE:Pv,MATCH_NOTHING_RE:ZL,METHOD_GUARD:pj,NUMBER_MODE:aj,NUMBER_RE:Nv,PHRASAL_WORDS_MODE:oj,QUOTE_STRING_MODE:rj,REGEXP_MODE:dj,RE_STARTERS_RE:ej,SHEBANG:tj,TITLE_MODE:fj,UNDERSCORE_IDENT_RE:bh,UNDERSCORE_TITLE_MODE:hj});function gj(e,t){e.input[e.index-1]==="."&&t.ignoreMatch()}function _j(e,t){e.className!==void 0&&(e.scope=e.className,delete e.className)}function yj(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=gj,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function bj(e,t){Array.isArray(e.illegal)&&(e.illegal=_h(...e.illegal))}function vj(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function Ej(e,t){e.relevance===void 0&&(e.relevance=1)}const kj=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach(r=>{delete e[r]}),e.keywords=n.keywords,e.begin=Uo(n.beforeMatch,Lv(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},wj=["of","and","for","in","not","or","if","then","parent","list","value"],xj="keyword";function Bv(e,t,n=xj){const r=Object.create(null);return typeof e=="string"?o(n,e.split(" ")):Array.isArray(e)?o(n,e):Object.keys(e).forEach(function(s){Object.assign(r,Bv(e[s],t,s))}),r;function o(s,i){t&&(i=i.map(l=>l.toLowerCase())),i.forEach(function(l){const a=l.split("|");r[a[0]]=[s,Cj(a[0],a[1])]})}}function Cj(e,t){return t?Number(t):Tj(e)?0:1}function Tj(e){return wj.includes(e.toLowerCase())}const mg={},Ao=e=>{console.error(e)},gg=(e,...t)=>{console.log(`WARN: ${e}`,...t)},Qo=(e,t)=>{mg[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),mg[`${e}/${t}`]=!0)},La=new Error;function Hv(e,t,{key:n}){let r=0;const o=e[n],s={},i={};for(let l=1;l<=t.length;l++)i[l+r]=o[l],s[l+r]=!0,r+=jv(t[l-1]);e[n]=i,e[n]._emit=s,e[n]._multi=!0}function Sj(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw Ao("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),La;if(typeof e.beginScope!="object"||e.beginScope===null)throw Ao("beginScope must be object"),La;Hv(e,e.begin,{key:"beginScope"}),e.begin=yh(e.begin,{joinWith:""})}}function Mj(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw Ao("skip, excludeEnd, returnEnd not compatible with endScope: {}"),La;if(typeof e.endScope!="object"||e.endScope===null)throw Ao("endScope must be object"),La;Hv(e,e.end,{key:"endScope"}),e.end=yh(e.end,{joinWith:""})}}function Aj(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function Oj(e){Aj(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),Sj(e),Mj(e)}function Ij(e){function t(i,l){return new RegExp(Ii(i),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(l?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(l,a){a.position=this.position++,this.matchIndexes[this.matchAt]=a,this.regexes.push([a,l]),this.matchAt+=jv(l)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const l=this.regexes.map(a=>a[1]);this.matcherRe=t(yh(l,{joinWith:"|"}),!0),this.lastIndex=0}exec(l){this.matcherRe.lastIndex=this.lastIndex;const a=this.matcherRe.exec(l);if(!a)return null;const c=a.findIndex((d,f)=>f>0&&d!==void 0),u=this.matchIndexes[c];return a.splice(0,c),Object.assign(a,u)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(l){if(this.multiRegexes[l])return this.multiRegexes[l];const a=new n;return this.rules.slice(l).forEach(([c,u])=>a.addRule(c,u)),a.compile(),this.multiRegexes[l]=a,a}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(l,a){this.rules.push([l,a]),a.type==="begin"&&this.count++}exec(l){const a=this.getMatcher(this.regexIndex);a.lastIndex=this.lastIndex;let c=a.exec(l);if(this.resumingScanAtSamePosition()&&!(c&&c.index===this.lastIndex)){const u=this.getMatcher(0);u.lastIndex=this.lastIndex+1,c=u.exec(l)}return c&&(this.regexIndex+=c.position+1,this.regexIndex===this.count&&this.considerAll()),c}}function o(i){const l=new r;return i.contains.forEach(a=>l.addRule(a.begin,{rule:a,type:"begin"})),i.terminatorEnd&&l.addRule(i.terminatorEnd,{type:"end"}),i.illegal&&l.addRule(i.illegal,{type:"illegal"}),l}function s(i,l){const a=i;if(i.isCompiled)return a;[_j,vj,Oj,kj].forEach(u=>u(i,l)),e.compilerExtensions.forEach(u=>u(i,l)),i.__beforeBegin=null,[yj,bj,Ej].forEach(u=>u(i,l)),i.isCompiled=!0;let c=null;return typeof i.keywords=="object"&&i.keywords.$pattern&&(i.keywords=Object.assign({},i.keywords),c=i.keywords.$pattern,delete i.keywords.$pattern),c=c||/\w+/,i.keywords&&(i.keywords=Bv(i.keywords,e.case_insensitive)),a.keywordPatternRe=t(c,!0),l&&(i.begin||(i.begin=/\B|\b/),a.beginRe=t(a.begin),!i.end&&!i.endsWithParent&&(i.end=/\B|\b/),i.end&&(a.endRe=t(a.end)),a.terminatorEnd=Ii(a.end)||"",i.endsWithParent&&l.terminatorEnd&&(a.terminatorEnd+=(i.end?"|":"")+l.terminatorEnd)),i.illegal&&(a.illegalRe=t(i.illegal)),i.contains||(i.contains=[]),i.contains=[].concat(...i.contains.map(function(u){return Rj(u==="self"?i:u)})),i.contains.forEach(function(u){s(u,a)}),i.starts&&s(i.starts,l),a.matcher=o(a),a}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=Fr(e.classNameAliases||{}),s(e)}function Fv(e){return e?e.endsWithParent||Fv(e.starts):!1}function Rj(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return Fr(e,{variants:null},t)})),e.cachedVariants?e.cachedVariants:Fv(e)?Fr(e,{starts:e.starts?Fr(e.starts):null}):Object.isFrozen(e)?Fr(e):e}var Dj="11.9.0";class Lj extends Error{constructor(t,n){super(t),this.name="HTMLInjectionError",this.html=n}}const Ru=Dv,_g=Fr,yg=Symbol("nomatch"),jj=7,zv=function(e){const t=Object.create(null),n=Object.create(null),r=[];let o=!0;const s="Could not find the language '{}', did you forget to load/include a language module?",i={disableAutodetect:!0,name:"Plain text",contains:[]};let l={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:qL};function a(k){return l.noHighlightRe.test(k)}function c(k){let I=k.className+" ";I+=k.parentNode?k.parentNode.className:"";const K=l.languageDetectRe.exec(I);if(K){const Z=M(K[1]);return Z||(gg(s.replace("{}",K[1])),gg("Falling back to no-highlight mode for this block.",k)),Z?K[1]:"no-highlight"}return I.split(/\s+/).find(Z=>a(Z)||M(Z))}function u(k,I,K){let Z="",ie="";typeof I=="object"?(Z=k,K=I.ignoreIllegals,ie=I.language):(Qo("10.7.0","highlight(lang, code, ...args) has been deprecated."),Qo("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),ie=k,Z=I),K===void 0&&(K=!0);const pe={code:Z,language:ie};W("before:highlight",pe);const Qe=pe.result?pe.result:d(pe.language,pe.code,K);return Qe.code=pe.code,W("after:highlight",Qe),Qe}function d(k,I,K,Z){const ie=Object.create(null);function pe(R,B){return R.keywords[B]}function Qe(){if(!j.keywords){U.addText(V);return}let R=0;j.keywordPatternRe.lastIndex=0;let B=j.keywordPatternRe.exec(V),J="";for(;B;){J+=V.substring(R,B.index);const ae=q.case_insensitive?B[0].toLowerCase():B[0],be=pe(j,ae);if(be){const[De,Et]=be;if(U.addText(J),J="",ie[ae]=(ie[ae]||0)+1,ie[ae]<=jj&&(fe+=Et),De.startsWith("_"))J+=B[0];else{const Qn=q.classNameAliases[De]||De;Be(B[0],Qn)}}else J+=B[0];R=j.keywordPatternRe.lastIndex,B=j.keywordPatternRe.exec(V)}J+=V.substring(R),U.addText(J)}function Yt(){if(V==="")return;let R=null;if(typeof j.subLanguage=="string"){if(!t[j.subLanguage]){U.addText(V);return}R=d(j.subLanguage,V,!0,re[j.subLanguage]),re[j.subLanguage]=R._top}else R=h(V,j.subLanguage.length?j.subLanguage:null);j.relevance>0&&(fe+=R.relevance),U.__addSublanguage(R._emitter,R.language)}function Ie(){j.subLanguage!=null?Yt():Qe(),V=""}function Be(R,B){R!==""&&(U.startScope(B),U.addText(R),U.endScope())}function ln(R,B){let J=1;const ae=B.length-1;for(;J<=ae;){if(!R._emit[J]){J++;continue}const be=q.classNameAliases[R[J]]||R[J],De=B[J];be?Be(De,be):(V=De,Qe(),V=""),J++}}function Qt(R,B){return R.scope&&typeof R.scope=="string"&&U.openNode(q.classNameAliases[R.scope]||R.scope),R.beginScope&&(R.beginScope._wrap?(Be(V,q.classNameAliases[R.beginScope._wrap]||R.beginScope._wrap),V=""):R.beginScope._multi&&(ln(R.beginScope,B),V="")),j=Object.create(R,{parent:{value:j}}),j}function pt(R,B,J){let ae=YL(R.endRe,J);if(ae){if(R["on:end"]){const be=new fg(R);R["on:end"](B,be),be.isMatchIgnored&&(ae=!1)}if(ae){for(;R.endsParent&&R.parent;)R=R.parent;return R}}if(R.endsWithParent)return pt(R.parent,B,J)}function Zt(R){return j.matcher.regexIndex===0?(V+=R[0],1):(_e=!0,0)}function Rn(R){const B=R[0],J=R.rule,ae=new fg(J),be=[J.__beforeBegin,J["on:begin"]];for(const De of be)if(De&&(De(R,ae),ae.isMatchIgnored))return Zt(B);return J.skip?V+=B:(J.excludeBegin&&(V+=B),Ie(),!J.returnBegin&&!J.excludeBegin&&(V=B)),Qt(J,R),J.returnBegin?0:B.length}function Yn(R){const B=R[0],J=I.substring(R.index),ae=pt(j,R,J);if(!ae)return yg;const be=j;j.endScope&&j.endScope._wrap?(Ie(),Be(B,j.endScope._wrap)):j.endScope&&j.endScope._multi?(Ie(),ln(j.endScope,R)):be.skip?V+=B:(be.returnEnd||be.excludeEnd||(V+=B),Ie(),be.excludeEnd&&(V=B));do j.scope&&U.closeNode(),!j.skip&&!j.subLanguage&&(fe+=j.relevance),j=j.parent;while(j!==ae.parent);return ae.starts&&Qt(ae.starts,R),be.returnEnd?0:B.length}function C(){const R=[];for(let B=j;B!==q;B=B.parent)B.scope&&R.unshift(B.scope);R.forEach(B=>U.openNode(B))}let A={};function F(R,B){const J=B&&B[0];if(V+=R,J==null)return Ie(),0;if(A.type==="begin"&&B.type==="end"&&A.index===B.index&&J===""){if(V+=I.slice(B.index,B.index+1),!o){const ae=new Error(`0 width match regex (${k})`);throw ae.languageName=k,ae.badRule=A.rule,ae}return 1}if(A=B,B.type==="begin")return Rn(B);if(B.type==="illegal"&&!K){const ae=new Error('Illegal lexeme "'+J+'" for mode "'+(j.scope||"<unnamed>")+'"');throw ae.mode=j,ae}else if(B.type==="end"){const ae=Yn(B);if(ae!==yg)return ae}if(B.type==="illegal"&&J==="")return 1;if(ue>1e5&&ue>B.index*3)throw new Error("potential infinite loop, way more iterations than matches");return V+=J,J.length}const q=M(k);if(!q)throw Ao(s.replace("{}",k)),new Error('Unknown language: "'+k+'"');const X=Ij(q);let Y="",j=Z||X;const re={},U=new l.__emitter(l);C();let V="",fe=0,ne=0,ue=0,_e=!1;try{if(q.__emitTokens)q.__emitTokens(I,U);else{for(j.matcher.considerAll();;){ue++,_e?_e=!1:j.matcher.considerAll(),j.matcher.lastIndex=ne;const R=j.matcher.exec(I);if(!R)break;const B=I.substring(ne,R.index),J=F(B,R);ne=R.index+J}F(I.substring(ne))}return U.finalize(),Y=U.toHTML(),{language:k,value:Y,relevance:fe,illegal:!1,_emitter:U,_top:j}}catch(R){if(R.message&&R.message.includes("Illegal"))return{language:k,value:Ru(I),illegal:!0,relevance:0,_illegalBy:{message:R.message,index:ne,context:I.slice(ne-100,ne+100),mode:R.mode,resultSoFar:Y},_emitter:U};if(o)return{language:k,value:Ru(I),illegal:!1,relevance:0,errorRaised:R,_emitter:U,_top:j};throw R}}function f(k){const I={value:Ru(k),illegal:!1,relevance:0,_top:i,_emitter:new l.__emitter(l)};return I._emitter.addText(k),I}function h(k,I){I=I||l.languages||Object.keys(t);const K=f(k),Z=I.filter(M).filter($).map(Ie=>d(Ie,k,!1));Z.unshift(K);const ie=Z.sort((Ie,Be)=>{if(Ie.relevance!==Be.relevance)return Be.relevance-Ie.relevance;if(Ie.language&&Be.language){if(M(Ie.language).supersetOf===Be.language)return 1;if(M(Be.language).supersetOf===Ie.language)return-1}return 0}),[pe,Qe]=ie,Yt=pe;return Yt.secondBest=Qe,Yt}function p(k,I,K){const Z=I&&n[I]||K;k.classList.add("hljs"),k.classList.add(`language-${Z}`)}function g(k){let I=null;const K=c(k);if(a(K))return;if(W("before:highlightElement",{el:k,language:K}),k.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",k);return}if(k.children.length>0&&(l.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(k)),l.throwUnescapedHTML))throw new Lj("One of your code blocks includes unescaped HTML.",k.innerHTML);I=k;const Z=I.textContent,ie=K?u(Z,{language:K,ignoreIllegals:!0}):h(Z);k.innerHTML=ie.value,k.dataset.highlighted="yes",p(k,K,ie.language),k.result={language:ie.language,re:ie.relevance,relevance:ie.relevance},ie.secondBest&&(k.secondBest={language:ie.secondBest.language,relevance:ie.secondBest.relevance}),W("after:highlightElement",{el:k,result:ie,text:Z})}function y(k){l=_g(l,k)}const _=()=>{E(),Qo("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function w(){E(),Qo("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let b=!1;function E(){if(document.readyState==="loading"){b=!0;return}document.querySelectorAll(l.cssSelector).forEach(g)}function T(){b&&E()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",T,!1);function x(k,I){let K=null;try{K=I(e)}catch(Z){if(Ao("Language definition for '{}' could not be registered.".replace("{}",k)),o)Ao(Z);else throw Z;K=i}K.name||(K.name=k),t[k]=K,K.rawDefinition=I.bind(null,e),K.aliases&&O(K.aliases,{languageName:k})}function D(k){delete t[k];for(const I of Object.keys(n))n[I]===k&&delete n[I]}function N(){return Object.keys(t)}function M(k){return k=(k||"").toLowerCase(),t[k]||t[n[k]]}function O(k,{languageName:I}){typeof k=="string"&&(k=[k]),k.forEach(K=>{n[K.toLowerCase()]=I})}function $(k){const I=M(k);return I&&!I.disableAutodetect}function v(k){k["before:highlightBlock"]&&!k["before:highlightElement"]&&(k["before:highlightElement"]=I=>{k["before:highlightBlock"](Object.assign({block:I.el},I))}),k["after:highlightBlock"]&&!k["after:highlightElement"]&&(k["after:highlightElement"]=I=>{k["after:highlightBlock"](Object.assign({block:I.el},I))})}function L(k){v(k),r.push(k)}function H(k){const I=r.indexOf(k);I!==-1&&r.splice(I,1)}function W(k,I){const K=k;r.forEach(function(Z){Z[K]&&Z[K](I)})}function P(k){return Qo("10.7.0","highlightBlock will be removed entirely in v12.0"),Qo("10.7.0","Please use highlightElement now."),g(k)}Object.assign(e,{highlight:u,highlightAuto:h,highlightAll:E,highlightElement:g,highlightBlock:P,configure:y,initHighlighting:_,initHighlightingOnLoad:w,registerLanguage:x,unregisterLanguage:D,listLanguages:N,getLanguage:M,registerAliases:O,autoDetection:$,inherit:_g,addPlugin:L,removePlugin:H}),e.debugMode=function(){o=!1},e.safeMode=function(){o=!0},e.versionString=Dj,e.regex={concat:Uo,lookahead:Lv,either:_h,optional:JL,anyNumberOfTimes:GL};for(const k in ml)typeof ml[k]=="object"&&Rv(ml[k]);return Object.assign(e,ml),e},As=zv({});As.newInstance=()=>zv({});var Pj=As;As.HighlightJS=As;As.default=As;const Nj=Iv(Pj),bg={},Vj="hljs-";function $j(e){const t=Nj.newInstance();return{highlight:n,highlightAuto:r,listLanguages:o,register:s,registerAlias:i,registered:l};function n(a,c,u){const d=u||bg,f=typeof d.prefix=="string"?d.prefix:Vj;if(!t.getLanguage(a))throw new Error("Unknown language: `"+a+"` is not registered");t.configure({__emitter:Bj,classPrefix:f});const h=t.highlight(c,{ignoreIllegals:!0,language:a});if(h.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:h.errorRaised});const p=h._emitter.root,g=p.data;return g.language=h.language,g.relevance=h.relevance,p}function r(a,c){const d=(c||bg).subset||o();let f=-1,h=0,p;for(;++f<d.length;){const g=d[f];if(!t.getLanguage(g))continue;const y=n(g,a,c);y.data&&y.data.relevance!==void 0&&y.data.relevance>h&&(h=y.data.relevance,p=y)}return p||{type:"root",children:[],data:{language:void 0,relevance:h}}}function o(){return t.listLanguages()}function s(a,c){if(typeof a=="string")t.registerLanguage(a,c);else{let u;for(u in a)Object.hasOwn(a,u)&&t.registerLanguage(u,a[u])}}function i(a,c){if(typeof a=="string")t.registerAliases(typeof c=="string"?c:[...c],{languageName:a});else{let u;for(u in a)if(Object.hasOwn(a,u)){const d=a[u];t.registerAliases(typeof d=="string"?d:[...d],{languageName:u})}}}function l(a){return!!t.getLanguage(a)}}class Bj{constructor(t){this.options=t,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(t){if(t==="")return;const n=this.stack[this.stack.length-1],r=n.children[n.children.length-1];r&&r.type==="text"?r.value+=t:n.children.push({type:"text",value:t})}startScope(t){this.openNode(String(t))}endScope(){this.closeNode()}__addSublanguage(t,n){const r=this.stack[this.stack.length-1],o=t.root.children;n?r.children.push({type:"element",tagName:"span",properties:{className:[n]},children:o}):r.children.push(...o)}openNode(t){const n=this,r=t.split(".").map(function(i,l){return l?i+"_".repeat(l):n.options.classPrefix+i}),o=this.stack[this.stack.length-1],s={type:"element",tagName:"span",properties:{className:r},children:[]};o.children.push(s),this.stack.push(s)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const Kv=Symbol("langsInfoInjectionKey"),Ud=Symbol("codeBlockThemeIsDarkInjectionKey"),Hj=Se({__name:"CodeBlockView",props:Gi,setup(e){const t=Ne(Kv,Q({languages:{},aliases:{}})),n=Ne(Ud,Q(!1)),r=e,o=Q(r.node.attrs.language??""),s=Q(null);ze(()=>r.node.attrs.language,c=>{o.value=c});let i;function l(c){var u;s.value&&(r.getPos(),r.editor.view.focus(),r.editor.commands.command(({tr:d,dispatch:f})=>{const h=r.editor.view.posAtDOM(s.value,0);if(h<0)return!1;const p=d.doc.resolve(h+r.node.nodeSize-1);if(i)d.setSelection(i);else{const g=ce.findFrom(p,-1,!0);if(!g)return!1;d.setSelection(g)}return d.setNodeMarkup(p.start(),void 0,{...r.node.attrs,language:c,loading:!0}),d.scrollIntoView(),f&&f(d),i=void 0,!0}),(u=s.value.querySelector("code"))==null||u.focus())}function a(){if(!s.value)return;const c=r.editor.view.posAtDOM(s.value,0),u=r.editor.state.doc.resolve(c);i=r.editor.state.selection,(i.from<u.start()||i.to>u.end())&&(i=void 0)}return(c,u)=>Vo((z(),ke(S(qi),{class:st(`
		border
		border-[var(--pmCodeBlockBgColor)]
		code-block
		bg-[var(--pmCodeBlockBgColor)]
		rounded
	`)},{default:me(()=>[le("div",{contenteditable:"false",class:st(`
			lang-picker
			rem-[0.7]
			${S(n)?"bg-neutral-600":"bg-neutral-400"}
		`),ref:"codeBlockLangPickerEl"},[te(S(ki),{border:!1,"wrapper-class":"lang-picker-input flex-nowrap z-10","inner-wrapper-class":`
				${S(n)?"[&>*:not(.suggestions)]:text-neutral-300":"[&>*:not(.suggestions)]:text-neutral-700"}
			`,"suggestions-class":"max-h-[200px] overflow-y-auto",suggestions:S(sn)(S(t).aliases),"restrict-to-suggestions":!0,"aria-label":"Language:","model-value":o.value,onBlur:u[0]||(u[0]=d=>o.value=o.value),onFocus:a,onSubmit:l},null,8,["inner-wrapper-class","suggestions","model-value"])],2),te(S(ch),{class:st(S(Bn)(`
			hljs
			py-1
			px-2
			${S(n)?"dark":""}
		`,c.node.attrs.language?`language-${c.node.attrs.language}`:void 0)),as:"pre",language:c.node.attrs.language,loading:c.node.attrs.loading},null,8,["class","language","loading"])]),_:1})),[[S(Fi),d=>s.value=d]])}}),Fj=e=>t=>({state:n,chain:r,tr:o})=>{const s=n.selection.map(o.doc,o.mapping),{$from:i,$to:l}=s;let{empty:a,from:c}=s;if(t!==void 0&&(c=t,a=!0),i.parent.type.name!==e||l.parent.type.name!==e||i.parent!==l.parent)return!1;const u=a&&c===i.end(),d=i.parent.textContent.endsWith(`

`);return u&&d?r().command(({tr:f,dispatch:h})=>(h&&f.delete(c-1,i.pos),!0)).splitItem().run():r().command(({commands:f})=>a?!0:f.deleteSelection()).newlineInCode().run()},zj=e=>()=>({state:t,tr:n,dispatch:r})=>{const{$from:o,$to:s,empty:i,from:l,to:a}=t.selection.map(n.doc,n.mapping);if(o.parent.type.name!==e||s.parent.type.name!==e||o.parent!==s.parent)return!1;if(!r)return!0;if(i)return n.insertText("	"),!0;const c=o.parent.textContent,u=o.start();let d=l-u,f=a-u;for(let _=d;_>0&&c[_-1]!==`
`;_--)d--;for(let _=f;_<c.length&&c[_]!==`
`;_++)f++;const p=c.slice(d,f).split(`
`);let g=0;for(let _=0;_<p.length;_++)p[_]=`	${p[_]}`,g++;const y=p.join(`
`);return n.insertText(y,u+d,u+f),n.setSelection(ce.create(n.doc,l+1,a+g)),!0},Kj=e=>()=>({state:t,tr:n,dispatch:r})=>{const{$from:o,$to:s,from:i,to:l}=t.selection.map(n.doc,n.mapping);if(o.parent.type.name!==e||s.parent.type.name!==e||o.parent!==s.parent)return!1;if(!r)return!0;const a=o.parent.textContent,c=o.start();let u=i-c,d=l-c;const f=a[d-1]===`
`,h=a[d]==="	";for(let b=u;b>0&&a[b-1]!==`
`;b--)u--;for(let b=d;b<a.length&&a[b]!==`
`;b++)d++;const g=a.slice(u,d).split(`
`);let y=0,_=!1;for(let b=0;b<g.length;b++)g[b].startsWith("	")&&(g[b]=g[b].slice(1),y++,b===0&&(_=!0));const w=g.join(`
`);return n.insertText(w,c+u,c+d),n.setSelection(ce.create(n.doc,i-(_?1:0),l-y+(f&&h?1:0))),!0};function Wj(e,t,n){if(e instanceof HTMLElement){const r=e.querySelector(`.${t}`);if(r instanceof HTMLElement)return n&&r.focus(),!0}return!1}const Uj=(e,t="lang-picker-input")=>()=>({state:n,tr:r,view:o,dispatch:s})=>{var u;const{from:i,empty:l}=n.selection.map(r.doc,r.mapping);if(!l)return!1;const a=r.doc.resolve(i);if(Ia(a.node()),((u=a.node())==null?void 0:u.type.name)===e){const d=o.domAtPos(a.start(-1)).node;return Wj(d,t,s)}return!1},Wv=$j(),qj=zL.extend({name:"codeBlock",group:"block",marks:"",addOptions(){var e;return{...(e=this.parent)==null?void 0:e.call(this),defaultLanguage:null,lowlight:Wv}},addAttributes(){var e;return{...(e=this.parent)==null?void 0:e.call(this),language:{default:""},loading:{default:!0}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full",getAttrs:e=>{const t=e.children[0];if(!t)return!1;const n=t.getAttribute("language");if(n)return{language:n};const r=Array.from(e.classList).find(o=>o.startsWith("language-"));return r?{language:r.slice(9)}:!1}}]},renderHTML({node:e,HTMLAttributes:t}){var r;const n=e.attrs.language?this.options.languageClassPrefix+e.attrs.language:"";return["pre",["code",$e(this.options.HTMLAttributes,{language:e.attrs.language},t,{class:`${n} ${(t==null?void 0:t.class)??((r=this.options.HTMLAttributes)==null?void 0:r.class)??""}`}),0]]},addNodeView(){return Ji(Hj)},addCommands(){var e;return{...(e=this==null?void 0:this.parent)==null?void 0:e.call(this),codeBlockEnterOrSplit:Fj(this.name),focusCodeBlockLanguage:Uj(this.name),codeBlockIndent:zj(this.name),codeBlockUnindent:Kj(this.name)}},addKeyboardShortcuts(){return{}}}),ai={"1c":{},abnf:{},accesslog:{},actionscript:{aliases:["as"]},ada:{},angelscript:{aliases:["asc"]},apache:{aliases:["apacheconf"]},applescript:{aliases:["osascript"]},arcade:{},arduino:{aliases:["ino"]},armasm:{aliases:["arm"]},xml:{aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"]},asciidoc:{aliases:["adoc"]},aspectj:{},autohotkey:{aliases:["ahk"]},autoit:{},avrasm:{},awk:{},axapta:{aliases:["x++"]},bash:{aliases:["sh","zsh"]},basic:{},bnf:{},brainfuck:{aliases:["bf"]},c:{aliases:["h"]},cal:{},capnproto:{aliases:["capnp"]},ceylon:{},clean:{aliases:["icl","dcl"]},clojure:{aliases:["clj","edn"]},"clojure-repl":{},cmake:{aliases:["cmake.in"]},coffeescript:{aliases:["coffee","cson","iced"]},coq:{},cos:{aliases:["cls"]},cpp:{aliases:["cc","c++","h++","hpp","hh","hxx","cxx"]},crmsh:{aliases:["crm","pcmk"]},crystal:{aliases:["cr"]},csharp:{aliases:["cs","c#"]},csp:{},css:{},d:{},markdown:{aliases:["md","mkdown","mkd"]},dart:{},delphi:{aliases:["dpr","dfm","pas","pascal"]},diff:{aliases:["patch"]},django:{aliases:["jinja"]},dns:{aliases:["bind","zone"]},dockerfile:{aliases:["docker"]},dos:{aliases:["bat","cmd"]},dsconfig:{},dts:{},dust:{aliases:["dst"]},ebnf:{},elixir:{aliases:["ex","exs"]},elm:{},ruby:{aliases:["rb","gemspec","podspec","thor","irb"]},erb:{},"erlang-repl":{},erlang:{aliases:["erl"]},excel:{aliases:["xlsx","xls"]},fix:{},flix:{},fortran:{aliases:["f90","f95"]},fsharp:{aliases:["fs","f#"]},gams:{aliases:["gms"]},gauss:{aliases:["gss"]},gcode:{aliases:["nc"]},gherkin:{aliases:["feature"]},glsl:{},gml:{},go:{aliases:["golang"]},golo:{},gradle:{},graphql:{aliases:["gql"]},groovy:{},haml:{},handlebars:{aliases:["hbs","html.hbs","html.handlebars","htmlbars"]},haskell:{aliases:["hs"]},haxe:{aliases:["hx"]},hsp:{},http:{aliases:["https"]},hy:{aliases:["hylang"]},inform7:{aliases:["i7"]},ini:{aliases:["toml"]},irpf90:{},isbl:{},java:{aliases:["jsp"]},javascript:{aliases:["js","jsx","mjs","cjs"]},"jboss-cli":{aliases:["wildfly-cli"]},json:{aliases:["jsonc"]},julia:{},"julia-repl":{aliases:["jldoctest"]},kotlin:{aliases:["kt","kts"]},lasso:{aliases:["ls","lassoscript"]},latex:{aliases:["tex"]},ldif:{},leaf:{},less:{},lisp:{},livecodeserver:{},livescript:{aliases:["ls"]},llvm:{},lsl:{},lua:{},makefile:{aliases:["mk","mak","make"]},mathematica:{aliases:["mma","wl"]},matlab:{},maxima:{},mel:{},mercury:{aliases:["m","moo"]},mipsasm:{aliases:["mips"]},mizar:{},perl:{aliases:["pl","pm"]},mojolicious:{},monkey:{},moonscript:{aliases:["moon"]},n1ql:{},nestedtext:{aliases:["nt"]},nginx:{aliases:["nginxconf"]},nim:{},nix:{aliases:["nixos"]},"node-repl":{},nsis:{},objectivec:{aliases:["mm","objc","obj-c","obj-c++","objective-c++"]},ocaml:{aliases:["ml"]},openscad:{aliases:["scad"]},oxygene:{},parser3:{},pf:{aliases:["pf.conf"]},pgsql:{aliases:["postgres","postgresql"]},php:{},"php-template":{},plaintext:{aliases:["text","txt"]},pony:{},powershell:{aliases:["pwsh","ps","ps1"]},processing:{aliases:["pde"]},profile:{},prolog:{},properties:{},protobuf:{aliases:["proto"]},puppet:{aliases:["pp"]},purebasic:{aliases:["pb","pbi"]},python:{aliases:["py","gyp","ipython"]},"python-repl":{aliases:["pycon"]},q:{aliases:["k","kdb"]},qml:{aliases:["qt"]},r:{},reasonml:{aliases:["re"]},rib:{},roboconf:{aliases:["graph","instances"]},routeros:{aliases:["mikrotik"]},rsl:{},ruleslanguage:{},rust:{aliases:["rs"]},sas:{},scala:{},scheme:{aliases:["scm"]},scilab:{aliases:["sci"]},scss:{},shell:{aliases:["console","shellsession"]},smali:{},smalltalk:{aliases:["st"]},sml:{aliases:["ml"]},sqf:{},sql:{},stan:{aliases:["stanfuncs"]},stata:{aliases:["do","ado"]},step21:{aliases:["p21","step","stp"]},stylus:{aliases:["styl"]},subunit:{},swift:{},taggerscript:{},yaml:{aliases:["yml"]},tap:{},tcl:{aliases:["tk"]},thrift:{},tp:{},twig:{aliases:["craftcms"]},typescript:{aliases:["ts","tsx","mts","cts"]},vala:{},vbnet:{aliases:["vb"]},vbscript:{aliases:["vbs"]},"vbscript-html":{},verilog:{aliases:["v","sv","svh"]},vhdl:{},vim:{},wasm:{},wren:{},x86asm:{},xl:{aliases:["tao"]},xquery:{aliases:["xpath","xq","xqm"]},zephir:{aliases:["zep"]}};for(const e of sn(ai))ai[e].loaded=!1;const Gj={languages:ai,aliases:Object.fromEntries(sn(ai).map(e=>{var t;return[...((t=ai[e].aliases)==null?void 0:t.map(n=>[n,e]))??[],[e,e]]}).flat())},vg="../../../../../../node_modules/highlight.js/es/languages",Eg=Object.assign({"../../../../../../node_modules/highlight.js/es/languages/1c.js":()=>m(()=>import("./C7Z183xh.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/1c.js.js":()=>m(()=>import("./BPQwXZVQ.js"),__vite__mapDeps([10,11]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/abnf.js":()=>m(()=>import("./BwMj1Qis.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/abnf.js.js":()=>m(()=>import("./kP40z9O2.js"),__vite__mapDeps([12,13]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/accesslog.js":()=>m(()=>import("./C7zzMuqj.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/accesslog.js.js":()=>m(()=>import("./Cj1oMjUK.js"),__vite__mapDeps([14,15]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/actionscript.js":()=>m(()=>import("./B1ZZs3dc.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/actionscript.js.js":()=>m(()=>import("./n_lVdSVr.js"),__vite__mapDeps([16,17]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/ada.js":()=>m(()=>import("./LdOp3z_q.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/ada.js.js":()=>m(()=>import("./CtCmopnp.js"),__vite__mapDeps([18,19]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/angelscript.js":()=>m(()=>import("./DEqR9Afu.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/angelscript.js.js":()=>m(()=>import("./CYbN8MoI.js"),__vite__mapDeps([20,21]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/apache.js":()=>m(()=>import("./CKvYNDQG.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/apache.js.js":()=>m(()=>import("./DuuJ7sAa.js"),__vite__mapDeps([22,23]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/applescript.js":()=>m(()=>import("./CLhnK0uA.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/applescript.js.js":()=>m(()=>import("./4DHJ1cZk.js"),__vite__mapDeps([24,25]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/arcade.js":()=>m(()=>import("./B3hNgn5c.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/arcade.js.js":()=>m(()=>import("./dDkmq814.js"),__vite__mapDeps([26,27]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/arduino.js":()=>m(()=>import("./lMsVdpwf.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/arduino.js.js":()=>m(()=>import("./Ash2trnT.js"),__vite__mapDeps([28,29]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/armasm.js":()=>m(()=>import("./B6z5u1xA.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/armasm.js.js":()=>m(()=>import("./CawLkUjl.js"),__vite__mapDeps([30,31]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/asciidoc.js":()=>m(()=>import("./QgTngDH5.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/asciidoc.js.js":()=>m(()=>import("./CSDBd3gR.js"),__vite__mapDeps([32,33]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/aspectj.js":()=>m(()=>import("./B9QMCIbF.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/aspectj.js.js":()=>m(()=>import("./CPgnnmFG.js"),__vite__mapDeps([34,35]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/autohotkey.js":()=>m(()=>import("./DltQxv-Z.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/autohotkey.js.js":()=>m(()=>import("./OUOCEPhM.js"),__vite__mapDeps([36,37]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/autoit.js":()=>m(()=>import("./Dn8aqQSn.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/autoit.js.js":()=>m(()=>import("./67yv8MUv.js"),__vite__mapDeps([38,39]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/avrasm.js":()=>m(()=>import("./CAGD1vQt.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/avrasm.js.js":()=>m(()=>import("./B9hMVHjz.js"),__vite__mapDeps([40,41]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/awk.js":()=>m(()=>import("./ByX1p-MC.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/awk.js.js":()=>m(()=>import("./zvKEumDX.js"),__vite__mapDeps([42,43]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/axapta.js":()=>m(()=>import("./CrumeEqI.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/axapta.js.js":()=>m(()=>import("./DrzsTfQl.js"),__vite__mapDeps([44,45]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/bash.js":()=>m(()=>import("./Q0G3kSBE.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/bash.js.js":()=>m(()=>import("./8CuD8aeJ.js"),__vite__mapDeps([46,47]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/basic.js":()=>m(()=>import("./BUiCOGBj.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/basic.js.js":()=>m(()=>import("./BAqtwYlo.js"),__vite__mapDeps([48,49]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/bnf.js":()=>m(()=>import("./DkLtuBJ2.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/bnf.js.js":()=>m(()=>import("./CiwhzYVc.js"),__vite__mapDeps([50,51]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/brainfuck.js":()=>m(()=>import("./rcr_2_Au.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/brainfuck.js.js":()=>m(()=>import("./CmCXVd74.js"),__vite__mapDeps([52,53]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/c.js":()=>m(()=>import("./CgEYd65H.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/c.js.js":()=>m(()=>import("./C9PYxg-P.js"),__vite__mapDeps([54,55]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/cal.js":()=>m(()=>import("./BoTjDSvJ.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/cal.js.js":()=>m(()=>import("./CJUaWEUs.js"),__vite__mapDeps([56,57]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/capnproto.js":()=>m(()=>import("./DfEggqIp.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/capnproto.js.js":()=>m(()=>import("./BHyIW7mM.js"),__vite__mapDeps([58,59]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/ceylon.js":()=>m(()=>import("./4Ux7Zsf_.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/ceylon.js.js":()=>m(()=>import("./D1V0MPAB.js"),__vite__mapDeps([60,61]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/clean.js":()=>m(()=>import("./bp7LOAXw.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/clean.js.js":()=>m(()=>import("./E6iptbBk.js"),__vite__mapDeps([62,63]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/clojure-repl.js":()=>m(()=>import("./urHl5b3U.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/clojure-repl.js.js":()=>m(()=>import("./KU2GcRGR.js"),__vite__mapDeps([64,65]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/clojure.js":()=>m(()=>import("./AHSh5YjK.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/clojure.js.js":()=>m(()=>import("./_7BUmMaz.js"),__vite__mapDeps([66,67]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/cmake.js":()=>m(()=>import("./CZM6E03B.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/cmake.js.js":()=>m(()=>import("./BxwFa1T_.js"),__vite__mapDeps([68,69]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/coffeescript.js":()=>m(()=>import("./CmH3qNTd.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/coffeescript.js.js":()=>m(()=>import("./CHMSUyLJ.js"),__vite__mapDeps([70,71]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/coq.js":()=>m(()=>import("./CKyaS9Ed.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/coq.js.js":()=>m(()=>import("./BSS_HsAf.js"),__vite__mapDeps([72,73]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/cos.js":()=>m(()=>import("./LyLEGTrs.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/cos.js.js":()=>m(()=>import("./BAcejCCi.js"),__vite__mapDeps([74,75]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/cpp.js":()=>m(()=>import("./CBaFEvH3.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/cpp.js.js":()=>m(()=>import("./DcPYm5Dg.js"),__vite__mapDeps([76,77]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/crmsh.js":()=>m(()=>import("./Di4S5DOg.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/crmsh.js.js":()=>m(()=>import("./55BRSkMQ.js"),__vite__mapDeps([78,79]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/crystal.js":()=>m(()=>import("./BhpJIvvw.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/crystal.js.js":()=>m(()=>import("./Cs9o9ESP.js"),__vite__mapDeps([80,81]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/csharp.js":()=>m(()=>import("./CLfUFbxr.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/csharp.js.js":()=>m(()=>import("./hrYf2Rk5.js"),__vite__mapDeps([82,83]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/csp.js":()=>m(()=>import("./PRNaSbKx.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/csp.js.js":()=>m(()=>import("./eSz_-OcX.js"),__vite__mapDeps([84,85]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/css.js":()=>m(()=>import("./CNcoTEx5.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/css.js.js":()=>m(()=>import("./CsI6C2wP.js"),__vite__mapDeps([86,87]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/d.js":()=>m(()=>import("./0qpC7d8J.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/d.js.js":()=>m(()=>import("./BlloJCIM.js"),__vite__mapDeps([88,89]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/dart.js":()=>m(()=>import("./CZJo0vSi.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/dart.js.js":()=>m(()=>import("./Be96_g6E.js"),__vite__mapDeps([90,91]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/delphi.js":()=>m(()=>import("./D_dWILRY.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/delphi.js.js":()=>m(()=>import("./DNI3Hsbm.js"),__vite__mapDeps([92,93]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/diff.js":()=>m(()=>import("./DiTmLxSS.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/diff.js.js":()=>m(()=>import("./DuEmHK4M.js"),__vite__mapDeps([94,95]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/django.js":()=>m(()=>import("./BJKGRTHq.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/django.js.js":()=>m(()=>import("./CQZWKAb4.js"),__vite__mapDeps([96,97]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/dns.js":()=>m(()=>import("./CmxgsE9I.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/dns.js.js":()=>m(()=>import("./Cwbt3har.js"),__vite__mapDeps([98,99]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/dockerfile.js":()=>m(()=>import("./Co-AyC30.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/dockerfile.js.js":()=>m(()=>import("./CcCwHUc2.js"),__vite__mapDeps([100,101]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/dos.js":()=>m(()=>import("./DNFHdh4-.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/dos.js.js":()=>m(()=>import("./BmXe8uOm.js"),__vite__mapDeps([102,103]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/dsconfig.js":()=>m(()=>import("./C6Ut8YfI.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/dsconfig.js.js":()=>m(()=>import("./D1eCj3Ns.js"),__vite__mapDeps([104,105]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/dts.js":()=>m(()=>import("./B9oE02Jg.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/dts.js.js":()=>m(()=>import("./Bes2XG0J.js"),__vite__mapDeps([106,107]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/dust.js":()=>m(()=>import("./BO6a2n7Q.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/dust.js.js":()=>m(()=>import("./vlqBxsc8.js"),__vite__mapDeps([108,109]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/ebnf.js":()=>m(()=>import("./BDd6TLce.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/ebnf.js.js":()=>m(()=>import("./CFu-DpUf.js"),__vite__mapDeps([110,111]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/elixir.js":()=>m(()=>import("./DLGFH_Et.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/elixir.js.js":()=>m(()=>import("./XuNKOpmR.js"),__vite__mapDeps([112,113]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/elm.js":()=>m(()=>import("./3GArE9D5.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/elm.js.js":()=>m(()=>import("./ZKqJFzIR.js"),__vite__mapDeps([114,115]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/erb.js":()=>m(()=>import("./DgkrZfmL.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/erb.js.js":()=>m(()=>import("./p26zUPpQ.js"),__vite__mapDeps([116,117]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/erlang-repl.js":()=>m(()=>import("./CZarM2xV.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/erlang-repl.js.js":()=>m(()=>import("./DTM70KEY.js"),__vite__mapDeps([118,119]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/erlang.js":()=>m(()=>import("./CPs7Ap9z.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/erlang.js.js":()=>m(()=>import("./D_szdFTr.js"),__vite__mapDeps([120,121]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/excel.js":()=>m(()=>import("./D6eCV2__.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/excel.js.js":()=>m(()=>import("./DFmVPsEM.js"),__vite__mapDeps([122,123]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/fix.js":()=>m(()=>import("./D05WyPuQ.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/fix.js.js":()=>m(()=>import("./Dj_XMCeR.js"),__vite__mapDeps([124,125]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/flix.js":()=>m(()=>import("./DM_og3v4.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/flix.js.js":()=>m(()=>import("./ClawiVzN.js"),__vite__mapDeps([126,127]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/fortran.js":()=>m(()=>import("./Cx0HPwMS.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/fortran.js.js":()=>m(()=>import("./F2cLyAUB.js"),__vite__mapDeps([128,129]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/fsharp.js":()=>m(()=>import("./5RlFyxH8.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/fsharp.js.js":()=>m(()=>import("./CWDYvhNn.js"),__vite__mapDeps([130,131]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/gams.js":()=>m(()=>import("./D9n-Vrpx.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/gams.js.js":()=>m(()=>import("./C81e4_en.js"),__vite__mapDeps([132,133]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/gauss.js":()=>m(()=>import("./CVKtbz--.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/gauss.js.js":()=>m(()=>import("./C65rLZ-T.js"),__vite__mapDeps([134,135]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/gcode.js":()=>m(()=>import("./aFFPrTQR.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/gcode.js.js":()=>m(()=>import("./B_DmNinz.js"),__vite__mapDeps([136,137]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/gherkin.js":()=>m(()=>import("./B7znD_bI.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/gherkin.js.js":()=>m(()=>import("./Bs63xNba.js"),__vite__mapDeps([138,139]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/glsl.js":()=>m(()=>import("./Df328vV4.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/glsl.js.js":()=>m(()=>import("./Bcd0JfR1.js"),__vite__mapDeps([140,141]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/gml.js":()=>m(()=>import("./D7jw2IbN.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/gml.js.js":()=>m(()=>import("./B7EV854e.js"),__vite__mapDeps([142,143]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/go.js":()=>m(()=>import("./BPx_y7j8.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/go.js.js":()=>m(()=>import("./C5o5dEVi.js"),__vite__mapDeps([144,145]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/golo.js":()=>m(()=>import("./CnqvexOJ.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/golo.js.js":()=>m(()=>import("./-e4PUdg1.js"),__vite__mapDeps([146,147]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/gradle.js":()=>m(()=>import("./CtZu4a3z.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/gradle.js.js":()=>m(()=>import("./eEvgCQRo.js"),__vite__mapDeps([148,149]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/graphql.js":()=>m(()=>import("./DPQANhhf.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/graphql.js.js":()=>m(()=>import("./CqCV3b9a.js"),__vite__mapDeps([150,151]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/groovy.js":()=>m(()=>import("./DVpOnIQ7.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/groovy.js.js":()=>m(()=>import("./DrIFS6K-.js"),__vite__mapDeps([152,153]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/haml.js":()=>m(()=>import("./Th0HjqH7.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/haml.js.js":()=>m(()=>import("./apRUv7jm.js"),__vite__mapDeps([154,155]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/handlebars.js":()=>m(()=>import("./BzBMumBU.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/handlebars.js.js":()=>m(()=>import("./BJvwEw5v.js"),__vite__mapDeps([156,157]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/haskell.js":()=>m(()=>import("./DGfXQlJ3.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/haskell.js.js":()=>m(()=>import("./Cl9Qp7Ad.js"),__vite__mapDeps([158,159]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/haxe.js":()=>m(()=>import("./BXKc7xR_.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/haxe.js.js":()=>m(()=>import("./vhVHt3-2.js"),__vite__mapDeps([160,161]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/hsp.js":()=>m(()=>import("./CN8Hrpxq.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/hsp.js.js":()=>m(()=>import("./CJfzOPK4.js"),__vite__mapDeps([162,163]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/http.js":()=>m(()=>import("./B1m0cdo-.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/http.js.js":()=>m(()=>import("./5QVx-SYC.js"),__vite__mapDeps([164,165]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/hy.js":()=>m(()=>import("./CZVjXekG.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/hy.js.js":()=>m(()=>import("./Dfvu38yT.js"),__vite__mapDeps([166,167]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/inform7.js":()=>m(()=>import("./gEAVUauH.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/inform7.js.js":()=>m(()=>import("./DwglIrW-.js"),__vite__mapDeps([168,169]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/ini.js":()=>m(()=>import("./B3BVgEsG.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/ini.js.js":()=>m(()=>import("./C44dlMtn.js"),__vite__mapDeps([170,171]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/irpf90.js":()=>m(()=>import("./C-H3XeIY.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/irpf90.js.js":()=>m(()=>import("./DysDRLbu.js"),__vite__mapDeps([172,173]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/isbl.js":()=>m(()=>import("./cM2r36SR.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/isbl.js.js":()=>m(()=>import("./8jJ8FLEb.js"),__vite__mapDeps([174,175]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/java.js":()=>m(()=>import("./SN7C1QxY.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/java.js.js":()=>m(()=>import("./DXiMImP8.js"),__vite__mapDeps([176,177]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/javascript.js":()=>m(()=>import("./Cmaf_p_H.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/javascript.js.js":()=>m(()=>import("./BVvZDNgu.js"),__vite__mapDeps([178,179]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/jboss-cli.js":()=>m(()=>import("./CvZOtPS0.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/jboss-cli.js.js":()=>m(()=>import("./BYJTe-B6.js"),__vite__mapDeps([180,181]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/json.js":()=>m(()=>import("./DIYVocXf.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/json.js.js":()=>m(()=>import("./B0vqsjWO.js"),__vite__mapDeps([182,183]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/julia-repl.js":()=>m(()=>import("./BIWdxRW3.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/julia-repl.js.js":()=>m(()=>import("./rEaAwfqx.js"),__vite__mapDeps([184,185]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/julia.js":()=>m(()=>import("./BCFmLHRf.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/julia.js.js":()=>m(()=>import("./DpQ5qxKJ.js"),__vite__mapDeps([186,187]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/kotlin.js":()=>m(()=>import("./Cw-eF_bm.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/kotlin.js.js":()=>m(()=>import("./Cbptp1Bv.js"),__vite__mapDeps([188,189]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/lasso.js":()=>m(()=>import("./DxA_h8RG.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/lasso.js.js":()=>m(()=>import("./DWXft66g.js"),__vite__mapDeps([190,191]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/latex.js":()=>m(()=>import("./lHs7bxnR.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/latex.js.js":()=>m(()=>import("./BUAIdBNF.js"),__vite__mapDeps([192,193]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/ldif.js":()=>m(()=>import("./8JypSBRn.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/ldif.js.js":()=>m(()=>import("./BVsBEjzZ.js"),__vite__mapDeps([194,195]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/leaf.js":()=>m(()=>import("./CaRdZePf.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/leaf.js.js":()=>m(()=>import("./BR7-mOxG.js"),__vite__mapDeps([196,197]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/less.js":()=>m(()=>import("./C89BS9ZO.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/less.js.js":()=>m(()=>import("./BYMS51ZD.js"),__vite__mapDeps([198,199]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/lisp.js":()=>m(()=>import("./BiL0olPs.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/lisp.js.js":()=>m(()=>import("./dfIWITyu.js"),__vite__mapDeps([200,201]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/livecodeserver.js":()=>m(()=>import("./Cs32ELhi.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/livecodeserver.js.js":()=>m(()=>import("./Bl9gXpxz.js"),__vite__mapDeps([202,203]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/livescript.js":()=>m(()=>import("./C_Mv1LMn.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/livescript.js.js":()=>m(()=>import("./DinJAV-V.js"),__vite__mapDeps([204,205]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/llvm.js":()=>m(()=>import("./CzzpxbQG.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/llvm.js.js":()=>m(()=>import("./CO_pUp74.js"),__vite__mapDeps([206,207]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/lsl.js":()=>m(()=>import("./8x1fjvuK.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/lsl.js.js":()=>m(()=>import("./CXgmx_x7.js"),__vite__mapDeps([208,209]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/lua.js":()=>m(()=>import("./kICRHiK3.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/lua.js.js":()=>m(()=>import("./CxIinq_y.js"),__vite__mapDeps([210,211]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/makefile.js":()=>m(()=>import("./BN8hHKjp.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/makefile.js.js":()=>m(()=>import("./BLqx3yos.js"),__vite__mapDeps([212,213]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/markdown.js":()=>m(()=>import("./BrP960CR.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/markdown.js.js":()=>m(()=>import("./Duf0b2P0.js"),__vite__mapDeps([214,215]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/mathematica.js":()=>m(()=>import("./uHYlFNe5.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/mathematica.js.js":()=>m(()=>import("./CVFzLnkv.js"),__vite__mapDeps([216,217]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/matlab.js":()=>m(()=>import("./D4e1gXu7.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/matlab.js.js":()=>m(()=>import("./BxyHMfE6.js"),__vite__mapDeps([218,219]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/maxima.js":()=>m(()=>import("./DRU3P1C3.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/maxima.js.js":()=>m(()=>import("./ge2dNfCz.js"),__vite__mapDeps([220,221]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/mel.js":()=>m(()=>import("./BnhBFzFh.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/mel.js.js":()=>m(()=>import("./BcOQ18Du.js"),__vite__mapDeps([222,223]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/mercury.js":()=>m(()=>import("./BFgZyA1Y.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/mercury.js.js":()=>m(()=>import("./DRGeAcuP.js"),__vite__mapDeps([224,225]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/mipsasm.js":()=>m(()=>import("./BdcX4Kzi.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/mipsasm.js.js":()=>m(()=>import("./fzCDWj70.js"),__vite__mapDeps([226,227]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/mizar.js":()=>m(()=>import("./BdYrIkPP.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/mizar.js.js":()=>m(()=>import("./HYusGmGI.js"),__vite__mapDeps([228,229]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/mojolicious.js":()=>m(()=>import("./Dk5OekI8.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/mojolicious.js.js":()=>m(()=>import("./BFwHiOs8.js"),__vite__mapDeps([230,231]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/monkey.js":()=>m(()=>import("./DNTM-Edc.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/monkey.js.js":()=>m(()=>import("./BUj85T5O.js"),__vite__mapDeps([232,233]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/moonscript.js":()=>m(()=>import("./SSlQnVOM.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/moonscript.js.js":()=>m(()=>import("./BGLiND7R.js"),__vite__mapDeps([234,235]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/n1ql.js":()=>m(()=>import("./DceYKEd5.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/n1ql.js.js":()=>m(()=>import("./xqW1pOJt.js"),__vite__mapDeps([236,237]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/nestedtext.js":()=>m(()=>import("./CBDMqks5.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/nestedtext.js.js":()=>m(()=>import("./DgMKJay6.js"),__vite__mapDeps([238,239]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/nginx.js":()=>m(()=>import("./CwEijJ2O.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/nginx.js.js":()=>m(()=>import("./DxwZhbp0.js"),__vite__mapDeps([240,241]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/nim.js":()=>m(()=>import("./PSCCBrkG.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/nim.js.js":()=>m(()=>import("./Dmv2AFTt.js"),__vite__mapDeps([242,243]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/nix.js":()=>m(()=>import("./BPU_w6x4.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/nix.js.js":()=>m(()=>import("./CRia5Uc0.js"),__vite__mapDeps([244,245]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/node-repl.js":()=>m(()=>import("./S647ZvLU.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/node-repl.js.js":()=>m(()=>import("./Dgag79HQ.js"),__vite__mapDeps([246,247]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/nsis.js":()=>m(()=>import("./OgC8GHd4.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/nsis.js.js":()=>m(()=>import("./DTEJgRr9.js"),__vite__mapDeps([248,249]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/objectivec.js":()=>m(()=>import("./BI0B0W2W.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/objectivec.js.js":()=>m(()=>import("./CtF0R70F.js"),__vite__mapDeps([250,251]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/ocaml.js":()=>m(()=>import("./D3nKyFNx.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/ocaml.js.js":()=>m(()=>import("./DyIjGHG3.js"),__vite__mapDeps([252,253]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/openscad.js":()=>m(()=>import("./COetekFt.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/openscad.js.js":()=>m(()=>import("./C0c5cERX.js"),__vite__mapDeps([254,255]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/oxygene.js":()=>m(()=>import("./Dn0ParC3.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/oxygene.js.js":()=>m(()=>import("./EPxOrg_7.js"),__vite__mapDeps([256,257]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/parser3.js":()=>m(()=>import("./Hk_kG51l.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/parser3.js.js":()=>m(()=>import("./DU8-6XDd.js"),__vite__mapDeps([258,259]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/perl.js":()=>m(()=>import("./BWtAWCfC.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/perl.js.js":()=>m(()=>import("./FTLt5W8X.js"),__vite__mapDeps([260,261]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/pf.js":()=>m(()=>import("./D1SDRx1P.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/pf.js.js":()=>m(()=>import("./Cc1wIyfO.js"),__vite__mapDeps([262,263]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/pgsql.js":()=>m(()=>import("./D0fsCUJu.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/pgsql.js.js":()=>m(()=>import("./DF5jNU2j.js"),__vite__mapDeps([264,265]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/php-template.js":()=>m(()=>import("./C2Kz6oUw.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/php-template.js.js":()=>m(()=>import("./BNv3GU7b.js"),__vite__mapDeps([266,267]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/php.js":()=>m(()=>import("./RzUjv5fn.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/php.js.js":()=>m(()=>import("./9TaPyhl6.js"),__vite__mapDeps([268,269]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/plaintext.js":()=>m(()=>import("./CPM70vnn.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/plaintext.js.js":()=>m(()=>import("./BFIlRFe8.js"),__vite__mapDeps([270,271]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/pony.js":()=>m(()=>import("./CxBQ9L9I.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/pony.js.js":()=>m(()=>import("./CtsxUR61.js"),__vite__mapDeps([272,273]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/powershell.js":()=>m(()=>import("./BTRu8Ib4.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/powershell.js.js":()=>m(()=>import("./BUunpd9M.js"),__vite__mapDeps([274,275]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/processing.js":()=>m(()=>import("./DAUMw13y.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/processing.js.js":()=>m(()=>import("./D0gaEx3Y.js"),__vite__mapDeps([276,277]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/profile.js":()=>m(()=>import("./BuitP8eU.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/profile.js.js":()=>m(()=>import("./DqzqNlOy.js"),__vite__mapDeps([278,279]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/prolog.js":()=>m(()=>import("./BuZcL2r6.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/prolog.js.js":()=>m(()=>import("./Cm2N7D1j.js"),__vite__mapDeps([280,281]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/properties.js":()=>m(()=>import("./CZgCE6EI.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/properties.js.js":()=>m(()=>import("./Z9XDCYBj.js"),__vite__mapDeps([282,283]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/protobuf.js":()=>m(()=>import("./C6VLidOE.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/protobuf.js.js":()=>m(()=>import("./oj6IpAiE.js"),__vite__mapDeps([284,285]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/puppet.js":()=>m(()=>import("./CJHFDVnx.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/puppet.js.js":()=>m(()=>import("./DXiR8UJX.js"),__vite__mapDeps([286,287]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/purebasic.js":()=>m(()=>import("./c1UTHEVL.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/purebasic.js.js":()=>m(()=>import("./B7uc1q_a.js"),__vite__mapDeps([288,289]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/python-repl.js":()=>m(()=>import("./BkThuqGa.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/python-repl.js.js":()=>m(()=>import("./DDMUG3jh.js"),__vite__mapDeps([290,291]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/python.js":()=>m(()=>import("./kSlZHhJb.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/python.js.js":()=>m(()=>import("./ClsJpkHH.js"),__vite__mapDeps([292,293]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/q.js":()=>m(()=>import("./DJbR5VpX.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/q.js.js":()=>m(()=>import("./CZqJJrAo.js"),__vite__mapDeps([294,295]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/qml.js":()=>m(()=>import("./DDXdSnWH.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/qml.js.js":()=>m(()=>import("./D7StBbBj.js"),__vite__mapDeps([296,297]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/r.js":()=>m(()=>import("./DWz4c2Y4.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/r.js.js":()=>m(()=>import("./OMw8O2By.js"),__vite__mapDeps([298,299]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/reasonml.js":()=>m(()=>import("./CvdgUMek.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/reasonml.js.js":()=>m(()=>import("./CO2bKUrV.js"),__vite__mapDeps([300,301]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/rib.js":()=>m(()=>import("./BP2ur4qb.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/rib.js.js":()=>m(()=>import("./M6fUj73l.js"),__vite__mapDeps([302,303]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/roboconf.js":()=>m(()=>import("./2Tx8FFq5.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/roboconf.js.js":()=>m(()=>import("./Cgsjchii.js"),__vite__mapDeps([304,305]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/routeros.js":()=>m(()=>import("./BoRh9nSr.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/routeros.js.js":()=>m(()=>import("./DR5Ir4nn.js"),__vite__mapDeps([306,307]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/rsl.js":()=>m(()=>import("./TT4xEWeJ.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/rsl.js.js":()=>m(()=>import("./DVL2jBvT.js"),__vite__mapDeps([308,309]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/ruby.js":()=>m(()=>import("./wplcGSzq.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/ruby.js.js":()=>m(()=>import("./m6S5ACfo.js"),__vite__mapDeps([310,311]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/ruleslanguage.js":()=>m(()=>import("./DqpkaCmA.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/ruleslanguage.js.js":()=>m(()=>import("./DTgzko2q.js"),__vite__mapDeps([312,313]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/rust.js":()=>m(()=>import("./-wLIKMc1.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/rust.js.js":()=>m(()=>import("./BMlDPEdC.js"),__vite__mapDeps([314,315]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/sas.js":()=>m(()=>import("./ppA27pAY.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/sas.js.js":()=>m(()=>import("./BUfKhIdH.js"),__vite__mapDeps([316,317]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/scala.js":()=>m(()=>import("./CTk4KSn7.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/scala.js.js":()=>m(()=>import("./D8t1tobG.js"),__vite__mapDeps([318,319]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/scheme.js":()=>m(()=>import("./Dlczz2HB.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/scheme.js.js":()=>m(()=>import("./vfYUXP8U.js"),__vite__mapDeps([320,321]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/scilab.js":()=>m(()=>import("./CnsWMHJW.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/scilab.js.js":()=>m(()=>import("./Buy1xbTy.js"),__vite__mapDeps([322,323]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/scss.js":()=>m(()=>import("./BxzW-F5E.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/scss.js.js":()=>m(()=>import("./BL6I34r4.js"),__vite__mapDeps([324,325]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/shell.js":()=>m(()=>import("./k1ee8ZNu.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/shell.js.js":()=>m(()=>import("./DceD4kcs.js"),__vite__mapDeps([326,327]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/smali.js":()=>m(()=>import("./CHxz8c5N.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/smali.js.js":()=>m(()=>import("./Dugzluiy.js"),__vite__mapDeps([328,329]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/smalltalk.js":()=>m(()=>import("./Cdx5PrwE.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/smalltalk.js.js":()=>m(()=>import("./6TVzIg93.js"),__vite__mapDeps([330,331]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/sml.js":()=>m(()=>import("./BKgbqFhe.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/sml.js.js":()=>m(()=>import("./BTfVko3H.js"),__vite__mapDeps([332,333]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/sqf.js":()=>m(()=>import("./DtYQJOLc.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/sqf.js.js":()=>m(()=>import("./BtHQPR_R.js"),__vite__mapDeps([334,335]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/sql.js":()=>m(()=>import("./BiIoudD1.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/sql.js.js":()=>m(()=>import("./BcHfjyQo.js"),__vite__mapDeps([336,337]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/stan.js":()=>m(()=>import("./BlcfLgqy.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/stan.js.js":()=>m(()=>import("./PLHwo0Lu.js"),__vite__mapDeps([338,339]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/stata.js":()=>m(()=>import("./DioKLDM4.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/stata.js.js":()=>m(()=>import("./CjMO7Y2W.js"),__vite__mapDeps([340,341]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/step21.js":()=>m(()=>import("./Qjmn_h1N.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/step21.js.js":()=>m(()=>import("./zYWBLjpe.js"),__vite__mapDeps([342,343]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/stylus.js":()=>m(()=>import("./X6x8gpyJ.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/stylus.js.js":()=>m(()=>import("./CEdtpkhK.js"),__vite__mapDeps([344,345]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/subunit.js":()=>m(()=>import("./ffEEV5Cw.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/subunit.js.js":()=>m(()=>import("./DqramSLm.js"),__vite__mapDeps([346,347]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/swift.js":()=>m(()=>import("./C4DmZ2ME.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/swift.js.js":()=>m(()=>import("./6aWWV9xZ.js"),__vite__mapDeps([348,349]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/taggerscript.js":()=>m(()=>import("./BRtzqzUM.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/taggerscript.js.js":()=>m(()=>import("./B5RA10VZ.js"),__vite__mapDeps([350,351]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/tap.js":()=>m(()=>import("./Dw0nFAIu.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/tap.js.js":()=>m(()=>import("./DXQNEBQP.js"),__vite__mapDeps([352,353]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/tcl.js":()=>m(()=>import("./BdSax8nO.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/tcl.js.js":()=>m(()=>import("./CFLjeRcb.js"),__vite__mapDeps([354,355]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/thrift.js":()=>m(()=>import("./BEKdav-Z.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/thrift.js.js":()=>m(()=>import("./BwCFHhd3.js"),__vite__mapDeps([356,357]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/tp.js":()=>m(()=>import("./D2SYd55b.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/tp.js.js":()=>m(()=>import("./Dj-ffFGx.js"),__vite__mapDeps([358,359]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/twig.js":()=>m(()=>import("./CO1mxmAv.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/twig.js.js":()=>m(()=>import("./C9VIUf0i.js"),__vite__mapDeps([360,361]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/typescript.js":()=>m(()=>import("./BVybyj25.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/typescript.js.js":()=>m(()=>import("./C9mHRT-y.js"),__vite__mapDeps([362,363]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/vala.js":()=>m(()=>import("./BPN8917S.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/vala.js.js":()=>m(()=>import("./CEumB2Y2.js"),__vite__mapDeps([364,365]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/vbnet.js":()=>m(()=>import("./BqSgWHyS.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/vbnet.js.js":()=>m(()=>import("./tzCnaA6D.js"),__vite__mapDeps([366,367]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/vbscript-html.js":()=>m(()=>import("./Br-hJVOx.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/vbscript-html.js.js":()=>m(()=>import("./C_VoTOsz.js"),__vite__mapDeps([368,369]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/vbscript.js":()=>m(()=>import("./CenSoNQX.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/vbscript.js.js":()=>m(()=>import("./Duz12aYq.js"),__vite__mapDeps([370,371]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/verilog.js":()=>m(()=>import("./B1GjPiYW.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/verilog.js.js":()=>m(()=>import("./Dj30kkhN.js"),__vite__mapDeps([372,373]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/vhdl.js":()=>m(()=>import("./ClpfIGzb.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/vhdl.js.js":()=>m(()=>import("./YyOy7RDP.js"),__vite__mapDeps([374,375]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/vim.js":()=>m(()=>import("./5bjx9WS2.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/vim.js.js":()=>m(()=>import("./LSpZmJps.js"),__vite__mapDeps([376,377]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/wasm.js":()=>m(()=>import("./FmSvnV9S.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/wasm.js.js":()=>m(()=>import("./C1QJ3sPW.js"),__vite__mapDeps([378,379]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/wren.js":()=>m(()=>import("./CjZP3ZRM.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/wren.js.js":()=>m(()=>import("./9mDNVNY2.js"),__vite__mapDeps([380,381]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/x86asm.js":()=>m(()=>import("./pijs5jNr.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/x86asm.js.js":()=>m(()=>import("./BexNtnJA.js"),__vite__mapDeps([382,383]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/xl.js":()=>m(()=>import("./Cg7CP1Al.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/xl.js.js":()=>m(()=>import("./OVhb5BEv.js"),__vite__mapDeps([384,385]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/xml.js":()=>m(()=>import("./BXBhIUeX.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/xml.js.js":()=>m(()=>import("./CS1Xbxvs.js"),__vite__mapDeps([386,387]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/xquery.js":()=>m(()=>import("./zIZj301A.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/xquery.js.js":()=>m(()=>import("./BMJLAPjC.js"),__vite__mapDeps([388,389]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/yaml.js":()=>m(()=>import("./C0KBHMtm.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/yaml.js.js":()=>m(()=>import("./DV6mZbAW.js"),__vite__mapDeps([390,391]),import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/zephir.js":()=>m(()=>import("./Uro1zfwH.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/es/languages/zephir.js.js":()=>m(()=>import("./CdanMj_K.js"),__vite__mapDeps([392,393]),import.meta.url).then(e=>e.default)});function Jj(e){console.log(e)}function Xj({lowlightInstance:e,editor:t,onError:n=Jj,debug:r=!1}){const o=Q(Gj);r&&console.log({langModulesDirectory:vg,langModules:Eg,allLangs:o}),tt(Kv,o);async function s(a){if(e.registered(a)){r&&console.log(`Already registered: ${a}`);const d=new Error(`Already registered: ${a}`);return d.code="ALREADY_REGISTERED",d}if(o.value.aliases[a]===void 0)return r&&console.error(`Unknown language or alias: ${a}`),new Error(`Unknown language or alias: ${a}`);const c=o.value.aliases[a],u=await Eg[`${vg}/${c}.js`]();return e.register(a,u),a}function i(a){const c=[],u=a.state.doc;return a.state.doc.nodesBetween(0,u.nodeSize-2,(d,f)=>{var h,p;if(((h=d.type)==null?void 0:h.name)==="codeBlock"){const g=(p=d.attrs)==null?void 0:p.language,y=d.attrs.loading;return r&&console.log(`Looked at node at pos ${f} (lang: ${g}, loading: ${y}).`),g&&y&&(r&&console.log(`Found node at pos ${f}.`),pa(c,[g])),!1}return!0}),c}async function l({editor:a,transaction:c}){if(r&&console.log(`lazyLoadCodeBlocks called, docChanged: ${c==null?void 0:c.docChanged}.`),!(c!=null&&c.docChanged))return;const u=a.state.tr,d=i(a),f=(await Promise.allSettled(d.map(s))).filter(h=>(h.status==="rejected"&&n(h.reason),h.status==="fulfilled"&&!(h.value instanceof Error))).map(h=>h.value);r&&console.log(`Found ${f.length} loadable languages. 
	${f.join(`
	`)}`),a.state.doc.nodesBetween(0,a.state.doc.resolve(0).end(),(h,p)=>{var g,y;if(((g=h.type)==null?void 0:g.name)==="codeBlock"){const _=(y=h.attrs)==null?void 0:y.language,w=h.attrs.loading;return _&&w&&f.includes(_)&&(r&&console.log(`Set node at pos ${p} as loaded.`),u.setNodeMarkup(p,void 0,{...h.attrs,language:_,loading:!1})),!1}return!0}),r&&console.log(`tr.docChanged: ${u.docChanged}.`),u.docChanged&&a.view.dispatch(u)}return St(()=>{t.value.on("transaction",l)}),kn(()=>{t.value.off("transaction",l)}),{loadLang:s,lazyLoadCodeBlockLangs:l,getLangListFromEditor:i,langsInfo:o}}function ja(e,t){for(const n of sn(e.meta))t.setMeta(n,e.getMeta(n))}function Yj(e,t){const n=t.tr;ja(e,n);const r=JSON.parse(JSON.stringify(e.steps)).map(o=>ht.fromJSON(t.schema,o));for(const o of r)n.step(o);return n}function Qj(e,t,n,r){const o=Symbol(`self${Math.random()}`);function s({transaction:u}){!r||!n.value||!u.docChanged||u.getMeta("ignore")||(u.setMeta("no-step-convert",!0),r.updateDocument({docId:n.value},u,o))}const i=(u,d,f,h,p)=>{var y;if(p===o||d.getMeta("ignore")||!d.docChanged||u.docId!==n.value)return;d.setMeta("ignore",!0);const g=Yj(d,e.value.state);(y=e.value)==null||y.view.dispatch(g)};let l=!1;async function a(u){var d;if(t.value)(d=e.value)==null||d.commands.setContent(t.value);else if(r&&u&&n.value){await r.load({docId:n.value});const f=r.getFullState({docId:n.value});e.value.commands.setContent(f.doc.toJSON(),!1),await Gt(async()=>{var h;r.addEventListener("update",i),(h=e.value)==null||h.on("transaction",s),l=!0})}}function c(u){var d;u!==void 0&&r&&(r.unload({docId:u}),l&&(r.removeEventListener("update",i),(d=e.value)==null||d.off("transaction",s),l=!1))}ze([t,n,e],async([u,d],[f,h])=>{if(e.value){if(!t.value&&(!n.value||!r))throw new Error("No content or id and document api provided.");if(n.value&&!r)throw new Error("Id provided but no document api provided.");h!==void 0&&d!==h&&r&&c(h),await a(d!==h)}},{deep:!1}),St(async()=>{await a(!0)}),kn(()=>{n.value&&c(n.value)})}const Pa=Symbol("documentApiInjectionKey"),qd=Symbol("isEmbeddedInjectionKey"),Uv=Symbol("isEmbeddedInjectionKey"),qv=Symbol("isEmbeddedBlockInjectionKey"),Gv=Symbol("embeddedEditorComponentInjectionKey"),Jv=Symbol("parentEditorIdInjectionKey"),Xv=Symbol("embededEditorOptionsInjectionKey");function Un(e,t,n,{start:r=-1,step:o=1,stop:s}={}){const i=e.resolve(t);let l=0;for(let a=r;a<i.depth;a+=o){const c=i.depth-a,u=i.before(c),d=e.resolve(u);if(!n&&s===l||n(d,u,l))return{$pos:d,pos:u};l++}return{$pos:void 0,pos:void 0}}const tn=new Re("menus"),Yv=Symbol("menusInjectionKey"),Zj=Se({__name:"MarkMenuManager",props:{editor:{}},setup(e){const t=e,n=Ne(Yv,Q({})),r=Q(),o=Ee(()=>{var w;return r.value?(w=n==null?void 0:n.value)==null?void 0:w[r.value]:void 0}),s=Q(null),i=Q(null),l=Q(null),a=Q(null);function c(){var H,W;const _=(H=o.value)==null?void 0:H.popupOptions,w=t.editor.state.selection,b=t.editor.state.doc,E=(W=Un(b,w.from,P=>P.node().type.name==="item"))==null?void 0:W.$pos,T=t.editor.view.coordsAtPos(w.to),x=t.editor.view.coordsAtPos(w.from),D=t.editor.view.coordsAtPos((E==null?void 0:E.pos)??w.from),N=typeof(_==null?void 0:_.pinToItemDistance)=="function"?_==null?void 0:_.pinToItemDistance(t.editor.state):(_==null?void 0:_.pinToItemDistance)??0,M=Math.abs(x.top-D.top)<N,O=Math.min(x.left,T.left),$=Math.max(x.right,T.right),v=Math.min(x.top,T.top,M?D.top:1/0),L=Math.max(x.bottom,T.bottom);return{x:O,y:v,top:v,bottom:L,left:O,right:$,width:$-O,height:L-v}}function u(){const _=t.editor.view.dom.getBoundingClientRect(),w=document.body.getBoundingClientRect();return{x:_.x,left:_.left,right:_.right,width:_.width,y:0,top:0,bottom:w.bottom,height:w.height}}const d=(_,w,b,E,T)=>{var N;const x=(N=t.editor.view.dom.closest(".editor-wrapper"))==null?void 0:N.getBoundingClientRect();if(!x)throw new Error("MarkMenuManager: The wrapping scrollable editor component must have the `editor-wrapper` class for mark menus to work as they need to know the position of the scrollable wrapper.");const D=Math.max(x.top-b.height,0);return _.y<D&&(_.y=D),w&&_.y+b.height>w.top&&(_.y=T.bottom>T.top?w.bottom:w.top-b.height),_};function f(_){_==null||_.preventDefault(),t.editor.commands.closeOtherMenus()}function h(_){document.removeEventListener("focus",h),p(_)}function p(_){var w;"relatedTarget"in _&&(_.relatedTarget===null?document.addEventListener("focus",h):(w=i.value)!=null&&w.contains(_.relatedTarget)||f(_))}Af(()=>{var _,w,b,E;r.value?(document.addEventListener("click",p),a.value={getBoundingClientRect:c},(_=s.value)==null||_.setReference(a.value),l.value={getBoundingClientRect:u},(w=s.value)==null||w.setBackground(l.value)):(document.removeEventListener("click",p),a.value=null,(b=s.value)==null||b.setReference(a.value),l.value=null,(E=s.value)==null||E.setBackground(l.value))});const g=()=>{Gt(()=>{var _;(_=s.value)==null||_.recompute()})};function y(){var w,b;const _=tn.getState(t.editor.state);((w=_==null?void 0:_.menu)==null?void 0:w.type)==="mark"&&_.canShow?(r.value=(b=_==null?void 0:_.menu)==null?void 0:b.name,g()):r.value=void 0}return t.editor.on("transaction",y),kn(()=>{t.editor.off("transaction",y)}),(_,w)=>(z(),ke(S(Kc),{"model-value":!!r.value,"preferred-horizontal":["center-most"],"preferred-vertical":["top-most"],"modify-position":d,"use-backdrop":!1,class:"[&>div]:transition-[left,top] duration-30",ref_key:"popupComponent",ref:s},{popup:me(({extractEl:b})=>{var E,T,x;return[le("div",{tabindex:"0",class:"p-2",ref:D=>{b(D),i.value=D},onKeydown:sa(f,["esc"])},[(E=o.value)!=null&&E.component?(z(),ke($o(o.value.component),Ve({key:0,editor:_.editor,ref:"component"},((x=(T=o.value)==null?void 0:T.props)==null?void 0:x.call(T,_.editor))??{editor:_.editor},{onClose:f,onCopy:S(Ei)}),null,16,["editor","onCopy"])):Pe("",!0)],544)]}),_:1},8,["model-value"]))}}),eP=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,tP=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,nP=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,rP=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,oP=Xt.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return["strong",$e(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Xr({find:eP,type:this.type}),Xr({find:nP,type:this.type})]},addPasteRules(){return[mr({find:tP,type:this.type}),mr({find:rP,type:this.type})]}}),sP=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))$/,iP=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))/g,lP=Xt.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",$e(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Xr({find:sP,type:this.type})]},addPasteRules(){return[mr({find:iP,type:this.type})]}});function aP(e={}){return new Oe({view(t){return new cP(t,e)}})}class cP{constructor(t,n){var r;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(o=>{let s=i=>{this[o](i)};return t.dom.addEventListener(o,s),{name:o,handler:s}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r;if(n){let l=t.nodeBefore,a=t.nodeAfter;if(l||a){let c=this.editorView.nodeDOM(this.cursorPos-(l?l.nodeSize:0));if(c){let u=c.getBoundingClientRect(),d=l?u.bottom:u.top;l&&a&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:u.left,right:u.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!r){let l=this.editorView.coordsAtPos(this.cursorPos);r={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}let o=this.editorView.dom.offsetParent;this.element||(this.element=o.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let s,i;if(!o||o==document.body&&getComputedStyle(o).position=="static")s=-pageXOffset,i=-pageYOffset;else{let l=o.getBoundingClientRect();s=l.left-o.scrollLeft,i=l.top-o.scrollTop}this.element.style.left=r.left-s+"px",this.element.style.top=r.top-i+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),o=r&&r.type.spec.disableDropCursor,s=typeof o=="function"?o(this.editorView,n,t):o;if(n&&!s){let i=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=ob(this.editorView.state.doc,i,this.editorView.dragging.slice);l!=null&&(i=l)}this.setCursor(i),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){(t.target==this.editorView.dom||!this.editorView.dom.contains(t.relatedTarget))&&this.setCursor(null)}}const uP=Tt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[aP(this.options)]}});class et extends ye{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return et.valid(r)?new et(r):ye.near(r)}content(){return oe.empty}eq(t){return t instanceof et&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new et(t.resolve(n.pos))}getBookmark(){return new vh(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!dP(t)||!fP(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let o=n.contentMatchAt(t.index()).defaultType;return o&&o.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&et.valid(t))return t;let o=t.pos,s=null;for(let i=t.depth;;i--){let l=t.node(i);if(n>0?t.indexAfter(i)<l.childCount:t.index(i)>0){s=l.child(n>0?t.indexAfter(i):t.index(i)-1);break}else if(i==0)return null;o+=n;let a=t.doc.resolve(o);if(et.valid(a))return a}for(;;){let i=n>0?s.firstChild:s.lastChild;if(!i){if(s.isAtom&&!s.isText&&!ge.isSelectable(s)){t=t.doc.resolve(o+s.nodeSize*n),r=!1;continue e}break}s=i,o+=n;let l=t.doc.resolve(o);if(et.valid(l))return l}return null}}}et.prototype.visible=!1;et.findFrom=et.findGapCursorFrom;ye.jsonID("gapcursor",et);class vh{constructor(t){this.pos=t}map(t){return new vh(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return et.valid(n)?new et(n):ye.near(n)}}function dP(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(n-1);;o=o.lastChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function fP(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(n);;o=o.firstChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function hP(){return new Oe({props:{decorations:_P,createSelectionBetween(e,t,n){return t.pos==n.pos&&et.valid(n)?new et(n):null},handleClick:mP,handleKeyDown:pP,handleDOMEvents:{beforeinput:gP}}})}const pP=Zf({ArrowLeft:gl("horiz",-1),ArrowRight:gl("horiz",1),ArrowUp:gl("vert",-1),ArrowDown:gl("vert",1)});function gl(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,o,s){let i=r.selection,l=t>0?i.$to:i.$from,a=i.empty;if(i instanceof ce){if(!s.endOfTextblock(n)||l.depth==0)return!1;a=!1,l=r.doc.resolve(t>0?l.after():l.before())}let c=et.findGapCursorFrom(l,t,a);return c?(o&&o(r.tr.setSelection(new et(c))),!0):!1}}function mP(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!et.valid(r))return!1;let o=e.posAtCoords({left:n.clientX,top:n.clientY});return o&&o.inside>-1&&ge.isSelectable(e.state.doc.nodeAt(o.inside))?!1:(e.dispatch(e.state.tr.setSelection(new et(r))),!0)}function gP(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof et))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let o=G.empty;for(let i=r.length-1;i>=0;i--)o=G.from(r[i].createAndFill(null,o));let s=e.state.tr.replace(n.pos,n.pos,new oe(o,0,0));return s.setSelection(ce.near(s.doc.resolve(n.pos+1))),e.dispatch(s),!1}function _P(e){if(!(e.selection instanceof et))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",He.create(e.doc,[ft.widget(e.selection.head,t,{key:"gapcursor"})])}const yP=Tt.create({name:"gapCursor",addProseMirrorPlugins(){return[hP()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=xe(de(e,"allowGapCursor",n)))!==null&&t!==void 0?t:null}}}),bP=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,vP=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,EP=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,kP=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,wP=Xt.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",$e(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Xr({find:bP,type:this.type}),Xr({find:EP,type:this.type})]},addPasteRules(){return[mr({find:vP,type:this.type}),mr({find:kP,type:this.type})]}}),xP=bt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",$e(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),CP=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,TP=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,SP=Xt.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",$e(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Xr({find:CP,type:this.type})]},addPasteRules(){return[mr({find:TP,type:this.type})]}}),MP=Xt.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(e){return e!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:e}){return["sub",$e(this.options.HTMLAttributes,e),0]},addCommands(){return{setSubscript:()=>({commands:e})=>e.setMark(this.name),toggleSubscript:()=>({commands:e})=>e.toggleMark(this.name),unsetSubscript:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}}),AP=Xt.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(e){return e!=="super"?!1:null}}]},renderHTML({HTMLAttributes:e}){return["sup",$e(this.options.HTMLAttributes,e),0]},addCommands(){return{setSuperscript:()=>({commands:e})=>e.setMark(this.name),toggleSuperscript:()=>({commands:e})=>e.toggleMark(this.name),unsetSuperscript:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}}),OP=bt.create({name:"text",group:"inline"}),IP=Xt.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",$e(this.options.HTMLAttributes,e),0]},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),RP=()=>(e,t)=>({state:n,tr:r,dispatch:o})=>{const s=Ae(e,n.schema);if(t!==void 0){const i=r.doc.resolve(t),l=Un(r.doc,t,c=>c.node().type===s).$pos;if(!l)return!1;const a=l.depth-(l.node(-1).childCount===1?1:0);if(o){const c=i.before(a);r.delete(c,i.after(a))}}else{const{$from:i,$to:l,from:a}=n.selection.map(r.doc,r.mapping),c=Un(r.doc,a,h=>h.node().type===s).$pos,u=Un(r.doc,a,h=>h.node().type===s).$pos;if(!c||!u)return!1;const d=c.depth-((c==null?void 0:c.node(-1).childCount)===1?1:0),f=u.depth-((u==null?void 0:u.node(-1).childCount)===1?1:0);if(o){r.delete(i.before(d),l.after(f));const h=r.mapping.map(a)-1;r.setSelection(ce.near(r.doc.resolve(h),-1))}}return!0};function Eh(e){return function(t,n){const r=t.getMeta(e);return r!==void 0?r:n}}const Vl=new Re("isCursorVisiblePlugin");function DP(){const e={},t={class:"[caret-color:transparent]"};return new Oe({key:Vl,state:{init(){return!0},apply:Eh(Vl)},props:{attributes(n){return Vl.getState(n)?e:t}}})}const LP=()=>e=>({tr:t,dispatch:n})=>(n&&t.setMeta(Vl,e),!0);function jP(e){var t;return((t=e.dom.parentElement)==null?void 0:t.classList.contains("editor-is-embedded-block"))??!1}const PP=new Re("debugSelection"),NP=(e,t=!1)=>new Oe({key:PP,state:{init(){},apply(n){}}}),Ks=new Re("isUsingTouchPlugin");function VP(){const e={},t={class:"group using-touch"};return new Oe({key:Ks,props:{handleDOMEvents:{pointerdown:(n,r)=>{const o=Ks.getState(n.state),s=r.pointerType==="touch";if(o!==s){const i=n.state.tr;i.setMeta(Ks,!0),i.setMeta("addToHistory",!1),n.dispatch(i)}}},attributes:n=>Ks.getState(n)?t:e},state:{init(){return!1},apply:Eh(Ks)}})}function $P({main:e="pm-unfocused-selection",start:t=`${e}-start`,end:n=`${e}-end`}={}){const r=new Re("unfocusedSelectionIndicator");return new Oe({key:r,state:{init(){return{decos:He.empty,savedSel:void 0}},apply(o,s,i,l){const a=o.getMeta(r);if(!a)return s;const c={...s,...a};if(!c.savedSel)return c.decos=He.empty,c;const{from:u,to:d}=c.savedSel;(l.selection.from!==u||l.selection.to!==d)&&(c.savedSel=l.selection);const f=u===d||!!o.getMeta("hide-unfocused-selection");return c.decos=f?He.empty:He.create(o.doc,[ft.inline(u,u+1,{class:`${e} ${t}`}),ft.inline(u+1,d-1,{class:`${e}`}),ft.inline(d-1,d,{class:`${e} ${n}`})]),c}},props:{decorations(o){var s;return(s=this.getState(o))==null?void 0:s.decos},handleDOMEvents:{blur(o,s){if(s.relatedTarget instanceof Node&&o.dom.contains(s.relatedTarget))return;const i=o.state.tr;o.state.selection.empty||(i.setMeta("unfocused-selection",!0),i.setMeta(r,{savedSel:o.state.selection})),o.dispatch(i)},focusin(o){var i;const s=(i=r.getState(o.state))==null?void 0:i.savedSel;if(s){const l=o.state.tr;l.setMeta("unfocused-selection",!0),l.setMeta(r,{savedSel:void 0}),l.setSelection(ce.create(o.state.doc,s.from,s.to)),o.dispatch(l)}}}}})}function no(e,t,n){return jP(e)?n&&"embeddedCommandRedirect"in n.commands?{redirected:!0,result:n.commands.embeddedCommandRedirect(t,n.args)}:(console.warn(n?`Command ${t} called from an embedded editor. This command supports command redirection, but no "embeddedCommandRedirect" command found. Command ignored (returning true to prevent further action).`:`Command ${t} should not be called from an embedded editor. Command ignored (returning true to prevent further action).`),{redirected:!0,result:!0}):{redirected:!1}}const BP=()=>()=>({state:e,tr:t,commands:n,dispatch:r,view:o})=>{const{from:s,to:i,$from:l}=e.selection.map(t.doc,t.mapping);if(s===i){const a=no(o,"backspace",{args:[],view:o,commands:n});if(a.redirected)return a.result;if(l.start()===s){const c=l.end()===l.start(),u=ye.findFrom(e.doc.resolve(s-1),-1,!0);return u?(r&&(t.delete(u.from,i+(c?2:0)),t.setSelection(new ce(t.doc.resolve(u.from)))),!0):!1}else return r&&t.delete(s-1,i),!0}else return n.deleteSelection()},HP=()=>(e,t)=>({state:n,tr:r,dispatch:o})=>{let s=!1;return uh(r.doc,n.selection.map(r.doc,r.mapping),(i,l)=>{var a;return((a=i==null?void 0:i.type)==null?void 0:a.name)===e&&(s=!0,o&&r.setNodeMarkup(l,void 0,t)),!0}),!!s},FP=()=>e=>({commands:t})=>t.first(({commands:n})=>[()=>n==null?void 0:n.blockquoteEnter(e),()=>n==null?void 0:n.codeBlockEnterOrSplit(e),()=>n==null?void 0:n.tableEnter(e),()=>n.splitItem(e),()=>n.insertBreak(e)]),zP=(e="codeBlock",t=["blockquote"])=>n=>({state:r,commands:o,tr:s,dispatch:i})=>{const{$from:l,$to:a}=r.selection.map(s.doc,s.mapping);return l.parent.type.name===e||a.parent.type.name===e?o.codeBlockEnterOrSplit(n):t.map(u=>Ae(u,r.schema)).some(u=>{var d,f;return((d=l.node(-1))==null?void 0:d.type)===u||((f=a.node(-1))==null?void 0:f.type)===u})?!1:(i&&(n!==void 0&&s.setSelection(ce.create(s.doc,n)),o.setHardBreak(),n!==void 0&&s.setSelection(ce.create(s.doc,s.mapping.map(n)))),!0)},KP=Tt.create({name:"Base",addProseMirrorPlugins(){return[NP(this.editor),$P(),VP(),DP()]},addCommands(){return{enter:FP(),deleteNodes:RP(),insertBreak:zP("codeBlock"),backspace:BP(),changeAttrs:HP(),setCursorVisible:LP()}}}),WP=/^\s*>\s$/,UP=bt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return["blockquote",$e(this.options.HTMLAttributes,e),0]},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[_R({find:WP,type:this.type})]}}),qP=(e,t="cite",n="item")=>r=>({tr:o,dispatch:s,state:i})=>{const{$from:l,$to:a,empty:c}=o.selection,u=r!==void 0?o.doc.resolve(r):a,d=Ae(e,i.schema),f=Ae(t,i.schema),h=Ae(n,i.schema),p=u.node(-1).type===d||l.node(-1).type===d,g=u.node().type===f||l.node().type===f;if(p||g){const y=h.createAndFill();if(!y)return!1;if(s){r===void 0&&!c&&o.delete(l.pos,a.pos);const _=r??a.pos,w=o.doc.resolve(_),b=_===w.end();b||g?(o.insert(g?w.end()+1:_,y),o.setSelection(ce.near(o.doc.resolve(o.mapping.map(g?w.end()+1:_+1)),b?-1:1))):o.split(o.mapping.map(r??a.pos),3)}return!0}return!1},GP=e=>()=>({tr:t,dispatch:n,state:r})=>{var a,c;const{$from:o,$to:s,from:i}=t.selection,l=Ae(e,r.schema);return((a=o.node(-1))==null?void 0:a.type)===l||((c=s.node(-1))==null?void 0:c.type)===l?(n&&t.split(i,1),!0):!1},JP=UP.extend({name:"blockquote",content:"paragraph+ cite?",addOptions(){var e;return{...(e=this.parent)==null?void 0:e.call(this),HTMLAttributes:{class:"border-l-4 border-neutral-400 pl-2 dark:border-neutral-600"}}},addCommands(){return{blockquoteShiftEnter:GP(this.name),blockquoteEnter:qP(this.name)}}}),XP=bt.create({name:"cite",content:"inline+",parseHTML(){return[{tag:"cite"}]},renderHTML({HTMLAttributes:e}){return["cite",$e(e,{class:"text-neutral-700 dark:text-neutral-400 before:content-['']"}),0]},addInputRules(){return[new Ui({find:/(?:^|\s)(?:---)(?:\s)?$/,handler:({state:e,range:t})=>{const{tr:n}=e,r=t.from,o=t.to,s=r-1;if(n.doc.resolve(s).node().type.name!=="blockquote")return null;n.delete(s,o),n.insert(s,this.type.create()),n.setSelection(ce.create(n.doc,n.mapping.map(s))),n.scrollIntoView()}})]}}),YP="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let _o=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;)t+=YP[n[e]&63];return t};const QP=({nodeType:e,allowedValues:t,allowedStates:n,stateAttributeKey:r,attributeKey:o})=>({type:s,state:i},l)=>({state:a,tr:c,dispatch:u})=>{var h;if(!t.includes(s))return!1;const d=l??a.selection.map(c.doc,c.mapping).from,f=(h=Un(c.doc,d,p=>p.node().type.name===e))==null?void 0:h.$pos;if(f){const p=f.pos,g=f.node();if(u&&(c.setNodeAttribute(p-1,o,s),s.startsWith("stateful-"))){const y=s.slice(s.indexOf("-")+1),_=n[y];if(_!==void 0){const w=i??g.state??_.default;c.setNodeAttribute(p,r,w)}}return!0}else return!1},ZP=({listNodeTypeName:e="list",itemNodeTypeName:t="item"}={})=>(n,r,o,{move:s=!0}={})=>({tr:i,state:l,view:a,commands:c,dispatch:u})=>{const d=no(a,"copyOrMoveItem",{args:[n,r,o,{move:s}],view:a,commands:c});if(d.redirected)return d.result;const f=l.schema.nodes[e],h=l.schema.nodes[t],p=i.doc.resolve(r),g=i.doc.resolve(n);if(g.node().type.name!==t)throw new Error(`itemPos ${n} does not point to node type ${t} but to ${g.node().type.name}`);if(p.node().type.name!==t)throw new Error(`moveItemPos ${r} does not point to node type ${t} but to ${p.node().type.name}`);const y=i.doc.resolve(p.start()+1),_=y.node().type.name===p.node().type.name,w=_?p.node():y.node(-1),b=w.childCount>1&&w.child(1).type.name===e,{from:E,to:T}=l.selection.map(i.doc,i.mapping),x=g.before(),D=g.after(),N=E>x&&E<D?l.selection.from-x:void 0,M=T>x&&T<D?l.selection.to-x:void 0;function O(v){if(u)if(N)i.setSelection(ce.create(i.doc,v+N,M&&M+v));else if(M)i.setSelection(ce.create(i.doc,M&&M+v));else{const L=i.doc.resolve(v),H=ce.findFrom(L,1,!0);H&&i.setSelection(H)}}const $=()=>{if(u&&s){const L=g.index(-1)===0?2:1,H=g.start()-L,W=g.end()+L;i.delete(H,W)}};if(o==="after")if(b){let v=p.start()+p.node().child(0).nodeSize,L=v+p.node().child(1).nodeSize;const H=new oe(G.from([h.create({}),g.node()]),1,1);return $(),v=i.mapping.map(v),L=i.mapping.map(L),u&&i.step(new at(v,L,v,L,H,H.size,!1)),O(v+1),!0}else{const v=i.doc.slice(g.start()-1,g.end()+1);return $(),u&&i.replace(i.mapping.map(y.end()),void 0,v),O(i.mapping.map(y.end())+2),!0}if(o==="before"){$();const v=i.mapping.map(y.before(_?void 0:-1));return u&&i.insert(v,g.node()),O(v),!0}if(o==="child"){const v=new oe(G.from([f.create({},g.node())]),0,b?1:0);$();const L=y.start()+y.node().child(0).nodeSize+(_?0:1),H=i.mapping.map(L),W=b?H+1:void 0;return u&&i.replace(H,W,v),O(H+1),!0}return!1},eN=e=>t=>({view:n,commands:r})=>{const o=no(n,"deleteItem",{args:[t],view:n,commands:r});return o.redirected?o.result:r.deleteNodes(e,t)},Na=(e,t)=>{const n=e.nodes[t];if(n==null)throw new Error(`Unknown node type:${t}`);return n},Qv=(e,t)=>{const n=e.mapping.map(t.$from.pos),r=e.doc.resolve(n),o=e.mapping.map(t.$to.pos),s=e.doc.resolve(o);return{$from:r,$to:s,from:n,to:o}},Zv=(e,t,n,{splitChildren:r=!1}={})=>{const{$from:o,$to:s}=n,i=e.resolve(o.before()),l=e.resolve(s.after()),a=[{$from:i,$to:l}];let c=0,u=o;return uh(e,{$from:o,$to:s},(d,f)=>{if((d==null?void 0:d.type)===t){const h=e.resolve(f+1);return h.depth<i.depth-c*2?(uM(a).$to=u,a.push({$from:h,$to:l}),c++):r&&h.depth!==i.depth&&a.push({$from:h,$to:l}),u=h,r}return!0}),a},tN=(e,t)=>(n,r)=>({state:o,dispatch:s,tr:i,editor:l,view:a,commands:c})=>{var _;const u=no(a,"indentItem",{args:[n,r],view:a,commands:c});if(u.redirected)return u.result;const d=Na(l.schema,t),f=Na(l.schema,e),h=n!==void 0?ce.create(i.doc,n,r):o.selection.map(i.doc,i.mapping),p=Zv(i.doc,f,h),g=w=>w.childCount>0&&w.firstChild.type===f;let y=!1;for(const w of p){const{$from:b,$to:E}=Qv(i,w),T=b.blockRange(E,g);if(!T)continue;y=!0;const x=T.start,D=T.end,N=b.index(-1),M=N===0,O=M?void 0:b.node(-1).child(N-1),$=((_=O==null?void 0:O.lastChild)==null?void 0:_.type)===d,v=G.from(f.create(null,G.from(d.create(null,G.from($?f.create():null))))),L=$?3:M?0:1,H=new oe(v,L,0);s&&i.step(new at(x-L,D,x,D,H,M?2:1,!0))}return y},nN=e=>t=>({tr:n,state:r,dispatch:o})=>{var i;const s=gr.getState(r);return t??(t=(i=Un(n.doc,r.selection.map(n.doc,n.mapping).from,l=>l.node().type.name===e).$pos)==null?void 0:i.node().attrs.blockId),t||Jt(),s!=null&&s.opened&&s.id===t?!1:(o&&(n.setMeta("addToHistory",!1),n.setMeta(gr,{opened:!0,id:t})),!0)},rN=()=>()=>({tr:e,state:t,dispatch:n})=>{const r=gr.getState(t);return r&&!r.opened?!1:(n&&(e.setMeta("addToHistory",!1),e.setMeta(gr,{opened:!1,id:void 0})),!0)},oN=()=>e=>({commands:t,state:n})=>{const r=gr.getState(n);return r!=null&&r.opened?t.closeItemMenu():t.openItemMenu(e)},sN=e=>(t="down",n)=>({state:r,dispatch:o,tr:s,editor:i,commands:l,view:a})=>{const c=no(a,"moveItem",{args:[n],view:a,commands:l});if(c.redirected)return c.result;const u=Na(i.schema,e),{$from:d,$to:f,from:h,to:p}=n?ce.create(s.doc,n,n):r.selection.map(s.doc,s.mapping),g=Math.min(d.depth,f.depth),y=s.doc.resolve(d.before(d.depth-g-1)+1),_=s.doc.resolve(f.before(g-f.depth-1)+1);Ia(y,"$targetFrom"),Ia(_,"$targetTo");const w=y.blockRange(_);if(!w)return!1;const b=w.$from.start(),E=w.$to.end(),T=s.doc.slice(b,E),x=y.before(),D=_.after(),N=h>x&&h<D?r.selection.from-x:void 0,M=p>x&&p<D?r.selection.to-x:void 0;function O($){o&&N&&s.setSelection(ce.create(s.doc,$+N,M&&M+$))}if(t==="up"){const $=y.index(-1);if(g<=2&&$===0)return!1;const L=y.index(-1)===0?s.doc.resolve(y.before(-2)+1):s.doc.resolve(y.start()-2);if(!L||L.node().type.name!==u.name)return!1;if(o){s.delete(b-2,E+2);const H=s.mapping.map(L.start())-1;s.insert(s.mapping.map(L.start()),T.content),O(H)}}if(t==="down"){let $;if(uh(s.doc,{$from:s.doc.resolve(f.pos),$to:s.doc.resolve(s.doc.resolve(0).end())},(v,L)=>(!$&&(v==null?void 0:v.type.name)===u.name&&($=s.doc.resolve(L+1)),!1)),!$)return!1;if($.depth===g-1){if(o){s.delete(b-2,E+2);const v=s.mapping.map($.end()+1);s.insert(s.mapping.map($.end()+1),T.content),O(v)}}else if(o){const L=s.doc.resolve($.start()+1).end()+1;s.delete(b-2,E+2);const H=s.mapping.map(L);s.insert(s.mapping.map(L),T.content),O(H)}}return!0},iN=(e,t="paragraph",n=10)=>r=>({state:o,tr:s,editor:i,view:l,commands:a,dispatch:c})=>{const u=no(l,"splitItem",{args:[r],view:l,commands:a});if(u.redirected)return u.result;const{$from:d,$to:f,to:h,empty:p}=r?ce.create(s.doc,r):o.selection.map(s.doc,s.mapping),g=d.node(-1),y=f.node(-1),_=g.attrs.blockId===y.attrs.blockId?_o(n):y.attrs.blockId,w=o.selection instanceof et,b=g.type.name===e&&y.type.name===e;if(w||b){const E=Ae(t,i.schema),T=p&&h===d.end(),x=Ae(e,i.schema);if(w){if(c){const D=s.doc.resolve(d.pos-1),N=s.doc.resolve(f.pos-1),M=D.node(),O=N.node();(O!==M||O.type.name!==e||M.type.name!==e)&&Jt(),s.insert(d.pos,x.create({...M.attrs,blockId:void 0},[E.create()]))}}else if(T){const D=[d.pos,2,[{type:x,attrs:{...y.attrs,blockId:_}},{type:E}]],N=hr(s.doc,...D);return c&&s.split(...D),N}else{const D=f.node(),N=[d.pos,2,[{type:x,attrs:{...y.attrs,blockId:_}},{type:D.type,attrs:D.attrs}]],M=!c&&hr(s.doc,...N);return c?(s.delete(d.pos,f.pos),hr(s.doc,...N)?(s.split(...N),!0):!1):M}}return!1},lN=e=>(t,n)=>({state:r,dispatch:o,tr:s,editor:i,view:l,commands:a})=>{const c=no(l,"unindentItem",{args:[t,n],view:l,commands:a});if(c.redirected)return c.result;const u=Na(i.schema,e),d=t!==void 0?ce.create(s.doc,t,n):r.selection.map(s.doc,s.mapping),f=Zv(s.doc,u,d,{splitChildren:!0}),h=g=>g.childCount>0&&g.firstChild.type===u;let p=!1;for(const g of f){const{$from:y,$to:_}=Qv(s,g),w=y.blockRange(_,h);if(!w)return!1;if(!(w.depth<=1)){const E=w.end,T=Ko(w);if(T===null)continue;o&&s.lift(w,T);const x=s.mapping.map(E,-1)-1;vr(s.doc,x)&&o&&s.join(x),o&&s.scrollIntoView(),p=!0}}return p},aN=({initialOffset:e=Q({x:0,y:0}),pointerCoords:t=Q({x:0,y:0}),threshold:n=Q(10)}={})=>{const r=Q(!1);function o(c,u){const d=u.x-c.x,f=u.y-c.y;return Math.sqrt(d*d+f*f)}function s(c){return{x:c.clientX,y:c.clientY}}function i(c){t.value=s(c),r.value||(r.value=e.value!==void 0&&o(e.value,t.value)>=n.value)}function l(c){r.value=!1,e.value=s(c),t.value=s(c)}function a(){r.value=!1,e.value=void 0,t.value=void 0}return{initialOffset:e,pointerCoords:t,threshold:n,passedDragThreshold:r,getEventCoords:s,checkDragThreshold:i,startDragThresholdCheck:l,endDragThresholdCheck:a}};function cN(e){const t=Q(0);function n(){var l;if(!e.value)return;const r=(l=e.value)==null?void 0:l.querySelector("*:not(.ProseMirror) li[data-node-view-content]"),o=r==null?void 0:r.firstElementChild;if(!r||!(o instanceof Element))return;const i=window.getComputedStyle(o).lineHeight;try{const a=parseInt(i.replace("px",""),10);t.value=a}catch{Jt()}}return{handleHeight:t,recalculateHandleHeight:n}}function uN(e){const t=Ne(Ra),n=Ee(()=>e.node.attrs.type.startsWith("ordered-")||e.node.attrs.type.startsWith("unordered-")||e.node.attrs.type.startsWith("stateful-")?`${e.node.attrs.type.slice(e.node.attrs.type.indexOf("-")+1)}`:e.node.attrs.type==="unordered"?"disc":e.node.attrs.type==="ordered"?"numeric":""),r=Ee(()=>{var o;if(e.node.attrs.type.startsWith("stateful-")&&n.value!=="")return(o=t==null?void 0:t.value[n.value])==null?void 0:o.entries.find(s=>s.value===e.node.attrs.state)});return{counterStyle:n,nodeState:r}}const dN="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20width='20'%20height='40'%20version='1.1'%20viewBox='0%200%2020%2040'%20id='svg2'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs2'%20/%3e%3cpath%20style='fill:%23000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1'%20d='M%200,0%2020,20%200,40%20Z'%20id='path1'%20/%3e%3c/svg%3e",fN="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20width='40'%20height='40'%20version='1.1'%20viewBox='0%200%2040%2040'%20id='svg2'%20sodipodi:docname='handle-border-circles-single.svg'%20inkscape:version='1.3%20(0e150ed6c4,%202023-07-21)'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3csodipodi:namedview%20id='namedview1'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:showpageshadow='2'%20inkscape:pageopacity='0.0'%20inkscape:pagecheckerboard='0'%20inkscape:deskcolor='%23d1d1d1'%20inkscape:zoom='7.5837202'%20inkscape:cx='42.986818'%20inkscape:cy='46.810799'%20inkscape:window-width='1920'%20inkscape:window-height='1044'%20inkscape:window-x='0'%20inkscape:window-y='0'%20inkscape:window-maximized='1'%20inkscape:current-layer='svg2'%20/%3e%3cdefs%20id='defs2'%20/%3e%3cg%20fill='%23000000'%20id='g2'%20transform='translate(12.5,-30)'%3e%3ccircle%20cx='7.5'%20cy='50'%20r='12.5'%20id='circle1'%20/%3e%3c/g%3e%3c/svg%3e";var Gd=(e=>(e.OUTSIDE_TOP="OUTSIDE_TOP",e.TOP="TOP",e.BOTTOM="BOTTOM",e.OUTSIDE_BOTTOM="OUTSIDE_BOTTOM",e))(Gd||{}),Jd=(e=>(e.OUTSIDE_LEFT="OUTSIDE_LEFT",e.INSIDE="INSIDE",e.INSIDE_INDENT="INSIDE_INDENT",e.OUTSIDE_RIGHT="OUTSIDE_RIGHT",e))(Jd||{});function hN(e,t,n){const r={x:"INSIDE",y:"TOP"};return e.y<t.y?r.y="OUTSIDE_TOP":e.y<t.y+t.height/2?r.y="TOP":e.y<t.y+t.height?r.y="BOTTOM":r.y="OUTSIDE_BOTTOM",e.x<t.x?r.x="OUTSIDE_LEFT":e.x<t.x+n?r.x="INSIDE":e.x<t.x+t.width?r.x="INSIDE_INDENT":r.x="OUTSIDE_RIGHT",r}const pN=["title"],mN=["role","aria-checked"],gN=Se({__name:"ItemNodeView",props:Gi,setup(e){const t=e,n=Q(null),r=Q(null);Q(null);const o=Ee(()=>t.node.childCount>1),{handleHeight:s,recalculateHandleHeight:i}=cN(n);ze([()=>t.node,()=>t.decorations],()=>{Gt(()=>{i()})});const l=Ne(Ra),{nodeState:a,counterStyle:c}=uN(t),u=Ee(()=>t.decorations.find(P=>P.type.attrs.hasSingularSelection)),{initialOffset:d,pointerCoords:f,passedDragThreshold:h,startDragThresholdCheck:p,endDragThresholdCheck:g,checkDragThreshold:y}=aN({threshold:Q(5)}),_=Ne(dv);if(!_)throw new Error("editorScrollInjectionKey must be provided.");const w=Q(null),b=Q(void 0);let E,T=!1;function x(){T=!1,t.editor.commands.setCursorVisible(!0),"enableMarkMenus"in t.editor.commands&&t.editor.commands.enableMarkMenus(),g(),document.removeEventListener("keyup",D),document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",$),_==null||_.endScroll();const P=document.querySelector("#clone");P&&(P.innerHTML=""),w.value=null,E=void 0,b.value=void 0}function D(P){P.code==="Escape"&&x()}function N(P){p(P),P.preventDefault(),document.addEventListener("pointermove",O),document.addEventListener("pointerup",$),document.addEventListener("keyup",D)}const M=/([0-9.]+)px/g;function O(P){var k,I,K;if(P.preventDefault(),y(P),h.value&&(T||(T=!0,t.editor.commands.setCursorVisible(!1),"disableMarkMenus"in t.editor.commands&&t.editor.commands.disableMarkMenus()),w.value||(w.value=n.value.cloneNode(!0),setTimeout(()=>{const Z=document.querySelector("#clone");Z==null||Z.append(w.value)})),_==null||_.scrollEdges(P.clientX,P.clientY),f.value&&P.target instanceof HTMLElement)){const Z=t.editor.view.dom,ie=Z.getBoundingClientRect(),pe=((k=document.elementFromPoint(ie.x+ie.width-1,f.value.y))==null?void 0:k.closest(".item-content > *"))??null,Qe=pe===n.value||((I=n.value)==null?void 0:I.contains(pe)),Yt=(K=pe==null?void 0:pe.parentElement)==null?void 0:K.classList.contains("item-content"),Ie=Z.parentElement;if(!Ie||!pe||Qe||!Yt||t.editor.view.posAtDOM(pe,0)<0)return;const ln=Ie.offsetWidth-Ie.clientWidth,Qt=Ie.getBoundingClientRect().width-ln,pt=pe.getBoundingClientRect(),Zt=window.getComputedStyle(n.value).getPropertyValue("padding-left");if(!M.test(Zt))throw new Error("Component must set padding-left in pixels.");const Rn=parseInt(Zt.replace(M,"$1"),10),Yn=hN(f.value,pt,Rn);E=pe;const C=Yn,A=C.y===Gd.BOTTOM||C.y===Gd.OUTSIDE_BOTTOM;(C.x===Jd.INSIDE_INDENT||C.x===Jd.OUTSIDE_RIGHT)&&A?b.value={type:"child",x:pt.x+Rn,y:pt.y+pt.height,width:Qt}:A?b.value={type:"after",x:pt.x,y:pt.y+pt.height,width:Qt}:b.value={type:"before",x:pt.x,y:pt.y,width:Qt}}}function $(P){if(!h.value||!t.editor.isEditable)v();else if(E&&b.value){t.editor.schema;const k=t.editor.view.posAtDOM(E,0);if(k<0){x();return}const{$pos:I,pos:K}=Un(t.editor.state.doc,k,Z=>Z.node().type.name==="item",{stop:2});if(!K||!K){x();return}t.editor.commands.copyOrMoveItem(t.getPos()+1,K,b.value.type,{move:!0})}x()}function v(P){t.editor.commands.toggleItemMenu(t.node.attrs.blockId)}function L(P){const k=t.getPos(),I=t.editor.state.doc.resolve(k);Ia(I.node());const K=t.getPos()+2,Z=t.editor.state.selection;t.editor.chain().setTextSelection({from:K,to:K}).changeAttrs("item",{hideChildren:!t.node.attrs.hideChildren}).setTextSelection({from:Z.from,to:Z.to}).run(),P.preventDefault()}function H(P){var k;if(a.value){const I=t.getPos()+2,K=(k=l==null?void 0:l.value[c.value])==null?void 0:k.entries;K===void 0&&Jt();let Z=K.indexOf(a.value);Z===-1&&Jt(),Z+1>=K.length&&(Z=0);const ie=t.editor.state.selection;t.editor.view.dom!==document.activeElement&&t.editor.commands.focus(),t.editor.chain().setTextSelection({from:I,to:I}).changeItemType({type:t.node.attrs.type,state:K[Z+1].value}).setTextSelection({from:ie.from,to:ie.to}).run(),P.preventDefault()}}function W(P){P.preventDefault()}return St(()=>{r.value.addEventListener("pointerdown",N),r.value.addEventListener("touchstart",W,{passive:!1}),Gt(()=>{i()})}),Cf(()=>{var P,k;(P=r.value)==null||P.removeEventListener("pointerdown",N),(k=r.value)==null||k.removeEventListener("touchstart",W)}),(P,k)=>{var I,K;return z(),ee(Xe,null,[Vo((z(),ke(S(qi),{class:st(S(Bn)(`
		group/item
		pl-[calc(var(--pmHandleSize)+var(--pmHandleMargin)+var(--spacing-1))]
		relative
	`,S(h)&&`
			pointer-events-none
			bg-neutral-100
			rounded
		`)),role:"listitem",style:Wn(`
		--counterStyle:${S(c)};
		--nodeState:${(I=S(a))==null?void 0:I.icon};
		--typeHandleHeight:${S(s)}px;
		--handleMaskImage:url(${S(fN)});
		--handleCollapseIndicator:url(${S(dN)});

	`)},{default:me(()=>[le("div",{contenteditable:"false",class:st(S(Bn)(`group handles
			absolute
			left-0
			w-[calc(var(--pmHandleSize)+var(--pmHandleMargin))]
			h-full
		`,S(h)&&`
			hidden
		`))},[le("div",{title:P.node.attrs.blockId+` hasChildren: ${o.value}`,class:st(S(Bn)(`grab-handle
				absolute
-				left-0
				w-[calc(var(--pmHandleSize)+var(--pmHandleMargin))]
				flex justify-center
				bg-gradient-to-br
				from-neutral-50
				to-neutral-100
				dark:from-neutral-800
				dark:to-neutral-900
				rounded
				py-1
				h-full
				transition-opacity
				duration-[450ms]

				before:w-[var(--pmHandleSize)]
				before:bg-neutral-300
				dark:before:bg-neutral-700
				before:[mask-image:var(--handleMaskImage)]
				before:[mask-repeat:space]
				before:[mask-size:calc(var(--pmHandleSize)/2.1)]
				before:[mask-position:center]
				opacity-0
				[.group.handles:hover>&]:cursor-pointer
				[.group.handles:hover>&]:opacity-100
				group-[.using-touch]:hidden
			`,u.value&&`
				group-[.using-touch]:flex
				group-[.using-touch]:opacity-100
			`)),ref_key:"grabHandle",ref:r},null,10,pN),le("div",{class:st(S(Bn)(`collapse-indicator
				hover:cursor-pointer
				absolute
				left-[-4px]
				hover:top-0
				flex items-center justify-center
				h-[var(--typeHandleHeight)]
				w-[calc(var(--pmHandleSize)+var(--pmHandleMargin))]
				group-[.using-touch]:hidden
			`,o.value&&`
				after:transition-all
				after:opacity-0
				[.group.handles:hover>&]:after:opacity-100
				[.group.handles:hover>&]:after:bg-neutral-500
				[.group.handles>&]:after:hover:opacity-100
				[.group.handles:hover>&]:after:hover:bg-accent-500

				after:h-[var(--pmHandleSize)]
				after:w-[var(--pmHandleSize)]
				after:absolute
				after:[mask-image:--handleCollapseIndicator]
				after:[mask-size:contain]
				after:[mask-position:center]
				after:[mask-repeat:no-repeat]
			`,o.value&&!P.node.attrs.hideChildren&&`
				after:rotate-90
				after:translate-x-[4px]
			`,o.value&&P.node.attrs.hideChildren&&`
				group-[.using-touch]:block
			`,u.value&&`
				group-[.using-touch]:flex
				group-[.using-touch]:opacity-100
			`,!o.value&&`
				hidden
				group-[.using-touch]:hidden
			`)),onClick:L},null,2)],2),le("div",{contenteditable:"false",class:st(S(Bn)(`type-handle
					flex flex-col justify-center items-center
					w-[1.2rem]
					center
					left-[calc(var(--pmHandleSize)+var(--pmHandleMargin))+var(--pmNodeTypeMargin)]
					absolute
					z-[1]
				`,P.node.attrs.type.startsWith("ordered")&&`
					[counter-increment:ordered]
					after:content-[counter(ordered,var(--counterStyle))_'.']
				`,P.node.attrs.type.startsWith("unordered")&&`
					after:content-[counter(none,var(--counterStyle))]
				`,P.node.attrs.type.startsWith("stateful")&&`
					after:h-[1.2rem]
					after:content-[var(--nodeState)]
					after:cursor-pointer
					hover:after:[filter:drop-shadow(0px_1px_1px_rgba(0,0,0,0.4))]
					hover:after:content-[var(--nodeState)]
				`,P.node.attrs.type==="none"&&`
					hidden
				`,`type-${P.node.attrs.type}`)),style:`
					height:var(--typeHandleHeight);
			`,role:P.node.attrs.type.startsWith("stateful")?"checkbox":"","aria-checked":P.node.attrs.state,tabindex:"0",onPointerdown:H},null,42,mN),te(S(ch),Ve({as:"li"},P.node.attrs,{class:S(Bn)(`
				item-content
				[counter-reset:ordered]
				relative
				flex
				block full
			`,P.node.attrs.hideChildren&&`
					[&_ul[node-type='list']]:hidden
				`,P.node.attrs.type!=="none"&&`
				pl-[calc(1.2rem+var(--pmNodeTypeMargin))]
				`)}),null,16,["class"])]),_:1},8,["class","style"])),[[S(Fi),Z=>n.value=Z]]),S(h)&&S(f)?(z(),ke(zh,{key:0,to:"body"},[le("div",{id:"clone",class:"fixed cursor-pointer scale-50 origin-top-left -m-2 pointer-events-none select-none bg-white border-neutral-500 border rounded p-3",style:Wn(`left:${S(f).x}px;top:${S(f).y}px`)},null,4)])):Pe("",!0),b.value!==void 0&&!((K=S(_))!=null&&K.isScrolling.value)?(z(),ke(zh,{key:1,to:"body"},[le("div",{class:"fixed h-[var(--pmDragDropIndicatorHeight,5px)] bg-accent-500 opacity-50",style:Wn(`
			left:${b.value.x}px;
			top:calc(${b.value.y}px ${b.value.type!=="before"?"- (var(--pmDragDropIndicatorHeight, 5px))":""});
			width:${b.value.width-b.value.x}px;
		`)},null,4)])):Pe("",!0)],64)}}}),Du=new Re("ensureLastBlockIsParagraphPluginKey");function _N(e,t,{initialState:n=!0}={}){return new Oe({key:Du,state:{init(){return n},apply:Eh(Du)},appendTransaction:(r,o,s)=>{if(!Du.getState(s))return;const l=Ae(t,s.schema),a=Ae(e,s.schema),c=s.doc.content.size-2,u=s.doc.resolve(c);u.node().type!==l&&Jt();const d=s.doc.resolve(s.doc.content.size-3),f=s.tr;if(d.node().type!==a)return f.insert(u.end()+1,l.create({},[a.create()])),f}})}const yN=/^[A-Za-z0-9_-]+$/;function Va(e,t){return!(e==null||t!==void 0&&e.length!==t||!yN.test(e))}function kg(e,t,n,r=!1){const o=new Set;return e.doc.descendants((s,i)=>{if(s.type===t)if(!Va(s.attrs.blockId,r?void 0:n)||o.has(s.attrs.blockId)){const a=_o(n);e.setNodeAttribute(i,"blockId",a),o.add(a)}else o.add(s.attrs.blockId)}),e.setMeta("preventClearDocument",!0),e.setMeta("addToHistory",!1),e}const bN=new Re("itemBlockIdPlugin");function vN(e){let t=!1;return new Oe({key:bN,stateInit:n=>(t=!0,kg(n,e.type,e.options.idLength,e.options.allowAnyIdLength)),appendTransaction:(n,r,o)=>{if(!t)return t=!0,kg(o.tr,e.type,e.options.idLength,e.options.allowAnyIdLength)}})}const EN=new Re("itemHasSingularSelectionPluginKey");function kN(){return new Oe({key:EN,props:{decorations(e){const t=e.selection;if(t.from===t.to){if(t.from===0)return;const n=e.doc.resolve(t.from);if(n.depth<=1)return;const r=ft.node(n.before(-1),n.after(-1),{hasSingularSelection:!0});return He.create(e.doc,[r])}}}})}const wN=bt.create({name:"item",content:"block list? | list",addOptions(){return{HTMLAttributes:{},states:Nl,types:["none","ordered","unordered","ordered-upper-roman","ordered-lower-roman",...sn(Nl).map(e=>`stateful-${e}`)],idLength:10,allowAnyIdLength:!0,ensureLastItemIsParagraph:!0}},addAttributes(){return{type:{default:"none"},state:{default:void 0},hideChildren:{default:!1},blockId:{default:()=>_o(this.options.idLength),keepOnSplit:!1}}},parseHTML(){return[{tag:"li",getAttrs:e=>{const t=e.getAttribute("blockid")??_o(this.options.idLength),n=e.getAttribute("type"),r=e.getAttribute("hidechildren"),o={type:n,hideChildren:r==="true",blockId:t};if(n&&this.options.types.includes(n)){if(n.startsWith("stateful")){const s=e.getAttribute("state"),i=this.options.states[n.slice(9)];if(i!==void 0)return i.entries.find(l=>l.value===s)!==void 0?{...o,state:s}:{...o,state:i.default}}return o}else{const s=e.getAttribute("role"),i=e.getAttribute("aria-checked");if(s==="checkbox")return i==="true"?{type:n,state:"checked",blockId:t}:{type:n,state:"unchecked",blockId:t}}return n!==void 0?null:!1}},{tag:"ol > li",attrs:{type:"ordered",blockId:_o(this.options.idLength)}},{tag:"ul > li",attrs:{type:"unordered"},blockId:_o(this.options.idLength)}]},renderHTML({HTMLAttributes:e}){return["li",$e(this.options.HTMLAttributes,e),0]},addCommands(){return{changeItemType:QP({nodeType:this.name,allowedValues:this.options.types,attributeKey:"type",allowedStates:Nl,stateAttributeKey:"state"}),deleteItem:eN(this.name),indentItem:tN(this.name,"list"),unindentItem:lN(this.name),copyOrMoveItem:ZP(),moveItem:sN(this.name),splitItem:iN(this.name),openItemMenu:nN(this.name),closeItemMenu:rN(),toggleItemMenu:oN()}},addNodeView(){return Ji(gN)},onCreate(){"registerMenu"in this.editor.commands&&this.editor.commands.registerMenu({type:"context",closeCommand:"closeItemMenu",name:"itemMenu",pluginKey:gr,priority:100,canShow:(e,t)=>!!(t!=null&&t.opened)})},addProseMirrorPlugins(){const e=this;return[_N("paragraph",this.name,{initialState:this.options.ensureLastItemIsParagraph??!0}),DD(),vN(e),kN()]}}),xN=()=>(e,t={},n)=>({state:r,tr:o,dispatch:s})=>{var g,y,_,w;const i=Ae(e,r.schema),l=o.doc.resolve(n??o.selection.from),a=l.start(),c=l.end(),u=l.node(),d=o.selection,f=[];let h=0,p=0;if(!i.isTextblock||!u.type.isTextblock){const b=i.createAndFill(t);if(!b)return!1;let E=1,T=b;for(;T.childCount>0&&(T=T.firstChild,E++,!T.isTextblock););h=E;const x=T.type;let D=u;for(E=0;D.childCount>0&&(D=D.firstChild,E++,!D.isTextblock););p=E;const N=[];let M=0,O=0;if(u.nodesBetween(0,u.content.size,(v,L)=>(v.isText&&(M+=L-O,O=L-v.content.size+1,f.push({pos:a+L,offset:M-p}),N.push(r.schema.text(v.text??"",x.allowedMarks(v.marks)))),!0)),h===void 0)return!1;const $=N.length>0&&x.isTextblock?N:void 0;s&&(o.replace(a,c,new oe(G.from(b),0,0)),$&&o.insert(a+h,$))}else s&&o.setBlockType(a,void 0,i,t);if(s&&o.setMeta("preventClearDocument",!0),s){const b=o.mapping.map(d.from),E=o.mapping.map(d.to),T=((g=f.findLast(M=>d.from>=M.pos))==null?void 0:g.offset)??0,x=d.from>=a&&d.from<=c?d.from-T+h-p:(y=ye.findFrom(o.doc.resolve(b),-1,!0))==null?void 0:y.from,D=((_=f.findLast(M=>d.to>=M.pos))==null?void 0:_.offset)??0,N=d.to>=a&&d.to<=c?d.to-D+h-p:(w=ye.findFrom(o.doc.resolve(E),-1,!0))==null?void 0:w.to;o.setSelection(ce.create(o.doc,x&&x>0&&x<o.doc.content.size?x:b,N&&N>0&&N<o.doc.content.size?N:E))}return!0},CN=bt.create({name:"list",content:"item+",allowGapCursor:!0,addOptions(){return{HTMLAttributes:{}}},addAttributes(){return{type:{default:"list"}}},addCommands(){return{setNode:xN()}},parseHTML(){const e=t=>{const n=t.getAttribute("node-type");return n==="list"?{type:n}:!1};return[{tag:"ul",getAttrs:e},{tag:"ol",getAttrs:e}]},renderHTML({HTMLAttributes:e,node:t}){var n;return["ul",$e(this.options.HTMLAttributes,{"node-type":t.attrs.type,role:"list"},e,{class:`flex flex-col gap-1 ${(e==null?void 0:e.class)??((n=this.options.HTMLAttributes)==null?void 0:n.class)??""}`}),0]}}),Yi=Se({__name:"TextIcon",props:{text:{}},setup(e){const t=br();return(n,r)=>(z(),ee("span",Ft(fn(S(t))),Dt(n.text),17))}}),TN={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 24 24"};function SN(e,t){return z(),ee("svg",TN,t[0]||(t[0]=[le("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[le("path",{d:"m9 11l-6 6v3h9l3-3"}),le("path",{d:"m22 12l-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4"})],-1)]))}const MN=Me({name:"lucide-highlighter",render:SN}),$l=new Re("highlightPluginKey"),AN={class:"flex justify-center items-center"},ON=["title"],IN={key:1,class:"w-[1rem] h-[1rem] rounded-full bg-neutral-100 dark:bg-neutral-900 border-2 border-dashed border-neutral-500 flex justify-center items-center"},e1=Se({__name:"HighlightIcon",props:{editor:{},colorSlot:{}},setup(e){const t=e,n=Ee(()=>{var o;const r=(o=$l.getState(t.editor.state))==null?void 0:o.colors;if(r&&t.colorSlot!==void 0)return r[t.colorSlot]});return(r,o)=>{var s,i;return z(),ee("div",AN,[r.colorSlot!==void 0?(z(),ee("div",{key:0,class:"w-[1rem] h-[1rem] rounded-full text-sm overflow-hidden",style:Wn(`background-color: ${(s=n.value)==null?void 0:s.color}`),title:(i=n.value)==null?void 0:i.name},[te(S(MN),{class:"mb-2 ml-1"})],12,ON)):(z(),ee("div",IN))])}}}),t1=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},RN={};function DN(e,t){return z(),ee("span",null,t[0]||(t[0]=[It(" X"),le("sub",{class:"pl-1"},"2",-1)]))}const LN=t1(RN,[["render",DN]]),jN={};function PN(e,t){return z(),ee("span",null,t[0]||(t[0]=[It(" X"),le("sup",{class:"pl-1"},"2",-1)]))}const NN=t1(jN,[["render",PN]]),VN={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 20 20"};function $N(e,t){return z(),ee("svg",VN,t[0]||(t[0]=[le("path",{fill:"currentColor",d:"M14.08 12.864V9.216h3.648V7.424H14.08V3.776h-1.728v3.648H8.64v1.792h3.712v3.648zM0 17.92V0h20.48v17.92zM6.4 1.28H1.28v3.84H6.4zm0 5.12H1.28v3.84H6.4zm0 5.12H1.28v3.84H6.4zM19.2 1.28H7.68v14.08H19.2z"},null,-1)]))}const BN=Me({name:"dashicons-table-col-after",render:$N}),HN={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 20 20"};function FN(e,t){return z(),ee("svg",HN,t[0]||(t[0]=[le("path",{fill:"currentColor",d:"M6.4 3.776v3.648H2.752v1.792H6.4v3.648h1.728V9.216h3.712V7.424H8.128V3.776zM0 17.92V0h20.48v17.92zM12.8 1.28H1.28v14.08H12.8zm6.4 0h-5.12v3.84h5.12zm0 5.12h-5.12v3.84h5.12zm0 5.12h-5.12v3.84h5.12z"},null,-1)]))}const zN=Me({name:"dashicons-table-col-before",render:FN}),KN={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 20 20"};function WN(e,t){return z(),ee("svg",KN,t[0]||(t[0]=[le("path",{fill:"currentColor",d:"M6.4 9.98L7.68 8.7v-.256L6.4 7.164zm6.4-1.532l1.28-1.28V9.92L12.8 8.64zm7.68 9.472V0H0v17.92zm-1.28-2.56h-5.12v-1.024l-.256.256l-1.024-1.024v1.792H7.68v-1.792l-1.024 1.024l-.256-.256v1.024H1.28V1.28H6.4v2.368l.704-.704l.576.576V1.216h5.12V3.52l.96-.96l.32.32V1.216h5.12zm-5.76-2.112l-3.136-3.136l-3.264 3.264l-1.536-1.536l3.264-3.264L5.632 5.44l1.536-1.536l3.136 3.136l3.2-3.2l1.536 1.536l-3.2 3.2l3.136 3.136z"},null,-1)]))}const UN=Me({name:"dashicons-table-col-delete",render:WN}),qN={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 20 20"};function GN(e,t){return z(),ee("svg",qN,t[0]||(t[0]=[le("path",{fill:"currentColor",d:"M13.824 10.176h-2.88v-2.88H9.536v2.88h-2.88v1.344h2.88v2.88h1.408v-2.88h2.88zM0 17.92V0h20.48v17.92zM6.4 1.28H1.28v3.84H6.4zm6.4 0H7.68v3.84h5.12zm6.4 0h-5.12v3.84h5.12zm0 5.056H1.28v9.024H19.2z"},null,-1)]))}const JN=Me({name:"dashicons-table-row-after",render:GN}),XN={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 20 20"};function YN(e,t){return z(),ee("svg",XN,t[0]||(t[0]=[le("path",{fill:"currentColor",d:"M6.656 6.464h2.88v2.88h1.408v-2.88h2.88V5.12h-2.88V2.24H9.536v2.88h-2.88zM0 17.92V0h20.48v17.92zm7.68-2.56h5.12v-3.84H7.68zm-6.4 0H6.4v-3.84H1.28zM19.2 1.28H1.28v9.024H19.2zm0 10.24h-5.12v3.84h5.12z"},null,-1)]))}const QN=Me({name:"dashicons-table-row-before",render:YN}),ZN={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 20 20"};function e3(e,t){return z(),ee("svg",ZN,t[0]||(t[0]=[le("path",{fill:"currentColor",d:"M17.728 11.456L14.592 8.32l3.2-3.2l-1.536-1.536l-3.2 3.2L9.92 3.648L8.384 5.12l3.2 3.2l-3.264 3.264l1.536 1.536l3.264-3.264l3.136 3.136zM0 17.92V0h20.48v17.92zm19.2-6.4h-.448l-1.28-1.28H19.2V6.4h-1.792l1.28-1.28h.512V1.28H1.28v3.84h6.208l1.28 1.28H1.28v3.84h7.424l-1.28 1.28H1.28v3.84H19.2z"},null,-1)]))}const t3=Me({name:"dashicons-table-row-delete",render:e3}),n3={type:"command",command:"toggleMark",args:["bold"],title:"Bold",description:"Make the selected text bold.",icon:{props:{class:"font-bold",text:"B"},component:Yi}},r3={type:"command",command:"toggleMark",args:["italic"],title:"Italic",description:"Make the selected text italic.",icon:{props:{class:"italic",text:"I"},component:Yi}},o3={type:"command",command:"toggleMark",args:["strike"],title:"Strike",description:"Strike through the selected text.",icon:{props:{style:"text-decoration:line-through;",text:"S"},component:Yi}},s3={type:"command",command:"toggleMark",args:["underline"],title:"Underline",description:"Underline the selected text.",icon:{props:{class:"underline",text:"U"},component:Yi}},i3={type:"command",command:"toggleMark",args:["code"],title:"Code",description:"Make the selected text code.",icon:{props:{class:"font-bold",text:"</>"},component:Yi}},l3={type:"command",command:"toggleMark",args:["subscript"],title:"Subscript",description:"Subscript the selected text.",icon:{component:LN}},a3={type:"command",command:"toggleMark",args:["superscript"],title:"Superscript",description:"Superscript the selected text.",icon:{component:NN}},Ps=e=>e.selection.$from.node(-1).type.name==="tableCell"&&e.selection.$to.node(-1).type.name==="tableCell",c3={type:"command",command:"addColumnBefore",title:"Add column before.",description:"Add a column before the selected column.",icon:{component:zN},canShow:Ps},u3={type:"command",command:"addColumnAfter",title:"Add column after.",description:"Add a column after the selected column.",icon:{component:BN},canShow:Ps},d3={type:"command",command:"addRowBefore",title:"Add row before.",description:"Add a row before the selected row.",icon:{component:QN},canShow:Ps},f3={type:"command",command:"addRowAfter",title:"Add row after.",description:"Add a row after the selected row.",icon:{component:JN},canShow:Ps},h3={type:"command",command:"deleteRow",title:"Delete row.",description:"Delete the selected row.",icon:{component:t3},canShow:Ps},p3={type:"command",command:"deleteColumn",title:"Delete column.",description:"Delete the selected column.",icon:{component:UN},canShow:Ps};function m3(e,t="slot"){return[...Array(e).keys()].map(n=>({type:"command",command:"toggleHighlight",title:`Highlight Slot ${n+1}`,description:`Highlight the selected text with color slot ${n+1}.`,icon:{component:e1,props:{colorSlot:t+(n+1)}},args:[t+(n+1)]}))}const g3=m3(5),_3={type:"command",command:"unsetHighlight",title:"Unset Highlight",description:"Unset the highlight mark.",icon:{component:e1,props:{colorSlot:void 0}},args:[]},n1={enabled:!0,options:{onlyOpenOnSelection:!0},commands:[{type:"group",groupType:"inline",title:"Basic",variations:[n3,r3,o3,s3,i3]},{type:"group",groupType:"inline",title:"Highlight",variations:[...g3,_3]},{type:"group",groupType:"inline",title:"Sub/Sup",variations:[l3,a3]},{type:"group",groupType:"inline",title:"Table",variations:[c3,u3,d3,f3,h3,p3]}]};function r1(e,t){const n=arguments[2],r=r1;for(const o of e)if(o.type==="command"){if(t(o,n))return!0}else if(o.type==="group"&&r(o.variations,t,o))return!0;return!1}const y3=Tt.create({name:"commandBar",addOptions(){return{commandBar:n1}},addCommands(){return{enableCommandBar:()=>({tr:e,dispatch:t})=>(t&&(this.options.commandBar.enabled=!0,e.setMeta(nr,{canOpen:!0}),e.setMeta("addToHistory",!1)),!0),disableCommandBar:()=>({tr:e,dispatch:t})=>(t&&(this.options.commandBar.enabled=!1,e.setMeta(nr,{canOpen:!1}),e.setMeta("addToHistory",!1)),!0)}},onCreate(){"registerMenu"in this.editor.commands&&this.editor.commands.registerMenu({type:"mark",closeCommand:void 0,name:"commandBar",pluginKey:nr,canShow:(e,t)=>!!(t!=null&&t.state)&&!!(t!=null&&t.canOpen)})},addProseMirrorPlugins(){const e=this;return[new Oe({key:nr,state:{init(){return{state:!0,canOpen:e.options.commandBar.enabled&&(document.activeElement===e.editor.view.dom||e.editor.view.dom.contains(document.activeElement))}},apply:Xi(nr)},props:{handleDOMEvents:{blur(){e.editor.commands.command(({tr:t})=>(t.setMeta("addToHistory",!1),t.setMeta(nr,{canOpen:!1}),!0))},focus(){e.editor.commands.command(({tr:t})=>(t.setMeta("addToHistory",!1),t.setMeta(nr,{canOpen:!0}),!0))}}},appendTransaction(t,n,r){var u,d;const o=((u=nr.getState(n))==null?void 0:u.state)??!1,s=r.selection,i=s instanceof ge;if(!o&&i)return;const l=r.tr,a=((d=e.options.commandBar.options)==null?void 0:d.onlyOpenOnSelection)===!0?!s.empty:!0,c=r1(e.options.commandBar.commands,f=>{var p;const h=(p=f.canShow)==null?void 0:p.call(f,r);return h===!0||h===void 0});return l.setMeta(nr,{state:!i&&a&&c}),l}})]}}),b3=bt.create({name:"doc",topNode:!0,content:"list"}),v3={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 512 512"};function E3(e,t){return z(),ee("svg",v3,t[0]||(t[0]=[le("path",{fill:"currentColor",d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59c-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0c-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606c.648 17.722 3.826 35.527 9.69 52.721c1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96c28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83c-3.701-3.694-7.429-6.564-10.341-8.569a16.04 16.04 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.5 152.5 0 0 1 20.522 17.197M467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37c-58.566 58.892-59.387 154.781.36 214.59a152.5 152.5 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.04 16.04 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569c-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51c27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612c5.864 17.194 9.042 34.999 9.69 52.721c.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959"},null,-1)]))}const k3=Me({name:"fa-solid-link",render:E3}),w3={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 24 24"};function x3(e,t){return z(),ee("svg",w3,t[0]||(t[0]=[le("path",{fill:"none",stroke:"currentColor","stroke-dasharray":"16","stroke-dashoffset":"16","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3c4.97 0 9 4.03 9 9"},[le("animate",{fill:"freeze",attributeName:"stroke-dashoffset",dur:"0.2s",values:"16;0"}),le("animateTransform",{attributeName:"transform",dur:"1.5s",repeatCount:"indefinite",type:"rotate",values:"0 12 12;360 12 12"})],-1)]))}const C3=Me({name:"line-md-loading-loop",render:x3}),T3=["for"],S3=["id","disabled"],M3=Se({name:"lib-checkbox",inheritAttrs:!1,__name:"LibCheckbox",props:En(Bo({id:{},label:{},disabled:{type:Boolean},readonly:{type:Boolean},border:{type:Boolean},unstyle:{type:Boolean}},{...Fo}),{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:En(["submit"],["update:modelValue"]),setup(e,{emit:t}){const n=Ac(["label","wrapper"]);r_();const r=Ho(),o=Q(null),s=Q(null),i=qn(e,"modelValue");return(l,a)=>{var c,u;return z(),ee("div",Ve({class:S(nt)(`
		flex
		items-center
		gap-1
	`,(c=S(n).wrapperAttrs)==null?void 0:c.class)},{...S(n).wrapperAttrs,class:void 0},{ref_key:"el",ref:o}),[ct(l.$slots,"left"),le("label",Ve({class:["flex items-center gap-1",S(nt)(`
			flex
			items-center
			gap-1
		`,(u=S(n).labelAttrs)==null?void 0:u.class)]},{...S(n).labelAttrs,class:void 0},{for:l.id??S(r)}),[Vo(le("input",Ve({id:l.id??S(r),class:!l.unstyle&&S(nt)(`
				focus-outline-no-offset
				m-0
				p-[0.4em]
				bg-bg
				dark:bg-fg
				appearance-none
				border
				border-accent-600
				rounded
				aspect-square
				relative
				checked:after:content
				checked:after:absolute
				checked:after:w-full
				checked:after:h-full
				checked:after:border-2
				checked:after:border-bg
				dark:checked:after:border-fg
				checked:after:rounded
				checked:after:top-0
				checked:after:left-0
				checked:after:bg-accent-700
				disabled:border-neutral-500
				disabled:checked:after:bg-neutral-700
			`,!l.disabled&&"after:cursor-pointer",S(n).attrs.class),type:"checkbox",disabled:l.disabled,ref_key:"inputEl",ref:s,"onUpdate:modelValue":a[0]||(a[0]=d=>i.value=d)},{...S(n).attrs,class:void 0}),null,16,S3),[[F_,i.value]]),ct(l.$slots,"default"),It(" "+Dt(l.label),1)],16,T3)],16)}}}),A3={key:0,class:"embedded-document-picker w-[calc(100dvw-var(--spacing-20))] max-h-[calc(100dvh-var(--spacing-20))] overflow-auto bg-neutral-100 dark:bg-neutral-900 p-2 rounded flex-1 flex flex-col gap-2"},O3={key:0,class:"border border-neutral-500 rounded"},I3={class:"flex flex-row no-wrap gap-2 justify-end"},R3=Se({__name:"EmbeddedDocumentPicker",props:{embedId:{},isShown:{type:Boolean}},emits:["submit","cancel"],setup(e,{emit:t}){const n=e,r=t,o=us(n,"embedId"),s=Q({...n.embedId});Ne(Gv,yc);const i=Ne(Pa);tt(qd,!0);function l(y){const w=y.target.closest(".item-content"),b=w==null?void 0:w.getAttribute("blockid");b&&(s.value.blockId=b)}const a=Q(!1),c=Q(null),u=Q(""),d=Q(!1),f=Q([]);ze(u,async y=>{var _,w,b,E;a.value||(d.value=!0,(w=(_=c.value)==null?void 0:_.suggestionsComponent)==null||w.suggestions.close(),f.value=await i.getSuggestions(y),(E=(b=c.value)==null?void 0:b.suggestionsComponent)==null||E.suggestions.open(),d.value=!1)},{immediate:!0});function h(y,_){_!=null&&_.docId&&(s.value.docId=_.docId,a.value=!0,Gt(()=>{a.value=!1}))}const p=Q(o.value.blockId===void 0);function g(){p.value?r("submit",{...s.value,blockId:void 0}):r("submit",s.value)}return(y,_)=>{const w=C3,b=yn;return y.isShown?(z(),ee("div",A3,[(z(),ke($o("style"),null,{default:me(()=>[It(' .embedded-document-picker li[blockid="'+Dt(s.value.blockId)+'"]:not(:has(li:hover)):after { border-color: rgb(var(--color-accent-500)); } .embedded-document-picker li[blockid="'+Dt(s.value.blockId)+'"]:has(li:hover):after { border-color: rgb(var(--color-accent-500)/50%); } ',1)]),_:1})),te(S(ki),{placeholder:"Change document.","suggestions-class":"max-h-[200px] overflow-y-auto",suggestions:f.value,"suggestion-label":E=>E.title,"restrict-to-suggestions":!1,ref_key:"inputComponent",ref:c,modelValue:u.value,"onUpdate:modelValue":_[0]||(_[0]=E=>u.value=E),onSubmit:h},KE({"suggestion-item":me(({item:E})=>[It(Dt(E.title),1)]),_:2},[d.value?{name:"right",fn:me(()=>[te(b,null,{default:me(()=>[te(w)]),_:1})]),key:"0"}:void 0]),1032,["suggestions","suggestion-label","modelValue"]),te(S(M3),{modelValue:p.value,"onUpdate:modelValue":_[1]||(_[1]=E=>p.value=E)},{default:me(()=>_[4]||(_[4]=[It("Embed Full Document")])),_:1},8,["modelValue"]),!p.value&&s.value.docId?(z(),ee("div",O3,[_[5]||(_[5]=le("div",{class:"bg-neutral-200 dark:bg-neutral-800 rounded-t p-1"},"Pick a block to embed:",-1)),le("div",{class:"flex-1 [&_li]:after:rounded [&_li]:after:border-2 [&_li]:after:border-transparent [&_li]:after:content-[''] [&_li]:after:absolute [&_li]:after:inset-[-3px] [&_li]:after:transition-all [&_li]:cursor-pointer [&_li]:after:pointer-events-none [&_li:hover:not(:has(li:hover))]:after:content-[''] [&_li:hover:not(:has(li:hover))]:after:border-accent-500 [&_li:hover:not(:has(li:hover))]:after:bg-accent-500/30 [&_li:hover:not(:has(li:hover))]:after:pointer-events-none [&_li:hover:not(:has(li:hover))]:pointer-events-all [&_a]:pointer-events-none overflow-y-auto p-2",onPointerdown:_[2]||(_[2]=ks(()=>{},["prevent"])),onPointerup:ks(l,["prevent"])},[te(yc,{"is-embedded":!0,"doc-id":s.value.docId,"editor-options":{editable:!1}},null,8,["doc-id"])],32)])):Pe("",!0),le("div",I3,[te(S(dr),{color:"danger",onClick:_[3]||(_[3]=E=>r("cancel"))},{default:me(()=>_[6]||(_[6]=[It("Cancel")])),_:1}),te(S(dr),{color:"ok",onClick:g},{default:me(()=>_[7]||(_[7]=[It("Submit")])),_:1})])])):Pe("",!0)}}});function o1(e,t,n=0){const r=e.content.findDiffStart(t.content),o=e.content.findDiffEnd(t.content);if(r===null||o===null)return null;const s=Math.min(r,o.a),i=s+n,l=o.a+n;return{start:i,end:l,sliceStart:s,sliceEnd:o.b}}function $a(e,t){const n=t.blockId;let r,o;return e.nodesBetween(0,e.content.size,(s,i)=>r===void 0&&s.type.name==="item"&&s.attrs.blockId===n?(r=i,o=i+s.nodeSize,!1):r===void 0),r===void 0||o===void 0?{start:void 0,end:void 0}:{start:r,end:o}}function D3(e,t,n){if(!n.blockId){const d=JSON.parse(JSON.stringify(t.steps)).map(h=>ht.fromJSON(e.schema,h)),f=e.tr;ja(t,f),f.setMeta("ignore",!0);for(const h of d)f.step(h);return f}const{start:o}=$a(e.doc,n),{start:s}=$a(t.doc,n);if(s===void 0||o===void 0)return;const i=e.tr;ja(t,i),i.setMeta("ignore",!0);const l=e.doc.nodeAt(o),a=t.doc.nodeAt(s),c=a?e.schema.nodeFromJSON(a.toJSON()):void 0;if(!l||!c)return;const u=o1(l,c,o-1);return u&&i.replace(2+u.start,2+u.end,c.slice(u.sliceStart,u.sliceEnd)),i}function Lu(e){return e.docId!==void 0}const wg=Tt.create({name:"embedded",instancePerEditor:!0,addOptions(){return{embeddedBlockCommandRedirect:void 0,getPos:void 0,rootEditor:void 0,getEmbedId:void 0}},addCommands(){if(!this.options.rootEditor)throw new Error("Embedded: Extension must be configured with the root editor.");if(!this.options.getPos)throw new Error("Embedded: Extension must be configured with the getPos function.");if(!this.options.getEmbedId)throw new Error("Embedded: Extension must be configured with the getEmbedId function.");const{rootEditor:e,getPos:t,getEmbedId:n}=this.options;return{embeddedCommandRedirect:(r,o)=>({editor:s,dispatch:i})=>{const l=n(),a=t();if(this.options.embeddedBlockCommandRedirect){const c=this.options.embeddedBlockCommandRedirect(r,o,{editor:s,rootEditor:e,nodePos:a,embedId:l,dispatch:i});if(c!==void 0)return c}switch(r){case"insertFile":return e.commands.insertFile(o[0],a);case"splitItem":return e.commands.command(({tr:c,commands:u,state:d,dispatch:f})=>{const h=a,p=d.schema;if(p.nodes.item){if(!f)return!0;const g=p.nodes.item.createAndFill();return g?(c.insert(h+1,g),c.setSelection(ce.create(c.doc,h+3)),u.focus(),!0):!1}return!1});case"indentItem":return e.commands.command(()=>(e.commands.indentItem(a),e.commands.setNodeSelection(a+2),!0));case"unindentItem":return e.commands.command(()=>(e.commands.unindentItem(a),e.commands.setNodeSelection(a-2),!0));default:console.warn(`No redirect handler found for command ${r}`);break}return!1}}}});function L3(e,t,n=[50,2e3]){clearTimeout(t.smallTimeout),clearTimeout(t.timeout),e.value=!1,t.justWarned&&(e.value=!0),t.justWarned=!0,t.smallTimeout=setTimeout(()=>{t.justWarned=!1,e.value=!0,clearTimeout(t.timeout),t.timeout=setTimeout(()=>{e.value=!1},n[1])},n[0])}function j3(e,t){clearTimeout(t.smallTimeout),clearTimeout(t.timeout),e.value=!1}function P3(e,t,n,r,{undoTimeouts:o=[50,2e3],selfSymbol:s=Symbol("embedded-editor"),onUndoWarning:i,onUndoOk:l,alwaysLoad:a=!1,injectIsEmbedded:c=!0,injectIsDeepEmbedded:u=!0}={}){const d=Q(!1),f=Q(null),h=Ne(Pa);if(!h)throw new Error("No embed api provided.");const p=Ne(Xv);if(!p)throw new Error("No editor options provided.");p.extensions=[...(p.extensions??[]).filter(v=>v.name!==wg.name),wg.configure({rootEditor:n,getPos:r,getEmbedId:()=>e.value})];const g=Ne(qd,!1);u&&!g&&tt(qd,!0);const y=Ee(()=>!!e.value.blockId);c&&(tt(Uv,!0),tt(qv,y));const _=Ne(Jv,void 0),w=Ee(()=>(_==null?void 0:_.value)===e.value.docId),b=Q(!1),E=Ee(()=>Lu(e.value)?h.getEmbedTitle(e.value):void 0),T={smallTimeout:void 0,timeout:void 0,justWarned:!1};function x(v){var k;e.value;const L=h.getFullState(e.value);if(!v)return;const H=o1(L.doc,v.doc),{start:W,end:P}=$a(v.doc,e.value);H&&P!==void 0&&W!==void 0&&(H.start<W||H.end>P)?i?i(d):L3(d,T,o):l?l(d):j3(d,T),v.setMeta("no-step-convert",!0),v.setMeta("no-schema-convert",!0),e.value.blockId||v.setMeta("no-step-convert",!0),(k=h.updateDocument)==null||k.call(h,e.value,v,void 0)}function D({transaction:v}){var L;e.value,!(!v.docChanged||v.getMeta("ignore"))&&(e.value.blockId||v.setMeta("no-step-convert",!0),(L=h.updateDocument)==null||L.call(h,e.value,v,s))}const N=(v,L,H,W,P)=>{if(e.value,!(P===s||e.value.docId!==v.docId||!L.docChanged||L.getMeta("ignore")))if(f.value){const k=D3(t.value.state,L,e.value);if(k){if(!k.before.eq(t.value.state.doc))return;t.value.view.dispatch(k)}else $(e.value,{partial:!0})}else O(e.value,{partial:!0})};let M=!1;async function O(v,{partial:L=!1}={}){var W,P;if(!Lu(v)||!a&&(w.value||g))return;L||(b.value=!0,await h.load(v));const H=(W=h.getEmbeddedContent)==null?void 0:W.call(h,v);H&&(L||(P=h.addEventListener)==null||P.call(h,"update",N),f.value=H,Gt(()=>{var k;t.value.commands.setHistoryRedirect(()=>h.getFullState(v),x),(k=t.value)==null||k.on("transaction",D),b.value=!1,M=!0}))}function $(v,{partial:L=!1}={}){var H,W,P;Lu(v)&&(!a&&(w.value||g)||((H=t.value)==null||H.off("transaction",D),!L&&M&&((W=h.removeEventListener)==null||W.call(h,"update",N),h.unload(v),M=!1),(P=t.value)==null||P.commands.setHistoryRedirect(void 0,void 0),f.value=null))}return ze(e,(v,L)=>{(v.docId!==L.docId||v.blockId!==L.blockId)&&($(L),O(v))}),St(async()=>{await O(e.value)}),kn(()=>{$(e.value)}),{content:f,api:h,selfSymbol:s,isEmbeddedTooDeep:g,isEmbeddedBlock:y,isRecursivelyEmbedded:w,showUndoWarning:d,name:E,isLoading:b,editorOptions:p}}const N3={class:"text-sm relative",contenteditable:"false"},V3={class:"bg-neutral-100 dark:bg-neutral-900 flex p-1 gap-2 no-wrap justify-between align-center",contenteditable:"false"},$3={key:0,class:"pl-1"},B3={key:1,class:"pl-1 text-center w-full"},H3={key:0,class:"absolute inset-0 bg-red-100 dark:bg-red-900 text-red-600 dark:text-red-400 px-2",contenteditable:"false"},F3={key:0},z3={key:1,class:"px-2 text-center",contenteditable:"false"},K3={key:2,class:"px-2 text-center",contenteditable:"false"},W3={key:4,class:"px-2 text-center"},U3=Se({__name:"EmbeddedNodeView",props:Gi,setup(e){const t=e,n=Ne(Gv,yc),r=Q(null);Q(null);const o=Ee(()=>{var b;return(b=r.value)==null?void 0:b.editor}),s=Ee(()=>t.node.attrs.embedId),i=Q(!1);function l(b){i.value=!1,t.updateAttributes({...t.node.attrs,embedId:{...b}})}function a(){var E;const b=t.getPos();t.editor.state.selection.from!==b&&((E=t.editor)==null||E.commands.setNodeSelection(b))}function c(){var b,E;t.editor.state.selection.from===t.getPos()&&document.activeElement!==((b=o.value)==null?void 0:b.view.dom)&&((E=o.value)==null||E.commands.focus())}ze([()=>t.editor.state.selection.from,o],()=>{c()});const{content:u,api:d,isEmbeddedTooDeep:f,isEmbeddedBlock:h,isRecursivelyEmbedded:p,showUndoWarning:g,name:y,isLoading:_,editorOptions:w}=P3(s,o,t.editor,t.getPos);return(b,E)=>{const T=k3,x=yn;return z(),ke(S(qi),Ve({class:`
		group/embedded-doc
		relative
		after:pointer-events-none
		after:content-['']
		after:absolute after:inset-0
		after:border after:border-neutral-500 after:rounded
		after:drop-shadow-sm
		focus-within:after:border-accent-500
		focus:after:border-accent-500
	`,tabindex:"0"},{...b.node.attrs,embedId:void 0,embedDocId:b.node.attrs.embedId.docId,embedBlockId:b.node.attrs.embedId.blockId},{onPointerdown:a}),{default:me(()=>{var D;return[le("div",N3,[le("div",V3,[S(y)?(z(),ee("div",$3," File: "+Dt(S(y)),1)):(z(),ee("div",B3,"Blank Embed")),(D=b.editor)!=null&&D.isEditable?(z(),ke(S(dr),{key:2,title:"Change embed link.",border:!0,onClick:E[0]||(E[0]=N=>i.value=!0)},{default:me(()=>[te(x,null,{default:me(()=>[te(T,{class:"w-[0.7rem]"})]),_:1})]),_:1})):Pe("",!0),te(S(Kc),{"use-background":!0,"preferred-horizontal":["center-screen"],"preferred-vertical":["center-screen"],class:"backdrop:bg-neutral-900/50 backdrop:dark:bg-neutral-100/50",modelValue:i.value,"onUpdate:modelValue":E[2]||(E[2]=N=>i.value=N)},{popup:me(({extractEl:N})=>[Vo(te(R3,{"is-shown":i.value,"embed-id":s.value,onSubmit:l,onCancel:E[1]||(E[1]=M=>i.value=!1)},null,8,["is-shown","embed-id"]),[[S(Fi),N]])]),default:me(()=>[E[3]||(E[3]=It(" > "))]),_:1},8,["modelValue"])]),te(Nk,null,{default:me(()=>[S(g)?(z(),ee("div",H3," Warning: Undo applied to document part that is not visible/embedded. ")):Pe("",!0)]),_:1})]),S(y)?S(f)?(z(),ee("div",z3," Cannot preview nested content deeper than one level. ")):S(p)?(z(),ee("div",K3," Cannot preview recursively embedded content. ")):S(u)?(z(),ke($o(S(n)),{key:3,"is-embedded":!0,content:S(u),"editor-options":S(w),ref_key:"editorWrapper",ref:r},null,8,["content","editor-options"])):(z(),ee("div",W3,Dt(S(_)?"Loading...":"Could not find reference to wanted block."),1)):(z(),ee("div",F3))]}),_:1},16)}}}),q3=bt.create({name:"embeddedDoc",instancePerEditor:!0,group:"block",draggable:!1,atom:!0,addNodeView(){return Ji(U3,{stopEvent(){return!0},ignoreMutation(){return!0}})},addOptions(){return{HTMLAttributes:{default:{}}}},addAttributes(){return{embedId:{default:{docId:void 0,blockId:void 0}}}},parseHTML(){return[{tag:`div[type=${this.name}]`,getAttrs:e=>{const t=e.getAttribute("embeddocid");if(t==null)return!1;if(vi(t)||!Va(t))return{embedId:{docId:void 0,blockId:void 0}};const n=e.getAttribute("embedblockid");return{embedId:{docId:vi(t)||!Va(t)?void 0:t,blockId:n}}}}]},renderHTML({HTMLAttributes:e}){const t=$e(this.options.HTMLAttributes,e,{embeddocid:e.embedId.docId??"",embedblockid:e.embedId.blockId,type:this.name});return delete t.embedId,["div",t]}}),G3=bt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",$e(this.options.HTMLAttributes,e)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:o,storedMarks:s}=n;if(o.$from.parent.type.spec.isolating)return!1;const{keepMarks:i}=this.options,{splittableMarks:l}=r.extensionManager,a=s||o.$to.parentOffset&&o.$from.marks();return t().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&a&&i){const d=a.filter(f=>l.includes(f.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),J3=G3.extend({extendNodeSchema(e){return e.name==="hardBreak"?{linebreakReplacement:!0}:{}},addKeyboardShortcuts(){return{}}});function X3(e,t){const n=[];return e.spec.nodes.forEach((r,o)=>{o.group&&t.includes(o.group)&&n.push(r)}),n}const Y3=(e,t,n,r)=>(r&&pa(t,X3(e,r)),n&&pa(t,n),t),Q3=({nodeType:e,allowedValues:t,attributeKey:n,toggleGroups:r,toggleNodeTypeNames:o})=>({level:s,onlyHeadings:i=!1},l)=>({state:a,commands:c,tr:u,editor:d})=>{var y,_;if(!t.includes(s))return!1;const f=Y3(d.schema,[e],i?void 0:o,i?void 0:r),h=Ae(e,d.schema),p=l??a.selection.map(u.doc,u.mapping).from,g=(_=(y=Un(u.doc,p,w=>!!f.includes(w.node().type.name)))==null?void 0:y.$pos)==null?void 0:_.pos;return g?c.setNode(h,{[`${n}`]:s},g-1):!1},Z3=bt.create({name:"heading",content:"inline*",group:"block",defining:!0,addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{class:["text-xl","text-2xl/normal","text-3xl/normal","text-4xl/normal","text-5xl/normal","text-6xl/normal"]}}},addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({HTMLAttributes:e,node:t}){const n=this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0],r={...this.options.HTMLAttributes};for(const o of sn(r))ha(r[o])&&(r[o]=r[o][n-1]);return[`h${n}`,$e(r,e,{level:n}),0]},addCommands(){return{setHeading:Q3({attributeKey:"level",nodeType:this.type.name,allowedValues:this.options.levels,toggleGroups:["block"]}),toggleHeading:({level:e=1})=>({commands:t})=>this.options.levels.includes(e)?t.toggleNode(this.name,"paragraph",{level:e}):!1}},addInputRules(){return this.options.levels.map(e=>Kd({find:new RegExp(`^(#{1,${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),s1=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,i1=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g;Xt.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:e}){return["mark",$e(this.options.HTMLAttributes,e),0]},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[Xr({find:s1,type:this.type})]},addPasteRules(){return[mr({find:i1,type:this.type})]}});const eV=s1,tV=i1,nV={slot1:{name:"Yellow",color:"rgba(255, 234, 54, 0.5)",matches:["#ffff00","yellow"]},slot2:{name:"Orange",color:"rgba(255, 132, 0, 0.5)",matches:["#ffa500","orange"]},slot3:{name:"Red",color:"rgba(255, 0, 0, 0.5)",matches:["#ff0000","red"]},slot4:{name:"Green",color:"rgba(70, 177, 0, 0.5)",matches:["#008000","green"]},slot5:{name:"Blue",color:"rgba(0, 101, 255, 0.5)",matches:["#0000ff","blue"]}},rV=Xt.create({name:"highlight",instancePerEditor:!0,addOptions(){return{defaultColor:"slot1",colors:nV,HTMLAttributes:{}}},addAttributes(){return{color:{default:null,parseHTML:e=>{const t=e.getAttribute("data-color");if(t&&t in this.options.colors)return t;const n=e.style.backgroundColor,r=sn(this.options.colors).find(o=>{var i,l;const s=this.options.colors[o];return!!(s.color===t||t&&((i=s.matches)!=null&&i.includes(t))||s.color===n||(l=s.matches)!=null&&l.includes(n))});return r||(t?this.options.defaultColor:!1)},renderHTML:e=>{const t=e.color;if(!t)return{};const n=this.options.colors[t];return{"data-color":n.color,style:`background-color: ${n.color}; color: inherit`}}}}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:e}){return["mark",$e(this.options.HTMLAttributes,e),0]},addCommands(){return{setHighlightOptions:e=>({tr:t,dispatch:n})=>(n&&t.setMeta($l,{...e,colors:e.colors?{...e.colors}:void 0}),!0),setHighlight:e=>({commands:t})=>{if(e===void 0)return t.setMark(this.name,{color:this.options.defaultColor});if(e in this.options.colors)return t.setMark(this.name,{color:e});throw new Error(`Color ${e} not found in the Highlight options.`)},toggleHighlight:e=>({commands:t})=>{if(e===void 0)return t.toggleMark(this.name,{color:this.options.defaultColor});if(e in this.options.colors)return t.toggleMark(this.name,{color:e});throw new Error(`Color ${e} not found in the Highlight options.`)},unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addProseMirrorPlugins(){const e=this;return[new Oe({key:$l,state:{init(){return{...e.options,colors:{...e.options.colors}}},apply:Xi($l)}})]},addInputRules(){return[Xr({find:eV,type:this.type})]},addPasteRules(){return[mr({find:tV,type:this.type})]}});var Ba=200,yt=function(){};yt.prototype.append=function(t){return t.length?(t=yt.from(t),!this.length&&t||t.length<Ba&&this.leafAppend(t)||this.length<Ba&&t.leafPrepend(this)||this.appendInner(t)):this};yt.prototype.prepend=function(t){return t.length?yt.from(t).append(this):this};yt.prototype.appendInner=function(t){return new oV(this,t)};yt.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?yt.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};yt.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};yt.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};yt.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var o=[];return this.forEach(function(s,i){return o.push(t(s,i))},n,r),o};yt.from=function(t){return t instanceof yt?t:t&&t.length?new l1(t):yt.empty};var l1=function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(o,s){return o==0&&s==this.length?this:new t(this.values.slice(o,s))},t.prototype.getInner=function(o){return this.values[o]},t.prototype.forEachInner=function(o,s,i,l){for(var a=s;a<i;a++)if(o(this.values[a],l+a)===!1)return!1},t.prototype.forEachInvertedInner=function(o,s,i,l){for(var a=s-1;a>=i;a--)if(o(this.values[a],l+a)===!1)return!1},t.prototype.leafAppend=function(o){if(this.length+o.length<=Ba)return new t(this.values.concat(o.flatten()))},t.prototype.leafPrepend=function(o){if(this.length+o.length<=Ba)return new t(o.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(yt);yt.empty=new l1([]);var oV=function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,o,s,i){var l=this.left.length;if(o<l&&this.left.forEachInner(r,o,Math.min(s,l),i)===!1||s>l&&this.right.forEachInner(r,Math.max(o-l,0),Math.min(this.length,s)-l,i+l)===!1)return!1},t.prototype.forEachInvertedInner=function(r,o,s,i){var l=this.left.length;if(o>l&&this.right.forEachInvertedInner(r,o-l,Math.max(s,l)-l,i+l)===!1||s<l&&this.left.forEachInvertedInner(r,Math.min(o,l),s,i)===!1)return!1},t.prototype.sliceInner=function(r,o){if(r==0&&o==this.length)return this;var s=this.left.length;return o<=s?this.left.slice(r,o):r>=s?this.right.slice(r-s,o-s):this.left.slice(r,s).append(this.right.slice(0,o-s))},t.prototype.leafAppend=function(r){var o=this.right.leafAppend(r);if(o)return new t(this.left,o)},t.prototype.leafPrepend=function(r){var o=this.left.leafPrepend(r);if(o)return new t(o,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t}(yt);const sV=500;class xn{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let o,s;n&&(o=this.remapping(r,this.items.length),s=o.maps.length);let i=t.tr,l,a,c=[],u=[];return this.items.forEach((d,f)=>{if(!d.step){o||(o=this.remapping(r,f+1),s=o.maps.length),s--,u.push(d);return}if(o){u.push(new jn(d.map));let h=d.step.map(o.slice(s)),p;h&&i.maybeStep(h).doc&&(p=i.mapping.maps[i.mapping.maps.length-1],c.push(new jn(p,void 0,void 0,c.length+u.length))),s--,p&&o.appendMap(p,s)}else i.maybeStep(d.step);if(d.selection)return l=o?d.selection.map(o.slice(s)):d.selection,a=new xn(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:a,transform:i,selection:l}}addTransform(t,n,r,o){let s=[],i=this.eventCount,l=this.items,a=!o&&l.length?l.get(l.length-1):null;for(let u=0;u<t.steps.length;u++){let d=t.steps[u].invert(t.docs[u]),f=new jn(t.mapping.maps[u],d,n),h;(h=a&&a.merge(f))&&(f=h,u?s.pop():l=l.slice(0,l.length-1)),s.push(f),n&&(i++,n=void 0),o||(a=f)}let c=i-r.depth;return c>lV&&(l=iV(l,c),i-=c),new xn(l.append(s),i)}remapping(t,n){let r=new ps;return this.items.forEach((o,s)=>{let i=o.mirrorOffset!=null&&s-o.mirrorOffset>=t?r.maps.length-o.mirrorOffset:void 0;r.appendMap(o.map,i)},t,n),r}addMaps(t){return this.eventCount==0?this:new xn(this.items.append(t.map(n=>new jn(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],o=Math.max(0,this.items.length-n),s=t.mapping,i=t.steps.length,l=this.eventCount;this.items.forEach(f=>{f.selection&&l--},o);let a=n;this.items.forEach(f=>{let h=s.getMirror(--a);if(h==null)return;i=Math.min(i,h);let p=s.maps[h];if(f.step){let g=t.steps[h].invert(t.docs[h]),y=f.selection&&f.selection.map(s.slice(a+1,h));y&&l++,r.push(new jn(p,g,y))}else r.push(new jn(p))},o);let c=[];for(let f=n;f<i;f++)c.push(new jn(s.maps[f]));let u=this.items.slice(0,o).append(c).append(r),d=new xn(u,l);return d.emptyItemCount()>sV&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,o=[],s=0;return this.items.forEach((i,l)=>{if(l>=t)o.push(i),i.selection&&s++;else if(i.step){let a=i.step.map(n.slice(r)),c=a&&a.getMap();if(r--,c&&n.appendMap(c,r),a){let u=i.selection&&i.selection.map(n.slice(r));u&&s++;let d=new jn(c.invert(),a,u),f,h=o.length-1;(f=o.length&&o[h].merge(d))?o[h]=f:o.push(d)}}else i.map&&r--},this.items.length,0),new xn(yt.from(o.reverse()),s)}}xn.empty=new xn(yt.empty,0);function iV(e,t){let n;return e.forEach((r,o)=>{if(r.selection&&t--==0)return n=o,!1}),e.slice(n)}class jn{constructor(t,n,r,o){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=o}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new jn(n.getMap().invert(),n,this.selection)}}}class Dr{constructor(t,n,r,o,s){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=o,this.prevComposition=s}}const lV=20;function aV(e,t,n,r){let o=n.getMeta(Oo),s;if(o)return o.historyState;n.getMeta(dV)&&(e=new Dr(e.done,e.undone,null,0,-1));let i=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(i&&i.getMeta(Oo))return i.getMeta(Oo).redo?new Dr(e.done.addTransform(n,void 0,r,Bl(t)),e.undone,xg(n.mapping.maps),e.prevTime,e.prevComposition):new Dr(e.done,e.undone.addTransform(n,void 0,r,Bl(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(i&&i.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),a=e.prevTime==0||!i&&e.prevComposition!=l&&(e.prevTime<(n.time||0)-r.newGroupDelay||!cV(n,e.prevRanges)),c=i?ju(e.prevRanges,n.mapping):xg(n.mapping.maps);return new Dr(e.done.addTransform(n,a?t.selection.getBookmark():void 0,r,Bl(t)),xn.empty,c,n.time,l??e.prevComposition)}else return(s=n.getMeta("rebased"))?new Dr(e.done.rebased(n,s),e.undone.rebased(n,s),ju(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new Dr(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),ju(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function cV(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,o)=>{for(let s=0;s<t.length;s+=2)r<=t[s+1]&&o>=t[s]&&(n=!0)}),n}function xg(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,o,s,i)=>t.push(s,i));return t}function ju(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let o=t.map(e[r],1),s=t.map(e[r+1],-1);o<=s&&n.push(o,s)}return n}function uV(e,t,n){let r=Bl(t),o=Oo.get(t).spec.config,s=(n?e.undone:e.done).popEvent(t,r);if(!s)return null;let i=s.selection.resolve(s.transform.doc),l=(n?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),o,r),a=new Dr(n?l:s.remaining,n?s.remaining:l,null,0,-1);return s.transform.setSelection(i).setMeta(Oo,{redo:n,historyState:a})}let Pu=!1,Cg=null;function Bl(e){let t=e.plugins;if(Cg!=t){Pu=!1,Cg=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){Pu=!0;break}}return Pu}const Oo=new Re("history"),dV=new Re("closeHistory");function a1(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Oe({key:Oo,state:{init(){return new Dr(xn.empty,xn.empty,null,0,-1)},apply(t,n,r){return aV(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,o=r=="historyUndo"?Ha:r=="historyRedo"?Fa:null;return o?(n.preventDefault(),o(t.state,t.dispatch)):!1}}}})}function c1(e,t){return(n,r)=>{let o=Oo.getState(n);if(!o||(e?o.undone:o.done).eventCount==0)return!1;if(r){let s=uV(o,n,e);s&&r(t?s.scrollIntoView():s)}return!0}}const Ha=c1(!1,!0),Fa=c1(!0,!0),fV=Tt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>Ha(e,t),redo:()=>({state:e,dispatch:t})=>Fa(e,t)}},addProseMirrorPlugins(){return[a1(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Nu="filterForHistoryForwarding",hV=fV.extend({name:"history",instancePerEditor:!0,addOptions(){return{depth:100,newGroupDelay:500,redirectState:void 0,redirectDispatch:void 0}},addCommands(){return{undo:()=>({state:e,dispatch:t,tr:n})=>{var s,i;const r=(i=(s=this.options).redirectState)==null?void 0:i.call(s),o=t&&this.options.redirectDispatch;return r?(t&&n.setMeta(Nu,!0),Ha(r,o)):Ha(e,t)},redo:()=>({state:e,dispatch:t,tr:n})=>{var s,i;const r=(i=(s=this.options).redirectState)==null?void 0:i.call(s),o=this.options.redirectDispatch;return r?(n.setMeta(Nu,!0),Fa(r,o),!0):Fa(e,t)},setHistoryRedirect:(e,t)=>({dispatch:n})=>(n&&(this.options.redirectState=e,this.options.redirectDispatch=t),!0)}},addProseMirrorPlugins(){return[a1(this.options),new Oe({key:new Re("history-forwarding"),filterTransaction:e=>!e.getMeta(Nu)})]}}),pV={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 512 512"};function mV(e,t){return z(),ee("svg",pV,t[0]||(t[0]=[le("path",{fill:"currentColor",d:"M432 320h-32a16 16 0 0 0-16 16v112H64V128h144a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16H48a48 48 0 0 0-48 48v352a48 48 0 0 0 48 48h352a48 48 0 0 0 48-48V336a16 16 0 0 0-16-16M488 0H360c-21.37 0-32.05 25.91-17 41l35.73 35.73L135 320.37a24 24 0 0 0 0 34L157.67 377a24 24 0 0 0 34 0l243.61-243.68L471 169c15 15 41 4.5 41-17V24a24 24 0 0 0-24-24"},null,-1)]))}const u1=Me({name:"fa-solid-external-link-alt",render:mV}),gV={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 448 512"};function _V(e,t){return z(),ee("svg",gV,t[0]||(t[0]=[le("path",{fill:"currentColor",d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24m120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97"},null,-1)]))}const d1=Me({name:"fa-solid-copy",render:_V}),yV={contenteditable:"false",class:"absolute top-1 right-1 rounded bg-neutral-400/70 border-neutral-200 dark:bg-neutral-700/70 dark:border-neutral-700 p-1 flex gap-1 opacity-0 group-hover/embed:opacity-100 transition-opacity"},bV=Se({__name:"IframeNodeView",props:Gi,setup(e){const t=e;function n(){t.editor.commands.openExternalLink(t.node.attrs.src)}return(r,o)=>{const s=dh,i=yn,l=d1,a=u1;return z(),ke(S(qi),{class:st(S(Bn)(`
		frame-wrapper
		group/embed
		relative
		max-w-[var(--pmMaxEmbedWidth)]
		max-h-[var(--pmMaxEmbedHeight,_var(--pmMaxEmbedWidth))]
	`)),style:Wn(`aspect-ratio: ${r.node.attrs.aspectRatio}`)},{default:me(()=>[le("div",yV,[te(S(dr),{border:!1,onClick:o[0]||(o[0]=c=>{r.deleteNode(),r.editor.commands.focus()})},{default:me(()=>[te(i,null,{default:me(()=>[te(s)]),_:1})]),_:1}),te(S(dr),{border:!1,onClick:o[1]||(o[1]=c=>S(Ei)(r.node.attrs.src))},{default:me(()=>[te(i,null,{default:me(()=>[te(l)]),_:1})]),_:1}),te(S(dr),{border:!1,onClick:n},{default:me(()=>[te(i,null,{default:me(()=>[te(a,{class:"w-[1.25em]"})]),_:1})]),_:1})]),te(S(ch),Ve({as:"iframe",class:S(Bn)(`
		w-full
		`,r.node.attrs.class),style:`aspect-ratio: ${r.node.attrs.aspectRatio}`},r.node.attrs),null,16,["class","style"]),It(" "+Dt(Object.keys(r.node.attrs)),1)]),_:1},8,["class","style"])}}}),f1=["fullscreen","accelerometer","autoplay","clipboard-write","encrypted-media","gyroscope","picture-in-picture","web-share"].join(";");function kh(e,t){for(const[n,r]of Object.entries(t))e.searchParams.has(n)||e.searchParams.set(n,r);return e.toString()}function vV(e,t=16/9){const n=e.getAttribute("width"),r=e.getAttribute("height"),o=n?parseInt(n,10):null,s=r?parseInt(r,10):null;return typeof o=="number"&&typeof s=="number"?o/s:t}class wh{constructor(){We(this,"cache",new Map);We(this,"defaultAttributes",{aspectRatio:16/9});We(this,"defaultQueryParams",{})}parseAttributes(t){const n=t.getAttribute("src"),r=t.getAttribute("allow"),o=vV(t,this.defaultAttributes.aspectRatio);return n?{src:n,allow:r,aspectRatio:o}:!1}cleanUrl(t){const n=new URL(t);return kh(n,this.defaultQueryParams),n.toString()}}class EV extends wh{constructor(){super(...arguments);We(this,"defaultAttributes",{allow:f1,referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:"true",aspectRatio:16/9});We(this,"defaultQueryParams",{controls:1});We(this,"matchUrl",/^((?:(?:http)s?:(?:\/\/))?(?:www.)?(?:youtube.com|youtu.be.com)[^ ]*)$/g)}}class kV extends wh{constructor(){super(...arguments);We(this,"defaultAttributes",{aspectRatio:9/12});We(this,"defaultQueryParams",{});We(this,"matchUrl",/^((?:(?:http)s?:(?:\/\/))?(?:www.)?(?:instagram.com)\/p[^ ]*)$/g)}cleanUrl(n){const r=new URL(n);return kh(r,this.defaultQueryParams),r.pathname.includes("/embed")||(r.pathname+=r.pathname.endsWith("/")?"embed":"/embed"),r.toString()}}class wV extends wh{constructor(){super(...arguments);We(this,"defaultAttributes",{aspectRatio:16/9,allow:["autoplay","fullscreen","picture-in-picture"].join(";")});We(this,"matchUrl",/^((?:(?:http)s?:(?:\/\/))?(?:www.)?(?:player.)?(?:vimeo.com)\/[^ ]*)$/g)}cleanUrl(n){const r=new URL(n);return kh(r,this.defaultQueryParams),r.pathname.includes("/video")&&r.hostname.includes("player.vimeo.com")?r.toString():(r.pathname=`/video${r.pathname}`,new URL(r.pathname,"https://player.vimeo.com/video").toString())}}const xV=bt.create({name:"iframe",group:"block",atom:!0,addOptions(){return{HTMLAttributes:{},handlers:{youtube:new EV,instagram:new kV,vimeo:new wV}}},addAttributes(){return{src:{default:null},frameborder:{default:0},allow:f1,aspectRatio:{default:16/9}}},parseHTML(){return[{tag:"iframe",getAttrs:e=>{var n;const t=e.getAttribute("src");if(!t)return!1;for(const r of Object.values(this.options.handlers))if((n=r.matchUrl)!=null&&n.test(t)){const o=r.parseAttributes(e);if(o)return{...o,src:r.cleanUrl(t)}}return{src:t}}}]},renderHTML({HTMLAttributes:e}){var t;return["div",$e(this.options.HTMLAttributes,e,{class:`
					iframe-wrapper
					group/embed
					relative
					w-[99%]
					max-w-[var(--pm-max-embed-width)]
					${(e==null?void 0:e.class)??((t=this.options.HTMLAttributes)==null?void 0:t.class)??""}
				`}),["iframe",{class:"w-full aspect-video"}]]},addPasteRules(){return[vR({find:e=>{for(const[t,n]of Object.entries(this.options.handlers)){if(!n.matchUrl)continue;const r=e.match(n.matchUrl);if(r)return[{...r,text:e,index:0,type:t}]}return null},type:this.type,getAttributes:e=>{for(const t of Object.values(this.options.handlers))if(t.matchUrl&&e[0].match(t.matchUrl))return{...t.defaultAttributes,src:t.cleanUrl(e[0])};return!1}})]},addNodeView(){return Ji(bV)},addCommands(){return{setIframe:e=>({tr:t,dispatch:n})=>{const{selection:r}=t,o=this.type.create(e);return n&&t.replaceRangeWith(r.from,r.to,o),!0},setIframeOptions:e=>({commands:t})=>t.updateAttributes(this.name,e)}}}),CV=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,TV=bt.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",$e(this.options.HTMLAttributes,e)]},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[gR({find:CV,type:this.type,getAttributes:e=>{const[,,t,n,r]=e;return{src:n,alt:t,title:r}}})]}}),SV=TV.configure({HTMLAttributes:{class:`
			rounded-sm
			block h-auto max-w-full 
			[&.ProseMirror-selectednode]:outline
			[&.ProseMirror-selectednode]:outline-offset-0
			[&.ProseMirror-selectednode]:outline-accent-500
		`},allowBase64:!0}),MV="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",AV="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Os=(e,t)=>{for(const n in t)e[n]=t[n];return e},Xd="numeric",Yd="ascii",Qd="alpha",Hl="asciinumeric",_l="alphanumeric",Zd="domain",h1="emoji",OV="scheme",IV="slashscheme",Tg="whitespace";function RV(e,t){return e in t||(t[e]=[]),t[e]}function yo(e,t,n){t[Xd]&&(t[Hl]=!0,t[_l]=!0),t[Yd]&&(t[Hl]=!0,t[Qd]=!0),t[Hl]&&(t[_l]=!0),t[Qd]&&(t[_l]=!0),t[_l]&&(t[Zd]=!0),t[h1]&&(t[Zd]=!0);for(const r in t){const o=RV(r,n);o.indexOf(e)<0&&o.push(e)}}function DV(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}function Kt(e){e===void 0&&(e=null),this.j={},this.jr=[],this.jd=null,this.t=e}Kt.groups={};Kt.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const o=t.jr[r][0],s=t.jr[r][1];if(s&&o.test(e))return s}return t.jd},has(e,t){return t===void 0&&(t=!1),t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let o=0;o<e.length;o++)this.tt(e[o],t,n,r)},tr(e,t,n,r){r=r||Kt.groups;let o;return t&&t.j?o=t:(o=new Kt(t),n&&r&&yo(t,n,r)),this.jr.push([e,o]),o},ts(e,t,n,r){let o=this;const s=e.length;if(!s)return o;for(let i=0;i<s-1;i++)o=o.tt(e[i]);return o.tt(e[s-1],t,n,r)},tt(e,t,n,r){r=r||Kt.groups;const o=this;if(t&&t.j)return o.j[e]=t,t;const s=t;let i,l=o.go(e);if(l?(i=new Kt,Os(i.j,l.j),i.jr.push.apply(i.jr,l.jr),i.jd=l.jd,i.t=l.t):i=new Kt,s){if(r)if(i.t&&typeof i.t=="string"){const a=Os(DV(i.t,r),n);yo(s,a,r)}else n&&yo(s,n,r);i.t=s}return o.j[e]=i,i}};const Ce=(e,t,n,r,o)=>e.ta(t,n,r,o),cn=(e,t,n,r,o)=>e.tr(t,n,r,o),Sg=(e,t,n,r,o)=>e.ts(t,n,r,o),se=(e,t,n,r,o)=>e.tt(t,n,r,o),or="WORD",ef="UWORD",Di="LOCALHOST",tf="TLD",nf="UTLD",Fl="SCHEME",rs="SLASH_SCHEME",xh="NUM",p1="WS",Ch="NL",ci="OPENBRACE",ui="CLOSEBRACE",za="OPENBRACKET",Ka="CLOSEBRACKET",Wa="OPENPAREN",Ua="CLOSEPAREN",qa="OPENANGLEBRACKET",Ga="CLOSEANGLEBRACKET",Ja="FULLWIDTHLEFTPAREN",Xa="FULLWIDTHRIGHTPAREN",Ya="LEFTCORNERBRACKET",Qa="RIGHTCORNERBRACKET",Za="LEFTWHITECORNERBRACKET",ec="RIGHTWHITECORNERBRACKET",tc="FULLWIDTHLESSTHAN",nc="FULLWIDTHGREATERTHAN",rc="AMPERSAND",oc="APOSTROPHE",sc="ASTERISK",Lr="AT",ic="BACKSLASH",lc="BACKTICK",ac="CARET",Pr="COLON",Th="COMMA",cc="DOLLAR",Pn="DOT",uc="EQUALS",Sh="EXCLAMATION",Nn="HYPHEN",dc="PERCENT",fc="PIPE",hc="PLUS",pc="POUND",mc="QUERY",Mh="QUOTE",Ah="SEMI",Vn="SLASH",di="TILDE",gc="UNDERSCORE",m1="EMOJI",_c="SYM";var g1=Object.freeze({__proto__:null,WORD:or,UWORD:ef,LOCALHOST:Di,TLD:tf,UTLD:nf,SCHEME:Fl,SLASH_SCHEME:rs,NUM:xh,WS:p1,NL:Ch,OPENBRACE:ci,CLOSEBRACE:ui,OPENBRACKET:za,CLOSEBRACKET:Ka,OPENPAREN:Wa,CLOSEPAREN:Ua,OPENANGLEBRACKET:qa,CLOSEANGLEBRACKET:Ga,FULLWIDTHLEFTPAREN:Ja,FULLWIDTHRIGHTPAREN:Xa,LEFTCORNERBRACKET:Ya,RIGHTCORNERBRACKET:Qa,LEFTWHITECORNERBRACKET:Za,RIGHTWHITECORNERBRACKET:ec,FULLWIDTHLESSTHAN:tc,FULLWIDTHGREATERTHAN:nc,AMPERSAND:rc,APOSTROPHE:oc,ASTERISK:sc,AT:Lr,BACKSLASH:ic,BACKTICK:lc,CARET:ac,COLON:Pr,COMMA:Th,DOLLAR:cc,DOT:Pn,EQUALS:uc,EXCLAMATION:Sh,HYPHEN:Nn,PERCENT:dc,PIPE:fc,PLUS:hc,POUND:pc,QUERY:mc,QUOTE:Mh,SEMI:Ah,SLASH:Vn,TILDE:di,UNDERSCORE:gc,EMOJI:m1,SYM:_c});const Zo=/[a-z]/,Vu=new RegExp("\\p{L}","u"),$u=new RegExp("\\p{Emoji}","u"),Bu=/\d/,Mg=/\s/,Ag=`
`,LV="",jV="";let yl=null,bl=null;function PV(e){e===void 0&&(e=[]);const t={};Kt.groups=t;const n=new Kt;yl==null&&(yl=Og(MV)),bl==null&&(bl=Og(AV)),se(n,"'",oc),se(n,"{",ci),se(n,"}",ui),se(n,"[",za),se(n,"]",Ka),se(n,"(",Wa),se(n,")",Ua),se(n,"<",qa),se(n,">",Ga),se(n,"",Ja),se(n,"",Xa),se(n,"",Ya),se(n,"",Qa),se(n,"",Za),se(n,"",ec),se(n,"",tc),se(n,"",nc),se(n,"&",rc),se(n,"*",sc),se(n,"@",Lr),se(n,"`",lc),se(n,"^",ac),se(n,":",Pr),se(n,",",Th),se(n,"$",cc),se(n,".",Pn),se(n,"=",uc),se(n,"!",Sh),se(n,"-",Nn),se(n,"%",dc),se(n,"|",fc),se(n,"+",hc),se(n,"#",pc),se(n,"?",mc),se(n,'"',Mh),se(n,"/",Vn),se(n,";",Ah),se(n,"~",di),se(n,"_",gc),se(n,"\\",ic);const r=cn(n,Bu,xh,{[Xd]:!0});cn(r,Bu,r);const o=cn(n,Zo,or,{[Yd]:!0});cn(o,Zo,o);const s=cn(n,Vu,ef,{[Qd]:!0});cn(s,Zo),cn(s,Vu,s);const i=cn(n,Mg,p1,{[Tg]:!0});se(n,Ag,Ch,{[Tg]:!0}),se(i,Ag),cn(i,Mg,i);const l=cn(n,$u,m1,{[h1]:!0});cn(l,$u,l),se(l,LV,l);const a=se(l,jV);cn(a,$u,l);const c=[[Zo,o]],u=[[Zo,null],[Vu,s]];for(let d=0;d<yl.length;d++)Cr(n,yl[d],tf,or,c);for(let d=0;d<bl.length;d++)Cr(n,bl[d],nf,ef,u);yo(tf,{tld:!0,ascii:!0},t),yo(nf,{utld:!0,alpha:!0},t),Cr(n,"file",Fl,or,c),Cr(n,"mailto",Fl,or,c),Cr(n,"http",rs,or,c),Cr(n,"https",rs,or,c),Cr(n,"ftp",rs,or,c),Cr(n,"ftps",rs,or,c),yo(Fl,{scheme:!0,ascii:!0},t),yo(rs,{slashscheme:!0,ascii:!0},t),e=e.sort((d,f)=>d[0]>f[0]?1:-1);for(let d=0;d<e.length;d++){const f=e[d][0],p=e[d][1]?{[OV]:!0}:{[IV]:!0};f.indexOf("-")>=0?p[Zd]=!0:Zo.test(f)?Bu.test(f)?p[Hl]=!0:p[Yd]=!0:p[Xd]=!0,Sg(n,f,f,p)}return Sg(n,"localhost",Di,{ascii:!0}),n.jd=new Kt(_c),{start:n,tokens:Os({groups:t},g1)}}function NV(e,t){const n=VV(t.replace(/[A-Z]/g,l=>l.toLowerCase())),r=n.length,o=[];let s=0,i=0;for(;i<r;){let l=e,a=null,c=0,u=null,d=-1,f=-1;for(;i<r&&(a=l.go(n[i]));)l=a,l.accepts()?(d=0,f=0,u=l):d>=0&&(d+=n[i].length,f++),c+=n[i].length,s+=n[i].length,i++;s-=d,i-=f,c-=d,o.push({t:u.t,v:t.slice(s-c,s),s:s-c,e:s})}return o}function VV(e){const t=[],n=e.length;let r=0;for(;r<n;){let o=e.charCodeAt(r),s,i=o<55296||o>56319||r+1===n||(s=e.charCodeAt(r+1))<56320||s>57343?e[r]:e.slice(r,r+2);t.push(i),r+=i.length}return t}function Cr(e,t,n,r,o){let s;const i=t.length;for(let l=0;l<i-1;l++){const a=t[l];e.j[a]?s=e.j[a]:(s=new Kt(r),s.jr=o.slice(),e.j[a]=s),e=s}return s=new Kt(n),s.jr=o.slice(),e.j[t[i-1]]=s,s}function Og(e){const t=[],n=[];let r=0,o="0123456789";for(;r<e.length;){let s=0;for(;o.indexOf(e[r+s])>=0;)s++;if(s>0){t.push(n.join(""));for(let i=parseInt(e.substring(r,r+s),10);i>0;i--)n.pop();r+=s}else n.push(e[r]),r++}return t}const Li={defaultProtocol:"http",events:null,format:Ig,formatHref:Ig,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Oh(e,t){t===void 0&&(t=null);let n=Os({},Li);e&&(n=Os(n,e instanceof Oh?e.o:e));const r=n.ignoreTags,o=[];for(let s=0;s<r.length;s++)o.push(r[s].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=o}Oh.prototype={o:Li,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=t!=null;let o=this.o[e];return o&&(typeof o=="object"?(o=n.t in o?o[n.t]:Li[e],typeof o=="function"&&r&&(o=o(t,n))):typeof o=="function"&&r&&(o=o(t,n.t,n)),o)},getObj(e,t,n){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function Ig(e){return e}function _1(e,t){this.t="token",this.v=e,this.tk=t}_1.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e){return e===void 0&&(e=Li.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),o=e.get("tagName",n,t),s=this.toFormattedString(e),i={},l=e.get("className",n,t),a=e.get("target",n,t),c=e.get("rel",n,t),u=e.getObj("attributes",n,t),d=e.getObj("events",n,t);return i.href=r,l&&(i.class=l),a&&(i.target=a),c&&(i.rel=c),u&&Os(i,u),{tagName:o,attributes:i,content:s,eventListeners:d}}};function qc(e,t){class n extends _1{constructor(o,s){super(o,s),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}const Rg=qc("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Dg=qc("text"),$V=qc("nl"),vl=qc("url",{isLink:!0,toHref(e){return e===void 0&&(e=Li.defaultProtocol),this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==Di&&e[1].t===Pr}}),un=e=>new Kt(e);function BV(e){let{groups:t}=e;const n=t.domain.concat([rc,sc,Lr,ic,lc,ac,cc,uc,Nn,xh,dc,fc,hc,pc,Vn,_c,di,gc]),r=[oc,Pr,Th,Pn,Sh,mc,Mh,Ah,qa,Ga,ci,ui,Ka,za,Wa,Ua,Ja,Xa,Ya,Qa,Za,ec,tc,nc],o=[rc,oc,sc,ic,lc,ac,cc,uc,Nn,ci,ui,dc,fc,hc,pc,mc,Vn,_c,di,gc],s=un(),i=se(s,di);Ce(i,o,i),Ce(i,t.domain,i);const l=un(),a=un(),c=un();Ce(s,t.domain,l),Ce(s,t.scheme,a),Ce(s,t.slashscheme,c),Ce(l,o,i),Ce(l,t.domain,l);const u=se(l,Lr);se(i,Lr,u),se(a,Lr,u),se(c,Lr,u);const d=se(i,Pn);Ce(d,o,i),Ce(d,t.domain,i);const f=un();Ce(u,t.domain,f),Ce(f,t.domain,f);const h=se(f,Pn);Ce(h,t.domain,f);const p=un(Rg);Ce(h,t.tld,p),Ce(h,t.utld,p),se(u,Di,p);const g=se(f,Nn);Ce(g,t.domain,f),Ce(p,t.domain,f),se(p,Pn,h),se(p,Nn,g);const y=se(p,Pr);Ce(y,t.numeric,Rg);const _=se(l,Nn),w=se(l,Pn);Ce(_,t.domain,l),Ce(w,o,i),Ce(w,t.domain,l);const b=un(vl);Ce(w,t.tld,b),Ce(w,t.utld,b),Ce(b,t.domain,l),Ce(b,o,i),se(b,Pn,w),se(b,Nn,_),se(b,Lr,u);const E=se(b,Pr),T=un(vl);Ce(E,t.numeric,T);const x=un(vl),D=un();Ce(x,n,x),Ce(x,r,D),Ce(D,n,x),Ce(D,r,D),se(b,Vn,x),se(T,Vn,x);const N=se(a,Pr),M=se(c,Pr),O=se(M,Vn),$=se(O,Vn);Ce(a,t.domain,l),se(a,Pn,w),se(a,Nn,_),Ce(c,t.domain,l),se(c,Pn,w),se(c,Nn,_),Ce(N,t.domain,x),se(N,Vn,x),Ce($,t.domain,x),Ce($,n,x),se($,Vn,x);const v=[[ci,ui],[za,Ka],[Wa,Ua],[qa,Ga],[Ja,Xa],[Ya,Qa],[Za,ec],[tc,nc]];for(let L=0;L<v.length;L++){const[H,W]=v[L],P=se(x,H);se(D,H,P),se(P,W,x);const k=un(vl);Ce(P,n,k);const I=un();Ce(P,r),Ce(k,n,k),Ce(k,r,I),Ce(I,n,k),Ce(I,r,I),se(k,W,x),se(I,W,x)}return se(s,Di,b),se(s,Ch,$V),{start:s,tokens:g1}}function HV(e,t,n){let r=n.length,o=0,s=[],i=[];for(;o<r;){let l=e,a=null,c=null,u=0,d=null,f=-1;for(;o<r&&!(a=l.go(n[o].t));)i.push(n[o++]);for(;o<r&&(c=a||l.go(n[o].t));)a=null,l=c,l.accepts()?(f=0,d=l):f>=0&&f++,o++,u++;if(f<0)o-=u,o<r&&(i.push(n[o]),o++);else{i.length>0&&(s.push(Hu(Dg,t,i)),i=[]),o-=f,u-=f;const h=d.t,p=n.slice(o-u,o);s.push(Hu(h,t,p))}}return i.length>0&&s.push(Hu(Dg,t,i)),s}function Hu(e,t,n){const r=n[0].s,o=n[n.length-1].e,s=t.slice(r,o);return new e(s,n)}const FV=typeof console<"u"&&console&&console.warn||(()=>{}),zV="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Ze={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function KV(){Kt.groups={},Ze.scanner=null,Ze.parser=null,Ze.tokenQueue=[],Ze.pluginQueue=[],Ze.customSchemes=[],Ze.initialized=!1}function Lg(e,t){if(t===void 0&&(t=!1),Ze.initialized&&FV(`linkifyjs: already initialized - will not register custom scheme "${e}" ${zV}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Ze.customSchemes.push([e,t])}function WV(){Ze.scanner=PV(Ze.customSchemes);for(let e=0;e<Ze.tokenQueue.length;e++)Ze.tokenQueue[e][1]({scanner:Ze.scanner});Ze.parser=BV(Ze.scanner.tokens);for(let e=0;e<Ze.pluginQueue.length;e++)Ze.pluginQueue[e][1]({scanner:Ze.scanner,parser:Ze.parser});Ze.initialized=!0}function y1(e){return Ze.initialized||WV(),HV(Ze.parser.start,e,NV(Ze.scanner.start,e))}function b1(e,t,n){if(t===void 0&&(t=null),n===void 0&&(n=null),t&&typeof t=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new Oh(n),o=y1(e),s=[];for(let i=0;i<o.length;i++){const l=o[i];l.isLink&&(!t||l.t===t)&&r.check(l)&&s.push(l.toFormattedObject(r))}return s}function UV(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function qV(e){return new Oe({key:new Re("autolink"),appendTransaction:(t,n,r)=>{const o=t.some(c=>c.docChanged)&&!n.doc.eq(r.doc),s=t.some(c=>c.getMeta("preventAutolink"));if(!o||s)return;const{tr:i}=r,l=O2(n.doc,[...t]);if($2(l).forEach(({newRange:c})=>{const u=R2(r.doc,c,h=>h.isTextblock);let d,f;if(u.length>1?(d=u[0],f=r.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ")):u.length&&r.doc.textBetween(c.from,c.to," "," ").endsWith(" ")&&(d=u[0],f=r.doc.textBetween(d.pos,c.to,void 0," ")),d&&f){const h=f.split(" ").filter(_=>_!=="");if(h.length<=0)return!1;const p=h[h.length-1],g=d.pos+f.lastIndexOf(p);if(!p)return!1;const y=y1(p).map(_=>_.toObject(e.defaultProtocol));if(!UV(y))return!1;y.filter(_=>_.isLink).map(_=>({..._,from:g+_.start+1,to:g+_.end+1})).filter(_=>r.schema.marks.code?!r.doc.rangeHasMark(_.from,_.to,r.schema.marks.code):!0).filter(_=>e.validate(_.value)).forEach(_=>{lh(_.from,_.to,r.doc).some(w=>w.mark.type===e.type)||i.addMark(_.from,_.to,e.type.create({href:_.href}))})}}),!!i.steps.length)return i}})}function GV(e){return new Oe({key:new Re("handleClickLink"),props:{handleClick:(t,n,r)=>{var o,s;if(r.button!==0||!t.editable)return!1;let i=r.target;const l=[];for(;i.nodeName!=="DIV";)l.push(i),i=i.parentNode;if(!l.find(f=>f.nodeName==="A"))return!1;const a=ih(t.state,e.type.name),c=r.target,u=(o=c==null?void 0:c.href)!==null&&o!==void 0?o:a.href,d=(s=c==null?void 0:c.target)!==null&&s!==void 0?s:a.target;return c&&u?(window.open(u,d),!0):!1}}})}function JV(e){return new Oe({key:new Re("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{state:o}=t,{selection:s}=o,{empty:i}=s;if(i)return!1;let l="";r.content.forEach(c=>{l+=c.textContent});const a=b1(l,{defaultProtocol:e.defaultProtocol}).find(c=>c.isLink&&c.value===l);return!l||!a?!1:(e.editor.commands.setMark(e.type,{href:a.href}),!0)}}})}const XV=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function jg(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(r=>{const o=typeof r=="string"?r:r.scheme;o&&n.push(o)}),!e||e.replace(XV,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z+.-]+(?:[^a-z+.-:]|$))`,"i"))}const YV=Xt.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.protocols.forEach(e=>{if(typeof e=="string"){Lg(e);return}Lg(e.scheme,e.optionalSlashes)})},onDestroy(){KV()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:e=>!!e}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!t||!jg(t,this.options.protocols)?!1:null}}]},renderHTML({HTMLAttributes:e}){return jg(e.href,this.options.protocols)?["a",$e(this.options.HTMLAttributes,e),0]:["a",$e(this.options.HTMLAttributes,{...e,href:""}),0]},addCommands(){return{setLink:e=>({chain:t})=>t().setMark(this.name,e).setMeta("preventAutolink",!0).run(),toggleLink:e=>({chain:t})=>t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[mr({find:e=>{const t=[];if(e){const{validate:n}=this.options,r=b1(e).filter(o=>o.isLink&&n(o.value));r.length&&r.forEach(o=>t.push({text:o.value,data:{href:o.href},index:o.start}))}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)===null||t===void 0?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[];return this.options.autolink&&e.push(qV({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:this.options.validate})),this.options.openOnClick===!0&&e.push(GV({type:this.type})),this.options.linkOnPaste&&e.push(JV({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),e}}),Bt=new Re("linkMenuState"),Pg=new Re("directLinkClickWithModifierPluginState");function zl(e,t,n){const r=Er(t,e.schema),o=e.doc.resolve(n),s=o.parentOffset===o.parent.nodeSize-2,i=s?o.parentOffset-1:o.parentOffset,l=o.parent.childAfter(i);if(!l)return null;function a(p){const g=p.marks;for(const y of g)if(y.type===r)return!0;return!1}const c=o.parent;let u=o.index()-(s?1:0)-1,d=o.start()+((l==null?void 0:l.offset)??0),f=d,h=u+1;for(;u>0&&a(c.child(u));){const g=c.child(u).nodeSize;u-=1,d-=g}for(;h<c.childCount&&a(c.child(h));){const g=c.child(h).nodeSize;h+=1,f+=g}return{from:d,to:f}}function Ys(e){const t=e.selection,n=[],o=t.$from.parentOffset===t.$to.parent.nodeSize-2?t.from-1:t.from,s=t.empty?t.from+1:t.to;return e.doc.nodesBetween(o,s,i=>{if(i.marks)for(const l of i.marks)n.push(l);return!0}),n}const QV=YV.extend({name:"link",instancePerEditor:!0,addOptions(){var t,n;const e=/internal:\/\/[0-9a-zA-Z_-]+/;return{...(t=this.parent)==null?void 0:t.call(this),openOnClick:!1,openLinkOnClickModifier:"ctrlKey",defaultProtocol:"https",protocols:["https","internal","http","ftp","ftps","mailto","tel","callto","sms","cid","xmpp","internal"],HTMLAttributes:{...(n=this.parent)==null?void 0:n.call(this).HTMLAttributes,rel:"noopener noreferrer"},isInternalLink(r){return!!r.match(e)},openInternal:r=>{window.alert(it`
					Editor requesting to open internal link "${r}", but opening of internal links is not implemented.
					Please specify how to open internal links with editor.commands.setLinkOpts.`),console.warn(it`
					Requesting to open internal link: ${r}.
					Please specify how to open internal links with editor.commands.setLinkOpts.`)},openExternal:r=>{window.open(r,"_blank")}}},addAttributes(){var e;return{...(e=this.parent)==null?void 0:e.call(this),internal:{default:!1,parseHTML:t=>{const n=t.getAttribute("href");return n&&this.options.isInternalLink(n)}}}},addKeyboardShortcuts(){return{}},addCommands(){var e;return{...(e=this.parent)==null?void 0:e.call(this),openLinkMenu:({type:t="external"}={})=>({tr:n,state:r,dispatch:o})=>{var l;const s=(l=Bt.getState(r))==null?void 0:l.state,i=Ys(r).find(a=>a.type.name===this.name);return o&&(n.setMeta("addToHistory",!1),n.setMeta(Bt,{type:t,state:s?"focus":i?"open":"focus"})),!0},closeLinkMenu:()=>({tr:t,state:n,commands:r,dispatch:o})=>{var i;return((i=Bt.getState(n))==null?void 0:i.state)?(o&&(t.setMeta(Bt,{state:!1,type:void 0}),r.focus()),!0):!1},setLinkMenuOpts:t=>({tr:n,dispatch:r})=>(r&&n.setMeta(Bt,t),!0),setLinkOpts:t=>({dispatch:n})=>{if(!n)return!0;for(const r of sn(t))this.options[r]=t[r];return!0},expandSelectionToLink:()=>({tr:t,state:n,dispatch:r})=>{const o=zl(n,this.type,n.selection.from);return o?(r&&t.setSelection(ce.create(n.doc,o.from,o.to)),!0):!1},changeOrAddLink:(t,n,r=!1)=>({tr:o,state:s,commands:i,dispatch:l})=>{const a=Ys(s).find(p=>p.type.name===this.name),c=this.type.create({href:t,internal:r}),u=a&&(zl(s,this.type,s.selection.from)??zl(s,this.type,s.selection.to)),{from:d,to:f,empty:h}=s.selection;if(a&&u&&(h||u.from<=d&&u.to>=f)){if(!u)return!1;l&&(o.doc.cut(u.from,u.to).textContent!==n?(o.delete(u.from,u.to),o.insertText(n,u.from),o.addMark(u.from,u.from+n.length,c)):(o.removeMark(u.from,u.to,this.type),o.addMark(u.from,u.to,c)))}else if(l){const p=f+n.length;o.delete(d,f),o.insertText(n,d),o.addMark(d,p,c),o.setSelection(ce.create(o.doc,p,p))}return l&&o.setMeta(Bt,{justChangedLink:!0}),i.focus()},openInternalLink:t=>({dispatch:n})=>(n&&this.options.openInternal(t),!0),openExternalLink:t=>({dispatch:n})=>(n&&this.options.openExternal(t),!0)}},onCreate(){"registerMenu"in this.editor.commands&&this.editor.commands.registerMenu({name:"linkMenu",pluginKey:Bt,type:"mark",closeCommand:"closeLinkMenu",canShow:(e,t)=>!!(t!=null&&t.state)})},addProseMirrorPlugins(){var r;const e=this,t=new Oe({key:Pg,props:{handleClick(o,s,i){var u;if(e.options.openOnClick)return!1;const l=ih(o.state,"link"),a=(u=i.target)==null?void 0:u.closest("a"),c=e.options.openLinkOnClickModifier;return!c||!a||!l.href?!1:i[c]&&i.button===0?(l.internal?e.editor.commands.openInternalLink(l.href):e.editor.commands.openExternalLink(l.href),!0):!1}}}),n=new Oe({key:Bt,appendTransaction(o,s,i){const l=Bt.getState(i),a=(l==null?void 0:l.justChangedLink)??!1,c=Ys(i).find(f=>f.type.name===e.name),u=Ys(s).find(f=>f.type.name===e.name);if(!s.selection.eq(i.selection)){const f=(l==null?void 0:l.state)??!1,p=((l==null?void 0:l.allowAutoOpenOnRecentlyChangedLink)??!1)&&a,g=u!==c&&!p;if(((l==null?void 0:l.autoOpen)??!1)&&c){const y=g?"open":f,_=i.tr;return _.setMeta(Bt,{...l,state:y,justChangedLink:!1,type:c.attrs.internal?"internal":"external"}),_}else{const y=i.tr;return y.setMeta(Bt,{...l,state:!1,justChangedLink:!1,type:void 0}),y}}},state:{init(){return{state:!1,justChangedLink:!1,type:void 0,autoOpen:!0,allowAutoOpenOnRecentlyChangedLink:!0}},apply:Xi(Bt)}});return[...(((r=this.parent)==null?void 0:r.call(this))??[]).filter(o=>o.spec.key!==Bt&&o.spec.key!==Pg),n,t]}}),ZV=Tt.create({name:"menus",instancePerEditor:!0,addStorage(){return{menus:[]}},addCommands(){return{enableMarkMenus:()=>({tr:e,dispatch:t})=>(t&&e.setMeta(tn,{canShow:!0}),!0),disableMarkMenus:()=>({tr:e,dispatch:t})=>(t&&e.setMeta(tn,{canShow:!1}),!0),registerMenu:e=>()=>{const t=this.storage.menus,n=t.findIndex(r=>r.name===e.name);return n>=0&&(console.warn("Menu already registered, replacing.",{existing:t[n],new:e}),t.splice(n,1,e)),t.push(e),t.sort((r,o)=>(o.priority??0)-(r.priority??0)),!0},unregisterMenu:e=>({tr:t})=>{const n=this.storage.menus,r=n.indexOf(e);return r!==-1?(n.splice(r,1),t.setMeta(tn,{menus:n}),!0):!1},pinOpenMenu:e=>({dispatch:t,tr:n,commands:r})=>{const s=this.storage.menus.find(i=>i.name===e.name);return s?(r.closeOtherMenus(!0),t&&n.setMeta(tn,{state:!0,pin:!0,menu:s}),!0):(console.warn("Menu to open not found.",e),!1)},closeOtherMenus:(e=!1)=>({dispatch:t,tr:n,state:r,commands:o})=>{const s=tn.getState(r);if(s!=null&&s.pin&&!e)return!1;const i=s==null?void 0:s.menu;return i!=null&&i.closeCommand?(o[i.closeCommand](),t&&n.setMeta(tn,{state:!1,menu:void 0}),!0):!1}}},addProseMirrorPlugins(){const e=this;return[new Oe({key:tn,state:{init(){return{state:!1,pin:!1,canShow:!0}},apply:Xi(tn)},appendTransaction(t,n,r){var c;if(t.some(u=>u.getMeta(tn)))return;const s=e.storage.menus,i=e$(s,r),l=tn.getState(r),a=tn.getState(n);if(!(a!=null&&a.pin)&&((l==null?void 0:l.state)!==!!i||((c=l==null?void 0:l.menu)==null?void 0:c.name)!==(i==null?void 0:i.name)))return r.tr.setMeta(tn,{state:!!i,menu:i?{name:i.name,type:i.type,closeCommand:i.closeCommand}:void 0})}})]}});function e$(e,t){if(e)for(const n of e){const r=n.pluginKey.getState(t);if(r===void 0&&console.warn("Menu plugin state is undefined. Did you register a plugin with this key?",n.pluginKey,n.name),n.canShow(t,r))return n}}var rf,of;if(typeof WeakMap<"u"){let e=new WeakMap;rf=t=>e.get(t),of=(t,n)=>(e.set(t,n),n)}else{const e=[];let n=0;rf=r=>{for(let o=0;o<e.length;o+=2)if(e[o]==r)return e[o+1]},of=(r,o)=>(n==10&&(n=0),e[n++]=r,e[n++]=o)}var rt=class{constructor(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r}findCell(e){for(let t=0;t<this.map.length;t++){const n=this.map[t];if(n!=e)continue;const r=t%this.width,o=t/this.width|0;let s=r+1,i=o+1;for(let l=1;s<this.width&&this.map[t+l]==n;l++)s++;for(let l=1;i<this.height&&this.map[t+this.width*l]==n;l++)i++;return{left:r,top:o,right:s,bottom:i}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){const{left:r,right:o,top:s,bottom:i}=this.findCell(e);return t=="horiz"?(n<0?r==0:o==this.width)?null:this.map[s*this.width+(n<0?r-1:o)]:(n<0?s==0:i==this.height)?null:this.map[r+this.width*(n<0?s-1:i)]}rectBetween(e,t){const{left:n,right:r,top:o,bottom:s}=this.findCell(e),{left:i,right:l,top:a,bottom:c}=this.findCell(t);return{left:Math.min(n,i),top:Math.min(o,a),right:Math.max(r,l),bottom:Math.max(s,c)}}cellsInRect(e){const t=[],n={};for(let r=e.top;r<e.bottom;r++)for(let o=e.left;o<e.right;o++){const s=r*this.width+o,i=this.map[s];n[i]||(n[i]=!0,!(o==e.left&&o&&this.map[s-1]==i||r==e.top&&r&&this.map[s-this.width]==i)&&t.push(i))}return t}positionAt(e,t,n){for(let r=0,o=0;;r++){const s=o+n.child(r).nodeSize;if(r==e){let i=t+e*this.width;const l=(e+1)*this.width;for(;i<l&&this.map[i]<o;)i++;return i==l?s-1:this.map[i]}o=s}}static get(e){return rf(e)||of(e,t$(e))}};function t$(e){if(e.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+e.type.name);const t=n$(e),n=e.childCount,r=[];let o=0,s=null;const i=[];for(let c=0,u=t*n;c<u;c++)r[c]=0;for(let c=0,u=0;c<n;c++){const d=e.child(c);u++;for(let p=0;;p++){for(;o<r.length&&r[o]!=0;)o++;if(p==d.childCount)break;const g=d.child(p),{colspan:y,rowspan:_,colwidth:w}=g.attrs;for(let b=0;b<_;b++){if(b+c>=n){(s||(s=[])).push({type:"overlong_rowspan",pos:u,n:_-b});break}const E=o+b*t;for(let T=0;T<y;T++){r[E+T]==0?r[E+T]=u:(s||(s=[])).push({type:"collision",row:c,pos:u,n:y-T});const x=w&&w[T];if(x){const D=(E+T)%t*2,N=i[D];N==null||N!=x&&i[D+1]==1?(i[D]=x,i[D+1]=1):N==x&&i[D+1]++}}}o+=y,u+=g.nodeSize}const f=(c+1)*t;let h=0;for(;o<f;)r[o++]==0&&h++;h&&(s||(s=[])).push({type:"missing",row:c,n:h}),u++}const l=new rt(t,n,r,s);let a=!1;for(let c=0;!a&&c<i.length;c+=2)i[c]!=null&&i[c+1]<n&&(a=!0);return a&&r$(l,i,e),l}function n$(e){let t=-1,n=!1;for(let r=0;r<e.childCount;r++){const o=e.child(r);let s=0;if(n)for(let i=0;i<r;i++){const l=e.child(i);for(let a=0;a<l.childCount;a++){const c=l.child(a);i+c.attrs.rowspan>r&&(s+=c.attrs.colspan)}}for(let i=0;i<o.childCount;i++){const l=o.child(i);s+=l.attrs.colspan,l.attrs.rowspan>1&&(n=!0)}t==-1?t=s:t!=s&&(t=Math.max(t,s))}return t}function r$(e,t,n){e.problems||(e.problems=[]);const r={};for(let o=0;o<e.map.length;o++){const s=e.map[o];if(r[s])continue;r[s]=!0;const i=n.nodeAt(s);if(!i)throw new RangeError(`No cell with offset ${s} found`);let l=null;const a=i.attrs;for(let c=0;c<a.colspan;c++){const u=(o+c)%e.width,d=t[u*2];d!=null&&(!a.colwidth||a.colwidth[c]!=d)&&((l||(l=o$(a)))[c]=d)}l&&e.problems.unshift({type:"colwidth mismatch",pos:s,colwidth:l})}}function o$(e){if(e.colwidth)return e.colwidth.slice();const t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function Lt(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(const n in e.nodes){const r=e.nodes[n],o=r.spec.tableRole;o&&(t[o]=r)}}return t}var Nr=new Re("selectingCells");function Ns(e){for(let t=e.depth-1;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return e.node(0).resolve(e.before(t+1));return null}function s$(e){for(let t=e.depth;t>0;t--){const n=e.node(t).type.spec.tableRole;if(n==="cell"||n==="header_cell")return e.node(t)}return null}function In(e){const t=e.selection.$head;for(let n=t.depth;n>0;n--)if(t.node(n).type.spec.tableRole=="row")return!0;return!1}function Gc(e){const t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&t.node.type.spec.tableRole=="cell")return t.$anchor;const n=Ns(t.$head)||i$(t.$head);if(n)return n;throw new RangeError(`No cell found around position ${t.head}`)}function i$(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n-t.nodeSize)}}function sf(e){return e.parent.type.spec.tableRole=="row"&&!!e.nodeAfter}function l$(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function Ih(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function v1(e,t,n){const r=e.node(-1),o=rt.get(r),s=e.start(-1),i=o.nextCell(e.pos-s,t,n);return i==null?null:e.node(0).resolve(s+i)}function No(e,t,n=1){const r={...e,colspan:e.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some(o=>o>0)||(r.colwidth=null)),r}function E1(e,t,n=1){const r={...e,colspan:e.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let o=0;o<n;o++)r.colwidth.splice(t,0,0)}return r}function a$(e,t,n){const r=Lt(t.type.schema).header_cell;for(let o=0;o<e.height;o++)if(t.nodeAt(e.map[n+o*e.width]).type!=r)return!1;return!0}var qe=class sr extends ye{constructor(t,n=t){const r=t.node(-1),o=rt.get(r),s=t.start(-1),i=o.rectBetween(t.pos-s,n.pos-s),l=t.node(0),a=o.cellsInRect(i).filter(u=>u!=n.pos-s);a.unshift(n.pos-s);const c=a.map(u=>{const d=r.nodeAt(u);if(!d)throw RangeError(`No cell with offset ${u} found`);const f=s+u+1;return new cb(l.resolve(f),l.resolve(f+d.content.size))});super(c[0].$from,c[0].$to,c),this.$anchorCell=t,this.$headCell=n}map(t,n){const r=t.resolve(n.map(this.$anchorCell.pos)),o=t.resolve(n.map(this.$headCell.pos));if(sf(r)&&sf(o)&&Ih(r,o)){const s=this.$anchorCell.node(-1)!=r.node(-1);return s&&this.isRowSelection()?sr.rowSelection(r,o):s&&this.isColSelection()?sr.colSelection(r,o):new sr(r,o)}return ce.between(r,o)}content(){const t=this.$anchorCell.node(-1),n=rt.get(t),r=this.$anchorCell.start(-1),o=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),s={},i=[];for(let a=o.top;a<o.bottom;a++){const c=[];for(let u=a*n.width+o.left,d=o.left;d<o.right;d++,u++){const f=n.map[u];if(s[f])continue;s[f]=!0;const h=n.findCell(f);let p=t.nodeAt(f);if(!p)throw RangeError(`No cell with offset ${f} found`);const g=o.left-h.left,y=h.right-o.right;if(g>0||y>0){let _=p.attrs;if(g>0&&(_=No(_,0,g)),y>0&&(_=No(_,_.colspan-y,y)),h.left<o.left){if(p=p.type.createAndFill(_),!p)throw RangeError(`Could not create cell with attrs ${JSON.stringify(_)}`)}else p=p.type.create(_,p.content)}if(h.top<o.top||h.bottom>o.bottom){const _={...p.attrs,rowspan:Math.min(h.bottom,o.bottom)-Math.max(h.top,o.top)};h.top<o.top?p=p.type.createAndFill(_):p=p.type.create(_,p.content)}c.push(p)}i.push(t.child(a).copy(G.from(c)))}const l=this.isColSelection()&&this.isRowSelection()?t:i;return new oe(G.from(l),1,1)}replace(t,n=oe.empty){const r=t.steps.length,o=this.ranges;for(let i=0;i<o.length;i++){const{$from:l,$to:a}=o[i],c=t.mapping.slice(r);t.replace(c.map(l.pos),c.map(a.pos),i?oe.empty:n)}const s=ye.findFrom(t.doc.resolve(t.mapping.slice(r).map(this.to)),-1);s&&t.setSelection(s)}replaceWith(t,n){this.replace(t,new oe(G.from(n),0,0))}forEachCell(t){const n=this.$anchorCell.node(-1),r=rt.get(n),o=this.$anchorCell.start(-1),s=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-o,this.$headCell.pos-o));for(let i=0;i<s.length;i++)t(n.nodeAt(s[i]),o+s[i])}isColSelection(){const t=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(t,n)>0)return!1;const r=t+this.$anchorCell.nodeAfter.attrs.rowspan,o=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,o)==this.$headCell.node(-1).childCount}static colSelection(t,n=t){const r=t.node(-1),o=rt.get(r),s=t.start(-1),i=o.findCell(t.pos-s),l=o.findCell(n.pos-s),a=t.node(0);return i.top<=l.top?(i.top>0&&(t=a.resolve(s+o.map[i.left])),l.bottom<o.height&&(n=a.resolve(s+o.map[o.width*(o.height-1)+l.right-1]))):(l.top>0&&(n=a.resolve(s+o.map[l.left])),i.bottom<o.height&&(t=a.resolve(s+o.map[o.width*(o.height-1)+i.right-1]))),new sr(t,n)}isRowSelection(){const t=this.$anchorCell.node(-1),n=rt.get(t),r=this.$anchorCell.start(-1),o=n.colCount(this.$anchorCell.pos-r),s=n.colCount(this.$headCell.pos-r);if(Math.min(o,s)>0)return!1;const i=o+this.$anchorCell.nodeAfter.attrs.colspan,l=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(i,l)==n.width}eq(t){return t instanceof sr&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,n=t){const r=t.node(-1),o=rt.get(r),s=t.start(-1),i=o.findCell(t.pos-s),l=o.findCell(n.pos-s),a=t.node(0);return i.left<=l.left?(i.left>0&&(t=a.resolve(s+o.map[i.top*o.width])),l.right<o.width&&(n=a.resolve(s+o.map[o.width*(l.top+1)-1]))):(l.left>0&&(n=a.resolve(s+o.map[l.top*o.width])),i.right<o.width&&(t=a.resolve(s+o.map[o.width*(i.top+1)-1]))),new sr(t,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,n){return new sr(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){return new sr(t.resolve(n),t.resolve(r))}getBookmark(){return new c$(this.$anchorCell.pos,this.$headCell.pos)}};qe.prototype.visible=!1;ye.jsonID("cell",qe);var c$=class k1{constructor(t,n){this.anchor=t,this.head=n}map(t){return new k1(t.map(this.anchor),t.map(this.head))}resolve(t){const n=t.resolve(this.anchor),r=t.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&Ih(n,r)?new qe(n,r):ye.near(r,1)}};function u$(e){if(!(e.selection instanceof qe))return null;const t=[];return e.selection.forEachCell((n,r)=>{t.push(ft.node(r,r+n.nodeSize,{class:"selectedCell"}))}),He.create(e.doc,t)}function d$({$from:e,$to:t}){if(e.pos==t.pos||e.pos<e.pos-6)return!1;let n=e.pos,r=t.pos,o=e.depth;for(;o>=0&&!(e.after(o+1)<e.end(o));o--,n++);for(let s=t.depth;s>=0&&!(t.before(s+1)>t.start(s));s--,r--);return n==r&&/row|table/.test(e.node(o).type.spec.tableRole)}function f$({$from:e,$to:t}){let n,r;for(let o=e.depth;o>0;o--){const s=e.node(o);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){n=s;break}}for(let o=t.depth;o>0;o--){const s=t.node(o);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){r=s;break}}return n!==r&&t.parentOffset===0}function h$(e,t,n){const r=(t||e).selection,o=(t||e).doc;let s,i;if(r instanceof ge&&(i=r.node.type.spec.tableRole)){if(i=="cell"||i=="header_cell")s=qe.create(o,r.from);else if(i=="row"){const l=o.resolve(r.from+1);s=qe.rowSelection(l,l)}else if(!n){const l=rt.get(r.node),a=r.from+1,c=a+l.map[l.width*l.height-1];s=qe.create(o,a+1,c)}}else r instanceof ce&&d$(r)?s=ce.create(o,r.from):r instanceof ce&&f$(r)&&(s=ce.create(o,r.$from.start(),r.$from.end()));return s&&(t||(t=e.tr)).setSelection(s),t}var p$=new Re("fix-tables");function w1(e,t,n,r){const o=e.childCount,s=t.childCount;e:for(let i=0,l=0;i<s;i++){const a=t.child(i);for(let c=l,u=Math.min(o,i+3);c<u;c++)if(e.child(c)==a){l=c+1,n+=a.nodeSize;continue e}r(a,n),l<o&&e.child(l).sameMarkup(a)?w1(e.child(l),a,n+1,r):a.nodesBetween(0,a.content.size,r,n+1),n+=a.nodeSize}}function x1(e,t){let n;const r=(o,s)=>{o.type.spec.tableRole=="table"&&(n=m$(e,o,s,n))};return t?t.doc!=e.doc&&w1(t.doc,e.doc,0,r):e.doc.descendants(r),n}function m$(e,t,n,r){const o=rt.get(t);if(!o.problems)return r;r||(r=e.tr);const s=[];for(let a=0;a<o.height;a++)s.push(0);for(let a=0;a<o.problems.length;a++){const c=o.problems[a];if(c.type=="collision"){const u=t.nodeAt(c.pos);if(!u)continue;const d=u.attrs;for(let f=0;f<d.rowspan;f++)s[c.row+f]+=c.n;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,No(d,d.colspan-c.n,c.n))}else if(c.type=="missing")s[c.row]+=c.n;else if(c.type=="overlong_rowspan"){const u=t.nodeAt(c.pos);if(!u)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...u.attrs,rowspan:u.attrs.rowspan-c.n})}else if(c.type=="colwidth mismatch"){const u=t.nodeAt(c.pos);if(!u)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...u.attrs,colwidth:c.colwidth})}}let i,l;for(let a=0;a<s.length;a++)s[a]&&(i==null&&(i=a),l=a);for(let a=0,c=n+1;a<o.height;a++){const u=t.child(a),d=c+u.nodeSize,f=s[a];if(f>0){let h="cell";u.firstChild&&(h=u.firstChild.type.spec.tableRole);const p=[];for(let y=0;y<f;y++){const _=Lt(e.schema)[h].createAndFill();_&&p.push(_)}const g=(a==0||i==a-1)&&l==a?c+1:d-1;r.insert(r.mapping.map(g),p)}c=d}return r.setMeta(p$,{fixTables:!0})}function Xn(e){const t=e.selection,n=Gc(e),r=n.node(-1),o=n.start(-1),s=rt.get(r);return{...t instanceof qe?s.rectBetween(t.$anchorCell.pos-o,t.$headCell.pos-o):s.findCell(n.pos-o),tableStart:o,map:s,table:r}}function C1(e,{map:t,tableStart:n,table:r},o){let s=o>0?-1:0;a$(t,r,o+s)&&(s=o==0||o==t.width?null:0);for(let i=0;i<t.height;i++){const l=i*t.width+o;if(o>0&&o<t.width&&t.map[l-1]==t.map[l]){const a=t.map[l],c=r.nodeAt(a);e.setNodeMarkup(e.mapping.map(n+a),null,E1(c.attrs,o-t.colCount(a))),i+=c.attrs.rowspan-1}else{const a=s==null?Lt(r.type.schema).cell:r.nodeAt(t.map[l+s]).type,c=t.positionAt(i,o,r);e.insert(e.mapping.map(n+c),a.createAndFill())}}return e}function g$(e,t){if(!In(e))return!1;if(t){const n=Xn(e);t(C1(e.tr,n,n.left))}return!0}function _$(e,t){if(!In(e))return!1;if(t){const n=Xn(e);t(C1(e.tr,n,n.right))}return!0}function y$(e,{map:t,table:n,tableStart:r},o){const s=e.mapping.maps.length;for(let i=0;i<t.height;){const l=i*t.width+o,a=t.map[l],c=n.nodeAt(a),u=c.attrs;if(o>0&&t.map[l-1]==a||o<t.width-1&&t.map[l+1]==a)e.setNodeMarkup(e.mapping.slice(s).map(r+a),null,No(u,o-t.colCount(a)));else{const d=e.mapping.slice(s).map(r+a);e.delete(d,d+c.nodeSize)}i+=u.rowspan}}function b$(e,t){if(!In(e))return!1;if(t){const n=Xn(e),r=e.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let o=n.right-1;y$(r,n,o),o!=n.left;o--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=rt.get(s)}t(r)}return!0}function v$(e,t,n){var r;const o=Lt(t.type.schema).header_cell;for(let s=0;s<e.width;s++)if(((r=t.nodeAt(e.map[s+n*e.width]))==null?void 0:r.type)!=o)return!1;return!0}function T1(e,{map:t,tableStart:n,table:r},o){var s;let i=n;for(let c=0;c<o;c++)i+=r.child(c).nodeSize;const l=[];let a=o>0?-1:0;v$(t,r,o+a)&&(a=o==0||o==t.height?null:0);for(let c=0,u=t.width*o;c<t.width;c++,u++)if(o>0&&o<t.height&&t.map[u]==t.map[u-t.width]){const d=t.map[u],f=r.nodeAt(d).attrs;e.setNodeMarkup(n+d,null,{...f,rowspan:f.rowspan+1}),c+=f.colspan-1}else{const d=a==null?Lt(r.type.schema).cell:(s=r.nodeAt(t.map[u+a*t.width]))==null?void 0:s.type,f=d==null?void 0:d.createAndFill();f&&l.push(f)}return e.insert(i,Lt(r.type.schema).row.create(null,l)),e}function E$(e,t){if(!In(e))return!1;if(t){const n=Xn(e);t(T1(e.tr,n,n.top))}return!0}function k$(e,t){if(!In(e))return!1;if(t){const n=Xn(e);t(T1(e.tr,n,n.bottom))}return!0}function w$(e,{map:t,table:n,tableStart:r},o){let s=0;for(let c=0;c<o;c++)s+=n.child(c).nodeSize;const i=s+n.child(o).nodeSize,l=e.mapping.maps.length;e.delete(s+r,i+r);const a=new Set;for(let c=0,u=o*t.width;c<t.width;c++,u++){const d=t.map[u];if(!a.has(d)){if(a.add(d),o>0&&d==t.map[u-t.width]){const f=n.nodeAt(d).attrs;e.setNodeMarkup(e.mapping.slice(l).map(d+r),null,{...f,rowspan:f.rowspan-1}),c+=f.colspan-1}else if(o<t.height&&d==t.map[u+t.width]){const f=n.nodeAt(d),h=f.attrs,p=f.type.create({...h,rowspan:f.attrs.rowspan-1},f.content),g=t.positionAt(o+1,c,n);e.insert(e.mapping.slice(l).map(r+g),p),c+=h.colspan-1}}}}function x$(e,t){if(!In(e))return!1;if(t){const n=Xn(e),r=e.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let o=n.bottom-1;w$(r,n,o),o!=n.top;o--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=rt.get(n.table)}t(r)}return!0}function Ng(e){const t=e.content;return t.childCount==1&&t.child(0).isTextblock&&t.child(0).childCount==0}function C$({width:e,height:t,map:n},r){let o=r.top*e+r.left,s=o,i=(r.bottom-1)*e+r.left,l=o+(r.right-r.left-1);for(let a=r.top;a<r.bottom;a++){if(r.left>0&&n[s]==n[s-1]||r.right<e&&n[l]==n[l+1])return!0;s+=e,l+=e}for(let a=r.left;a<r.right;a++){if(r.top>0&&n[o]==n[o-e]||r.bottom<t&&n[i]==n[i+e])return!0;o++,i++}return!1}function Vg(e,t){const n=e.selection;if(!(n instanceof qe)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=Xn(e),{map:o}=r;if(C$(o,r))return!1;if(t){const s=e.tr,i={};let l=G.empty,a,c;for(let u=r.top;u<r.bottom;u++)for(let d=r.left;d<r.right;d++){const f=o.map[u*o.width+d],h=r.table.nodeAt(f);if(!(i[f]||!h))if(i[f]=!0,a==null)a=f,c=h;else{Ng(h)||(l=l.append(h.content));const p=s.mapping.map(f+r.tableStart);s.delete(p,p+h.nodeSize)}}if(a==null||c==null)return!0;if(s.setNodeMarkup(a+r.tableStart,null,{...E1(c.attrs,c.attrs.colspan,r.right-r.left-c.attrs.colspan),rowspan:r.bottom-r.top}),l.size){const u=a+1+c.content.size,d=Ng(c)?a+1:u;s.replaceWith(d+r.tableStart,u+r.tableStart,l)}s.setSelection(new qe(s.doc.resolve(a+r.tableStart))),t(s)}return!0}function $g(e,t){const n=Lt(e.schema);return T$(({node:r})=>n[r.type.spec.tableRole])(e,t)}function T$(e){return(t,n)=>{var r;const o=t.selection;let s,i;if(o instanceof qe){if(o.$anchorCell.pos!=o.$headCell.pos)return!1;s=o.$anchorCell.nodeAfter,i=o.$anchorCell.pos}else{if(s=s$(o.$from),!s)return!1;i=(r=Ns(o.$from))==null?void 0:r.pos}if(s==null||i==null||s.attrs.colspan==1&&s.attrs.rowspan==1)return!1;if(n){let l=s.attrs;const a=[],c=l.colwidth;l.rowspan>1&&(l={...l,rowspan:1}),l.colspan>1&&(l={...l,colspan:1});const u=Xn(t),d=t.tr;for(let h=0;h<u.right-u.left;h++)a.push(c?{...l,colwidth:c&&c[h]?[c[h]]:null}:l);let f;for(let h=u.top;h<u.bottom;h++){let p=u.map.positionAt(h,u.left,u.table);h==u.top&&(p+=s.nodeSize);for(let g=u.left,y=0;g<u.right;g++,y++)g==u.left&&h==u.top||d.insert(f=d.mapping.map(p+u.tableStart,1),e({node:s,row:h,col:g}).createAndFill(a[y]))}d.setNodeMarkup(i,e({node:s,row:u.top,col:u.left}),a[0]),o instanceof qe&&d.setSelection(new qe(d.doc.resolve(o.$anchorCell.pos),f?d.doc.resolve(f):void 0)),n(d)}return!0}}function S$(e,t){return function(n,r){if(!In(n))return!1;const o=Gc(n);if(o.nodeAfter.attrs[e]===t)return!1;if(r){const s=n.tr;n.selection instanceof qe?n.selection.forEachCell((i,l)=>{i.attrs[e]!==t&&s.setNodeMarkup(l,null,{...i.attrs,[e]:t})}):s.setNodeMarkup(o.pos,null,{...o.nodeAfter.attrs,[e]:t}),r(s)}return!0}}function M$(e){return function(t,n){if(!In(t))return!1;if(n){const r=Lt(t.schema),o=Xn(t),s=t.tr,i=o.map.cellsInRect(e=="column"?{left:o.left,top:0,right:o.right,bottom:o.map.height}:e=="row"?{left:0,top:o.top,right:o.map.width,bottom:o.bottom}:o),l=i.map(a=>o.table.nodeAt(a));for(let a=0;a<i.length;a++)l[a].type==r.header_cell&&s.setNodeMarkup(o.tableStart+i[a],r.cell,l[a].attrs);if(s.steps.length==0)for(let a=0;a<i.length;a++)s.setNodeMarkup(o.tableStart+i[a],r.header_cell,l[a].attrs);n(s)}return!0}}function Bg(e,t,n){const r=t.map.cellsInRect({left:0,top:0,right:e=="row"?t.map.width:1,bottom:e=="column"?t.map.height:1});for(let o=0;o<r.length;o++){const s=t.table.nodeAt(r[o]);if(s&&s.type!==n.header_cell)return!1}return!0}function ji(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?M$(e):function(n,r){if(!In(n))return!1;if(r){const o=Lt(n.schema),s=Xn(n),i=n.tr,l=Bg("row",s,o),a=Bg("column",s,o),u=(e==="column"?l:e==="row"?a:!1)?1:0,d=e=="column"?{left:0,top:u,right:1,bottom:s.map.height}:e=="row"?{left:u,top:0,right:s.map.width,bottom:1}:s,f=e=="column"?a?o.cell:o.header_cell:e=="row"?l?o.cell:o.header_cell:o.cell;s.map.cellsInRect(d).forEach(h=>{const p=h+s.tableStart,g=i.doc.nodeAt(p);g&&i.setNodeMarkup(p,f,g.attrs)}),r(i)}return!0}}ji("row",{useDeprecatedLogic:!0});ji("column",{useDeprecatedLogic:!0});var A$=ji("cell",{useDeprecatedLogic:!0});function O$(e,t){if(t<0){const n=e.nodeBefore;if(n)return e.pos-n.nodeSize;for(let r=e.index(-1)-1,o=e.before();r>=0;r--){const s=e.node(-1).child(r),i=s.lastChild;if(i)return o-1-i.nodeSize;o-=s.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;const n=e.node(-1);for(let r=e.indexAfter(-1),o=e.after();r<n.childCount;r++){const s=n.child(r);if(s.childCount)return o+1;o+=s.nodeSize}}return null}function Hg(e){return function(t,n){if(!In(t))return!1;const r=O$(Gc(t),e);if(r==null)return!1;if(n){const o=t.doc.resolve(r);n(t.tr.setSelection(ce.between(o,l$(o))).scrollIntoView())}return!0}}function I$(e,t){const n=e.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return t&&t(e.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function El(e,t){const n=e.selection;if(!(n instanceof qe))return!1;if(t){const r=e.tr,o=Lt(e.schema).cell.createAndFill().content;n.forEachCell((s,i)=>{s.content.eq(o)||r.replace(r.mapping.map(i+1),r.mapping.map(i+s.nodeSize-1),new oe(o,0,0))}),r.docChanged&&t(r)}return!0}function R$(e){if(!e.size)return null;let{content:t,openStart:n,openEnd:r}=e;for(;t.childCount==1&&(n>0&&r>0||t.child(0).type.spec.tableRole=="table");)n--,r--,t=t.child(0).content;const o=t.child(0),s=o.type.spec.tableRole,i=o.type.schema,l=[];if(s=="row")for(let a=0;a<t.childCount;a++){let c=t.child(a).content;const u=a?0:Math.max(0,n-1),d=a<t.childCount-1?0:Math.max(0,r-1);(u||d)&&(c=lf(Lt(i).row,new oe(c,u,d)).content),l.push(c)}else if(s=="cell"||s=="header_cell")l.push(n||r?lf(Lt(i).row,new oe(t,n,r)).content:t);else return null;return D$(i,l)}function D$(e,t){const n=[];for(let o=0;o<t.length;o++){const s=t[o];for(let i=s.childCount-1;i>=0;i--){const{rowspan:l,colspan:a}=s.child(i).attrs;for(let c=o;c<o+l;c++)n[c]=(n[c]||0)+a}}let r=0;for(let o=0;o<n.length;o++)r=Math.max(r,n[o]);for(let o=0;o<n.length;o++)if(o>=t.length&&t.push(G.empty),n[o]<r){const s=Lt(e).cell.createAndFill(),i=[];for(let l=n[o];l<r;l++)i.push(s);t[o]=t[o].append(G.from(i))}return{height:t.length,width:r,rows:t}}function lf(e,t){const n=e.createAndFill();return new zf(n).replace(0,n.content.size,t).doc}function L$({width:e,height:t,rows:n},r,o){if(e!=r){const s=[],i=[];for(let l=0;l<n.length;l++){const a=n[l],c=[];for(let u=s[l]||0,d=0;u<r;d++){let f=a.child(d%a.childCount);u+f.attrs.colspan>r&&(f=f.type.createChecked(No(f.attrs,f.attrs.colspan,u+f.attrs.colspan-r),f.content)),c.push(f),u+=f.attrs.colspan;for(let h=1;h<f.attrs.rowspan;h++)s[l+h]=(s[l+h]||0)+f.attrs.colspan}i.push(G.from(c))}n=i,e=r}if(t!=o){const s=[];for(let i=0,l=0;i<o;i++,l++){const a=[],c=n[l%t];for(let u=0;u<c.childCount;u++){let d=c.child(u);i+d.attrs.rowspan>o&&(d=d.type.create({...d.attrs,rowspan:Math.max(1,o-d.attrs.rowspan)},d.content)),a.push(d)}s.push(G.from(a))}n=s,t=o}return{width:e,height:t,rows:n}}function j$(e,t,n,r,o,s,i){const l=e.doc.type.schema,a=Lt(l);let c,u;if(o>t.width)for(let d=0,f=0;d<t.height;d++){const h=n.child(d);f+=h.nodeSize;const p=[];let g;h.lastChild==null||h.lastChild.type==a.cell?g=c||(c=a.cell.createAndFill()):g=u||(u=a.header_cell.createAndFill());for(let y=t.width;y<o;y++)p.push(g);e.insert(e.mapping.slice(i).map(f-1+r),p)}if(s>t.height){const d=[];for(let p=0,g=(t.height-1)*t.width;p<Math.max(t.width,o);p++){const y=p>=t.width?!1:n.nodeAt(t.map[g+p]).type==a.header_cell;d.push(y?u||(u=a.header_cell.createAndFill()):c||(c=a.cell.createAndFill()))}const f=a.row.create(null,G.from(d)),h=[];for(let p=t.height;p<s;p++)h.push(f);e.insert(e.mapping.slice(i).map(r+n.nodeSize-2),h)}return!!(c||u)}function Fg(e,t,n,r,o,s,i,l){if(i==0||i==t.height)return!1;let a=!1;for(let c=o;c<s;c++){const u=i*t.width+c,d=t.map[u];if(t.map[u-t.width]==d){a=!0;const f=n.nodeAt(d),{top:h,left:p}=t.findCell(d);e.setNodeMarkup(e.mapping.slice(l).map(d+r),null,{...f.attrs,rowspan:i-h}),e.insert(e.mapping.slice(l).map(t.positionAt(i,p,n)),f.type.createAndFill({...f.attrs,rowspan:h+f.attrs.rowspan-i})),c+=f.attrs.colspan-1}}return a}function zg(e,t,n,r,o,s,i,l){if(i==0||i==t.width)return!1;let a=!1;for(let c=o;c<s;c++){const u=c*t.width+i,d=t.map[u];if(t.map[u-1]==d){a=!0;const f=n.nodeAt(d),h=t.colCount(d),p=e.mapping.slice(l).map(d+r);e.setNodeMarkup(p,null,No(f.attrs,i-h,f.attrs.colspan-(i-h))),e.insert(p+f.nodeSize,f.type.createAndFill(No(f.attrs,0,i-h))),c+=f.attrs.rowspan-1}}return a}function Kg(e,t,n,r,o){let s=n?e.doc.nodeAt(n-1):e.doc;if(!s)throw new Error("No table found");let i=rt.get(s);const{top:l,left:a}=r,c=a+o.width,u=l+o.height,d=e.tr;let f=0;function h(){if(s=n?d.doc.nodeAt(n-1):d.doc,!s)throw new Error("No table found");i=rt.get(s),f=d.mapping.maps.length}j$(d,i,s,n,c,u,f)&&h(),Fg(d,i,s,n,a,c,l,f)&&h(),Fg(d,i,s,n,a,c,u,f)&&h(),zg(d,i,s,n,l,u,a,f)&&h(),zg(d,i,s,n,l,u,c,f)&&h();for(let p=l;p<u;p++){const g=i.positionAt(p,a,s),y=i.positionAt(p,c,s);d.replace(d.mapping.slice(f).map(g+n),d.mapping.slice(f).map(y+n),new oe(o.rows[p-l],0,0))}h(),d.setSelection(new qe(d.doc.resolve(n+i.positionAt(l,a,s)),d.doc.resolve(n+i.positionAt(u-1,c-1,s)))),t(d)}var P$=Zf({ArrowLeft:kl("horiz",-1),ArrowRight:kl("horiz",1),ArrowUp:kl("vert",-1),ArrowDown:kl("vert",1),"Shift-ArrowLeft":wl("horiz",-1),"Shift-ArrowRight":wl("horiz",1),"Shift-ArrowUp":wl("vert",-1),"Shift-ArrowDown":wl("vert",1),Backspace:El,"Mod-Backspace":El,Delete:El,"Mod-Delete":El});function Kl(e,t,n){return n.eq(e.selection)?!1:(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function kl(e,t){return(n,r,o)=>{if(!o)return!1;const s=n.selection;if(s instanceof qe)return Kl(n,r,ye.near(s.$headCell,t));if(e!="horiz"&&!s.empty)return!1;const i=S1(o,e,t);if(i==null)return!1;if(e=="horiz")return Kl(n,r,ye.near(n.doc.resolve(s.head+t),t));{const l=n.doc.resolve(i),a=v1(l,e,t);let c;return a?c=ye.near(a,1):t<0?c=ye.near(n.doc.resolve(l.before(-1)),-1):c=ye.near(n.doc.resolve(l.after(-1)),1),Kl(n,r,c)}}}function wl(e,t){return(n,r,o)=>{if(!o)return!1;const s=n.selection;let i;if(s instanceof qe)i=s;else{const a=S1(o,e,t);if(a==null)return!1;i=new qe(n.doc.resolve(a))}const l=v1(i.$headCell,e,t);return l?Kl(n,r,new qe(i.$anchorCell,l)):!1}}function N$(e,t){const n=e.state.doc,r=Ns(n.resolve(t));return r?(e.dispatch(e.state.tr.setSelection(new qe(r))),!0):!1}function V$(e,t,n){if(!In(e.state))return!1;let r=R$(n);const o=e.state.selection;if(o instanceof qe){r||(r={width:1,height:1,rows:[G.from(lf(Lt(e.state.schema).cell,n))]});const s=o.$anchorCell.node(-1),i=o.$anchorCell.start(-1),l=rt.get(s).rectBetween(o.$anchorCell.pos-i,o.$headCell.pos-i);return r=L$(r,l.right-l.left,l.bottom-l.top),Kg(e.state,e.dispatch,i,l,r),!0}else if(r){const s=Gc(e.state),i=s.start(-1);return Kg(e.state,e.dispatch,i,rt.get(s.node(-1)).findCell(s.pos-i),r),!0}else return!1}function $$(e,t){var n;if(t.ctrlKey||t.metaKey)return;const r=Wg(e,t.target);let o;if(t.shiftKey&&e.state.selection instanceof qe)s(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&(o=Ns(e.state.selection.$anchor))!=null&&((n=Fu(e,t))==null?void 0:n.pos)!=o.pos)s(o,t),t.preventDefault();else if(!r)return;function s(a,c){let u=Fu(e,c);const d=Nr.getState(e.state)==null;if(!u||!Ih(a,u))if(d)u=a;else return;const f=new qe(a,u);if(d||!e.state.selection.eq(f)){const h=e.state.tr.setSelection(f);d&&h.setMeta(Nr,a.pos),e.dispatch(h)}}function i(){e.root.removeEventListener("mouseup",i),e.root.removeEventListener("dragstart",i),e.root.removeEventListener("mousemove",l),Nr.getState(e.state)!=null&&e.dispatch(e.state.tr.setMeta(Nr,-1))}function l(a){const c=a,u=Nr.getState(e.state);let d;if(u!=null)d=e.state.doc.resolve(u);else if(Wg(e,c.target)!=r&&(d=Fu(e,t),!d))return i();d&&s(d,c)}e.root.addEventListener("mouseup",i),e.root.addEventListener("dragstart",i),e.root.addEventListener("mousemove",l)}function S1(e,t,n){if(!(e.state.selection instanceof ce))return null;const{$head:r}=e.state.selection;for(let o=r.depth-1;o>=0;o--){const s=r.node(o);if((n<0?r.index(o):r.indexAfter(o))!=(n<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){const l=r.before(o),a=t=="vert"?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(a)?l:null}}return null}function Wg(e,t){for(;t&&t!=e.dom;t=t.parentNode)if(t.nodeName=="TD"||t.nodeName=="TH")return t;return null}function Fu(e,t){const n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?Ns(e.state.doc.resolve(n.pos)):null}var B$=class{constructor(t,n){this.node=t,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),af(t,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!=this.node.type?!1:(this.node=t,af(t,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(t){return t.type=="attributes"&&(t.target==this.table||this.colgroup.contains(t.target))}};function af(e,t,n,r,o,s){var i;let l=0,a=!0,c=t.firstChild;const u=e.firstChild;if(u){for(let d=0,f=0;d<u.childCount;d++){const{colspan:h,colwidth:p}=u.child(d).attrs;for(let g=0;g<h;g++,f++){const y=o==f?s:p&&p[g],_=y?y+"px":"";l+=y||r,y||(a=!1),c?(c.style.width!=_&&(c.style.width=_),c=c.nextSibling):t.appendChild(document.createElement("col")).style.width=_}}for(;c;){const d=c.nextSibling;(i=c.parentNode)==null||i.removeChild(c),c=d}a?(n.style.width=l+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=l+"px")}}var mn=new Re("tableColumnResizing");function H$({handleWidth:e=5,cellMinWidth:t=25,View:n=B$,lastColumnResizable:r=!0}={}){const o=new Oe({key:mn,state:{init(s,i){var l,a;const c=(a=(l=o.spec)==null?void 0:l.props)==null?void 0:a.nodeViews,u=Lt(i.schema).table.name;return n&&c&&(c[u]=(d,f)=>new n(d,t,f)),new F$(-1,!1)},apply(s,i){return i.apply(s)}},props:{attributes:s=>{const i=mn.getState(s);return i&&i.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(s,i)=>{z$(s,i,e,t,r)},mouseleave:s=>{K$(s)},mousedown:(s,i)=>{W$(s,i,t)}},decorations:s=>{const i=mn.getState(s);if(i&&i.activeHandle>-1)return Y$(s,i.activeHandle)},nodeViews:{}}});return o}var F$=class Wl{constructor(t,n){this.activeHandle=t,this.dragging=n}apply(t){const n=this,r=t.getMeta(mn);if(r&&r.setHandle!=null)return new Wl(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new Wl(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&t.docChanged){let o=t.mapping.map(n.activeHandle,-1);return sf(t.doc.resolve(o))||(o=-1),new Wl(o,n.dragging)}return n}};function z$(e,t,n,r,o){const s=mn.getState(e.state);if(s&&!s.dragging){const i=q$(t.target);let l=-1;if(i){const{left:a,right:c}=i.getBoundingClientRect();t.clientX-a<=n?l=Ug(e,t,"left",n):c-t.clientX<=n&&(l=Ug(e,t,"right",n))}if(l!=s.activeHandle){if(!o&&l!==-1){const a=e.state.doc.resolve(l),c=a.node(-1),u=rt.get(c),d=a.start(-1);if(u.colCount(a.pos-d)+a.nodeAfter.attrs.colspan-1==u.width-1)return}M1(e,l)}}}function K$(e){const t=mn.getState(e.state);t&&t.activeHandle>-1&&!t.dragging&&M1(e,-1)}function W$(e,t,n){var r;const o=(r=e.dom.ownerDocument.defaultView)!=null?r:window,s=mn.getState(e.state);if(!s||s.activeHandle==-1||s.dragging)return!1;const i=e.state.doc.nodeAt(s.activeHandle),l=U$(e,s.activeHandle,i.attrs);e.dispatch(e.state.tr.setMeta(mn,{setDragging:{startX:t.clientX,startWidth:l}}));function a(u){o.removeEventListener("mouseup",a),o.removeEventListener("mousemove",c);const d=mn.getState(e.state);d!=null&&d.dragging&&(G$(e,d.activeHandle,qg(d.dragging,u,n)),e.dispatch(e.state.tr.setMeta(mn,{setDragging:null})))}function c(u){if(!u.which)return a(u);const d=mn.getState(e.state);if(d&&d.dragging){const f=qg(d.dragging,u,n);J$(e,d.activeHandle,f,n)}}return o.addEventListener("mouseup",a),o.addEventListener("mousemove",c),t.preventDefault(),!0}function U$(e,t,{colspan:n,colwidth:r}){const o=r&&r[r.length-1];if(o)return o;const s=e.domAtPos(t);let l=s.node.childNodes[s.offset].offsetWidth,a=n;if(r)for(let c=0;c<n;c++)r[c]&&(l-=r[c],a--);return l/a}function q$(e){for(;e&&e.nodeName!="TD"&&e.nodeName!="TH";)e=e.classList&&e.classList.contains("ProseMirror")?null:e.parentNode;return e}function Ug(e,t,n,r){const o=n=="right"?-r:r,s=e.posAtCoords({left:t.clientX+o,top:t.clientY});if(!s)return-1;const{pos:i}=s,l=Ns(e.state.doc.resolve(i));if(!l)return-1;if(n=="right")return l.pos;const a=rt.get(l.node(-1)),c=l.start(-1),u=a.map.indexOf(l.pos-c);return u%a.width==0?-1:c+a.map[u-1]}function qg(e,t,n){const r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function M1(e,t){e.dispatch(e.state.tr.setMeta(mn,{setHandle:t}))}function G$(e,t,n){const r=e.state.doc.resolve(t),o=r.node(-1),s=rt.get(o),i=r.start(-1),l=s.colCount(r.pos-i)+r.nodeAfter.attrs.colspan-1,a=e.state.tr;for(let c=0;c<s.height;c++){const u=c*s.width+l;if(c&&s.map[u]==s.map[u-s.width])continue;const d=s.map[u],f=o.nodeAt(d).attrs,h=f.colspan==1?0:l-s.colCount(d);if(f.colwidth&&f.colwidth[h]==n)continue;const p=f.colwidth?f.colwidth.slice():X$(f.colspan);p[h]=n,a.setNodeMarkup(i+d,null,{...f,colwidth:p})}a.docChanged&&e.dispatch(a)}function J$(e,t,n,r){const o=e.state.doc.resolve(t),s=o.node(-1),i=o.start(-1),l=rt.get(s).colCount(o.pos-i)+o.nodeAfter.attrs.colspan-1;let a=e.domAtPos(o.start(-1)).node;for(;a&&a.nodeName!="TABLE";)a=a.parentNode;a&&af(s,a.firstChild,a,r,l,n)}function X$(e){return Array(e).fill(0)}function Y$(e,t){const n=[],r=e.doc.resolve(t),o=r.node(-1);if(!o)return He.empty;const s=rt.get(o),i=r.start(-1),l=s.colCount(r.pos-i)+r.nodeAfter.attrs.colspan-1;for(let a=0;a<s.height;a++){const c=l+a*s.width;if((l==s.width-1||s.map[c]!=s.map[c+1])&&(a==0||s.map[c]!=s.map[c-s.width])){const u=s.map[c],d=i+u+o.nodeAt(u).nodeSize-1,f=document.createElement("div");f.className="column-resize-handle",n.push(ft.widget(d,f))}}return He.create(e.doc,n)}function Q$({allowTableNodeSelection:e=!1}={}){return new Oe({key:Nr,state:{init(){return null},apply(t,n){const r=t.getMeta(Nr);if(r!=null)return r==-1?null:r;if(n==null||!t.docChanged)return n;const{deleted:o,pos:s}=t.mapping.mapResult(n);return o?null:s}},props:{decorations:u$,handleDOMEvents:{mousedown:$$},createSelectionBetween(t){return Nr.getState(t.state)!=null?t.state.selection:null},handleTripleClick:N$,handleKeyDown:P$,handlePaste:V$},appendTransaction(t,n,r){return h$(r,x1(r,n),e)}})}function Gg(e,t,n,r,o,s){let i=0,l=!0,a=t.firstChild;const c=e.firstChild;for(let u=0,d=0;u<c.childCount;u+=1){const{colspan:f,colwidth:h}=c.child(u).attrs;for(let p=0;p<f;p+=1,d+=1){const g=o===d?s:h&&h[p],y=g?`${g}px`:"";i+=g||r,g||(l=!1),a?(a.style.width!==y&&(a.style.width=y),a=a.nextSibling):t.appendChild(document.createElement("col")).style.width=y}}for(;a;){const u=a.nextSibling;a.parentNode.removeChild(a),a=u}l?(n.style.width=`${i}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${i}px`)}class Z${constructor(t,n){this.node=t,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Gg(t,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!==this.node.type?!1:(this.node=t,Gg(t,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(t){return t.type==="attributes"&&(t.target===this.table||this.colgroup.contains(t.target))}}function e5(e,t,n,r){let o=0,s=!0;const i=[],l=e.firstChild;if(!l)return{};for(let d=0,f=0;d<l.childCount;d+=1){const{colspan:h,colwidth:p}=l.child(d).attrs;for(let g=0;g<h;g+=1,f+=1){const y=n===f?r:p&&p[g],_=y?`${y}px`:"";o+=y||t,y||(s=!1),i.push(["col",_?{style:`width: ${_}`}:{}])}}const a=s?`${o}px`:"",c=s?"":`${o}px`;return{colgroup:["colgroup",{},...i],tableWidth:a,tableMinWidth:c}}function Jg(e,t){return e.createAndFill()}function t5(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;const t={};return Object.keys(e.nodes).forEach(n=>{const r=e.nodes[n];r.spec.tableRole&&(t[r.spec.tableRole]=r)}),e.cached.tableNodeTypes=t,t}function n5(e,t,n,r,o){const s=t5(e),i=[],l=[];for(let c=0;c<n;c+=1){const u=Jg(s.cell);if(u&&l.push(u),r){const d=Jg(s.header_cell);d&&i.push(d)}}const a=[];for(let c=0;c<t;c+=1)a.push(s.row.createChecked(null,r&&c===0?i:l));return s.table.createChecked(null,a)}function r5(e){return e instanceof qe}const xl=({editor:e})=>{const{selection:t}=e.state;if(!r5(t))return!1;let n=0;const r=cv(t.ranges[0].$from,s=>s.type.name==="table");return r==null||r.node.descendants(s=>{if(s.type.name==="table")return!1;["tableCell","tableHeader"].includes(s.type.name)&&(n+=1)}),n===t.ranges.length?(e.commands.deleteTable(),!0):!1},o5=bt.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:Z$,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:e,HTMLAttributes:t}){const{colgroup:n,tableWidth:r,tableMinWidth:o}=e5(e,this.options.cellMinWidth);return["table",$e(this.options.HTMLAttributes,t,{style:r?`width: ${r}`:`min-width: ${o}`}),n,["tbody",0]]},addCommands(){return{insertTable:({rows:e=3,cols:t=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:o,editor:s})=>{const i=n5(s.schema,e,t,n);if(o){const l=r.selection.from+1;r.replaceSelectionWith(i).scrollIntoView().setSelection(ce.near(r.doc.resolve(l)))}return!0},addColumnBefore:()=>({state:e,dispatch:t})=>g$(e,t),addColumnAfter:()=>({state:e,dispatch:t})=>_$(e,t),deleteColumn:()=>({state:e,dispatch:t})=>b$(e,t),addRowBefore:()=>({state:e,dispatch:t})=>E$(e,t),addRowAfter:()=>({state:e,dispatch:t})=>k$(e,t),deleteRow:()=>({state:e,dispatch:t})=>x$(e,t),deleteTable:()=>({state:e,dispatch:t})=>I$(e,t),mergeCells:()=>({state:e,dispatch:t})=>Vg(e,t),splitCell:()=>({state:e,dispatch:t})=>$g(e,t),toggleHeaderColumn:()=>({state:e,dispatch:t})=>ji("column")(e,t),toggleHeaderRow:()=>({state:e,dispatch:t})=>ji("row")(e,t),toggleHeaderCell:()=>({state:e,dispatch:t})=>A$(e,t),mergeOrSplit:()=>({state:e,dispatch:t})=>Vg(e,t)?!0:$g(e,t),setCellAttribute:(e,t)=>({state:n,dispatch:r})=>S$(e,t)(n,r),goToNextCell:()=>({state:e,dispatch:t})=>Hg(1)(e,t),goToPreviousCell:()=>({state:e,dispatch:t})=>Hg(-1)(e,t),fixTables:()=>({state:e,dispatch:t})=>(t&&x1(e),!0),setCellSelection:e=>({tr:t,dispatch:n})=>{if(n){const r=qe.create(t.doc,e.anchorCell,e.headCell);t.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:xl,"Mod-Backspace":xl,Delete:xl,"Mod-Delete":xl}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[H$({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],Q$({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(e){const t={name:e.name,options:e.options,storage:e.storage};return{tableRole:xe(de(e,"tableRole",t))}}}),s5=bt.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?[parseInt(t,10)]:null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:e}){return["td",$e(this.options.HTMLAttributes,e),0]}}),i5=bt.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?[parseInt(t,10)]:null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:e}){return["th",$e(this.options.HTMLAttributes,e),0]}}),l5=bt.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:e}){return["tr",$e(this.options.HTMLAttributes,e),0]}}),a5=(e=["table","tableRow","tableCell","tableHeader"],t="item")=>n=>({state:r,dispatch:o,tr:s})=>{const i=Ae(t,r.schema),l=e.map(h=>Ae(h,r.schema)),{$from:a,$to:c,empty:u}=r.selection,f=(n!==void 0?s.doc.resolve(n):a).node(-1);if(l.some(h=>f.type===h)){const h=i.createAndFill();return h?(o&&s.insert(a.after(-2),h),!0):!1}return!1},c5=l5.extend({content:"(tableCell | tableHeader)+",addKeyboardShortcuts(){return{}}}),u5=s5.extend({content:"block",addKeyboardShortcuts(){return{}}}),d5=i5.extend({content:"block",addKeyboardShortcuts(){return{}}}),f5=o5.extend({addOptions(){var e;return{...(e=this.parent)==null?void 0:e.call(this),resizable:!0,lastColumnResizable:!1}},addCommands(){return{tableEnter:a5()}},addKeyboardShortcuts(){return{}}}),h5=[f5,c5,u5,d5];function Xg(e){return e.extend({addKeyboardShortcuts(){return{}}})}const Rh=[yP,uP,Xg(xP.extend({group:"block"})),y3,KP,CN,wN,Z3,b3,qj,xV,q3,QV,J3,SV,rV,...h5,...[OP,JP,XP,lP,wP,IP,SP,MP,AP,oP,hV].map(e=>Xg(e)),ZV];sh(Rh);const p5=["data-code-blocks-theme-is-dark"],yc=Se({__name:"Editor",props:{content:{default:void 0},docId:{default:void 0},documentApi:{default:void 0},linkOptions:{default:void 0},dragScrollOptions:{default:()=>({scrollMargin:15,outerScrollMargin:15,fastPixelMultiplier:8})},cssVariables:{default:()=>({})},editorOptions:{default:()=>({enablePasteRules:!0,enableInputRules:!0})},codeBlocksThemeIsDark:{type:Boolean,default:!1},menus:{default:()=>({})}},setup(e,{expose:t}){var T,x;const n=e,r=Q(null),o=fM({containerEl:r,...n.dragScrollOptions}),{scrollEdges:s,isScrolling:i,scrollIndicator:l,endScroll:a,clearScrollInterval:c,resetScrollIndicator:u}=o;tt(dv,o);const d=Ne(Uv,!1),f=Ne(qv,Q(!1)),h=Ee(()=>d?{}:{pmHandleSize:"9px",pmHandleMargin:"5px",pmUnfocusedSelectionColor:"rgb(129,163,234)",pmNodeTypeMargin:"var(--pmHandleMargin)",pmCodeBlockBgColor:"",pmMaxEmbedWidth:"800px",pmDragScrollMargin:`${n.dragScrollOptions.scrollMargin}px`,...n.cssVariables}),p=Ee(()=>sn(h.value).map(D=>`--${D}: ${h.value[D]};`).join(""));us(n,"linkOptions");const g=us(n,"menus"),y=Ne(Pa,void 0);if(!d){const D=Q(Nl);Ne(Ra,void 0)||tt(Ra,D);const M=us(n,"codeBlocksThemeIsDark");Ne(Ud,void 0)||tt(Ud,M),Ne(ng,void 0)||tt(ng,h),n.documentApi&&!y&&tt(Pa,n.documentApi),g.value&&tt(Yv,g)}const _={enableInputRules:!0,enablePasteRules:!0,...n.editorOptions,extensions:(((T=n.editorOptions)==null?void 0:T.extensions)??Rh).map(D=>D.config.instancePerEditor?D.extend():D),autofocus:d?!1:((x=n.editorOptions)==null?void 0:x.autofocus)??!0,injectCSS:!1};tt(Xv,_);const w=wR(_);Xj({lowlightInstance:Wv,editor:w}),ze(()=>n.editorOptions,D=>{var N;D&&((N=w.value)==null||N.setOptions(D))},{deep:!0}),ze(()=>n.linkOptions,D=>{var N;d||D&&((N=w.value)==null||N.commands.setLinkOpts(D))},{deep:!0});const{content:b,docId:E}=yE(n);return Qj(w,b,E,n.documentApi??y),tt(Jv,E),St(()=>{TR(),n.linkOptions&&w.value.commands.setLinkOpts(n.linkOptions)}),t({editor:w}),(D,N)=>(z(),ee("div",Ve({class:S(nt)(`
		editor-wrapper
		[counter-reset:none]
		flex-1
		w-full h-full
	`,S(d)&&"p-1",S(i)&&`
			relative
			after:content-['']
			after:absolute
			after:inset-0
			after:border-[length:var(--pmDragScrollMargin)]
			after:border-transparent
			after:pointer-events-none
		`,S(l).right&&"after:border-r-accent-500/60",S(l).down&&"after:border-b-accent-500/60",S(l).left&&"after:border-l-accent-500/60",S(l).up&&"after:border-t-accent-500/60"),"data-code-blocks-theme-is-dark":D.codeBlocksThemeIsDark,style:`${p.value}`},D.$attrs),[Vo(te(S(kR),{editor:S(w),spellcheck:"false",class:st(S(nt)(`
			w-full h-full
			p-2
			pl-6
			[&>.ProseMirror]:outline-none
			overflow-auto
		`,S(d)&&"editor-is-embedded",S(f)&&"editor-is-embedded-block"))},null,8,["editor","class"]),[[S(Fi),M=>r.value=M]]),S(w)&&!(_!=null&&_.editable)?(z(),ke(Zj,{key:0,editor:S(w)},null,8,["editor"])):Pe("",!0),S(w)?(z(),ke(jD,{key:1,editor:S(w)},null,8,["editor"])):Pe("",!0)],16,p5))}}),A1="../../../../../../node_modules/highlight.js/styles/",cf=Object.assign({"../../../../../../node_modules/highlight.js/styles/1c-light.css":()=>m(()=>import("./DXWQjFvD.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/1c-light.min.css":()=>m(()=>import("./CvddDAc9.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/a11y-dark.css":()=>m(()=>import("./CF1Th2BS.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/a11y-dark.min.css":()=>m(()=>import("./C7ThxKUi.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/a11y-light.css":()=>m(()=>import("./DnwU5F7G.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/a11y-light.min.css":()=>m(()=>import("./CqLgeZiz.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/agate.css":()=>m(()=>import("./R-8qEd4p.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/agate.min.css":()=>m(()=>import("./D0FK3j9w.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/an-old-hope.css":()=>m(()=>import("./BzGg8xEc.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/an-old-hope.min.css":()=>m(()=>import("./D3oso8Be.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/androidstudio.css":()=>m(()=>import("./Ctdz0iH0.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/androidstudio.min.css":()=>m(()=>import("./HebE0rtn.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/arduino-light.css":()=>m(()=>import("./Bg3Nhx-r.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/arduino-light.min.css":()=>m(()=>import("./D5yeHTN0.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/arta.css":()=>m(()=>import("./BBmb6NFa.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/arta.min.css":()=>m(()=>import("./De5oi-Pj.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/ascetic.css":()=>m(()=>import("./BLfsAr_T.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/ascetic.min.css":()=>m(()=>import("./CFSdqGyW.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/atom-one-dark-reasonable.css":()=>m(()=>import("./D8p9DdIW.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/atom-one-dark-reasonable.min.css":()=>m(()=>import("./D1q2okYt.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/atom-one-dark.css":()=>m(()=>import("./BerppPuE.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/atom-one-dark.min.css":()=>m(()=>import("./BcLQt9-6.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/atom-one-light.css":()=>m(()=>import("./B7B43BIs.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/atom-one-light.min.css":()=>m(()=>import("./BvgA4_nT.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/brown-paper.css":()=>m(()=>import("./CjNIX4eG.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/brown-paper.min.css":()=>m(()=>import("./DnkgY089.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/codepen-embed.css":()=>m(()=>import("./CqtEjg6r.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/codepen-embed.min.css":()=>m(()=>import("./CAX2PbcF.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/color-brewer.css":()=>m(()=>import("./sdAD77Dx.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/color-brewer.min.css":()=>m(()=>import("./Bpdyv-nK.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/dark.css":()=>m(()=>import("./BO3Tr2Aw.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/dark.min.css":()=>m(()=>import("./4iQ2com5.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/default.css":()=>m(()=>import("./D_Mkp7bw.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/default.min.css":()=>m(()=>import("./rR2xtK89.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/devibeans.css":()=>m(()=>import("./D2URXuEV.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/devibeans.min.css":()=>m(()=>import("./B82RA7J1.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/docco.css":()=>m(()=>import("./DbqcFMCq.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/docco.min.css":()=>m(()=>import("./tzAk3ISU.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/far.css":()=>m(()=>import("./DzXlwaOg.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/far.min.css":()=>m(()=>import("./CitLU1Ix.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/felipec.css":()=>m(()=>import("./DOBdY5X4.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/felipec.min.css":()=>m(()=>import("./knV1i-eV.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/foundation.css":()=>m(()=>import("./C7PAvxmY.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/foundation.min.css":()=>m(()=>import("./BmHChLzO.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/github-dark-dimmed.css":()=>m(()=>import("./WIXrZbA5.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/github-dark-dimmed.min.css":()=>m(()=>import("./DeHyU7qY.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/github-dark.css":()=>m(()=>import("./X9LdokK-.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/github-dark.min.css":()=>m(()=>import("./BDu5X7oN.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/github.css":()=>m(()=>import("./B1HWd8al.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/github.min.css":()=>m(()=>import("./BCt1uwG5.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/gml.css":()=>m(()=>import("./GuquWyAi.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/gml.min.css":()=>m(()=>import("./iIaF1-iJ.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/googlecode.css":()=>m(()=>import("./Q8et4dKg.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/googlecode.min.css":()=>m(()=>import("./xHKIw7s6.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/gradient-dark.css":()=>m(()=>import("./DJb3lLzM.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/gradient-dark.min.css":()=>m(()=>import("./B-vejYqV.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/gradient-light.css":()=>m(()=>import("./DDGBHCzm.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/gradient-light.min.css":()=>m(()=>import("./D7Rn19Qs.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/grayscale.css":()=>m(()=>import("./BKJU0udT.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/grayscale.min.css":()=>m(()=>import("./Bc1_TGD-.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/hybrid.css":()=>m(()=>import("./Br95I9xB.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/hybrid.min.css":()=>m(()=>import("./CfdImhFr.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/idea.css":()=>m(()=>import("./DAaitHhq.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/idea.min.css":()=>m(()=>import("./Di1tssoM.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/intellij-light.css":()=>m(()=>import("./j0fJSVfP.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/intellij-light.min.css":()=>m(()=>import("./DdD71VCF.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/ir-black.css":()=>m(()=>import("./mwA889Xr.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/ir-black.min.css":()=>m(()=>import("./Cq-GSUVa.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/isbl-editor-dark.css":()=>m(()=>import("./9xv3Ns93.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/isbl-editor-dark.min.css":()=>m(()=>import("./B0qBmoVO.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/isbl-editor-light.css":()=>m(()=>import("./DTv6RQx6.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/isbl-editor-light.min.css":()=>m(()=>import("./DVhWKkjp.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/kimbie-dark.css":()=>m(()=>import("./BD082awB.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/kimbie-dark.min.css":()=>m(()=>import("./BEb3OqbE.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/kimbie-light.css":()=>m(()=>import("./CHwcg3he.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/kimbie-light.min.css":()=>m(()=>import("./C3MiQCjJ.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/lightfair.css":()=>m(()=>import("./Fbdt_e1x.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/lightfair.min.css":()=>m(()=>import("./BdNRTuQM.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/lioshi.css":()=>m(()=>import("./B-jdDVCm.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/lioshi.min.css":()=>m(()=>import("./DJOvzEN0.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/magula.css":()=>m(()=>import("./CeSEd-de.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/magula.min.css":()=>m(()=>import("./DU3rFQCb.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/mono-blue.css":()=>m(()=>import("./C-rZSozW.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/mono-blue.min.css":()=>m(()=>import("./CabMCHYG.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/monokai-sublime.css":()=>m(()=>import("./eLzy7jDv.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/monokai-sublime.min.css":()=>m(()=>import("./CK4HzvGK.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/monokai.css":()=>m(()=>import("./BwMyxFTo.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/monokai.min.css":()=>m(()=>import("./BRNQB-uw.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/night-owl.css":()=>m(()=>import("./D2of03Hp.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/night-owl.min.css":()=>m(()=>import("./8ySUT5jl.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/nnfx-dark.css":()=>m(()=>import("./COiBtDZG.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/nnfx-dark.min.css":()=>m(()=>import("./DL4F7N99.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/nnfx-light.css":()=>m(()=>import("./deh9O7bN.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/nnfx-light.min.css":()=>m(()=>import("./BPfKp86J.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/nord.css":()=>m(()=>import("./JLGFvv9M.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/nord.min.css":()=>m(()=>import("./B5YDXs8u.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/obsidian.css":()=>m(()=>import("./8Udkxzic.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/obsidian.min.css":()=>m(()=>import("./C4aQKDTF.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/panda-syntax-dark.css":()=>m(()=>import("./dGBXxszA.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/panda-syntax-dark.min.css":()=>m(()=>import("./CKE6VQ-9.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/panda-syntax-light.css":()=>m(()=>import("./Cl9RiDG1.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/panda-syntax-light.min.css":()=>m(()=>import("./Bvmv0-KK.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/paraiso-dark.css":()=>m(()=>import("./B8FdZDhJ.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/paraiso-dark.min.css":()=>m(()=>import("./C9Gmwfnf.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/paraiso-light.css":()=>m(()=>import("./B9qbQXUc.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/paraiso-light.min.css":()=>m(()=>import("./CFNadQsw.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/pojoaque.css":()=>m(()=>import("./C1O3MA2k.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/pojoaque.min.css":()=>m(()=>import("./RVkNW1IU.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/purebasic.css":()=>m(()=>import("./BT7XQcCn.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/purebasic.min.css":()=>m(()=>import("./KAUofz5h.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/qtcreator-dark.css":()=>m(()=>import("./T3G9Q05p.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/qtcreator-dark.min.css":()=>m(()=>import("./BdJ-zq7c.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/qtcreator-light.css":()=>m(()=>import("./yiqvH_jf.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/qtcreator-light.min.css":()=>m(()=>import("./DRQQfwi4.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/rainbow.css":()=>m(()=>import("./DcV4o4ee.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/rainbow.min.css":()=>m(()=>import("./DgUj5A_5.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/routeros.css":()=>m(()=>import("./CupyDjmP.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/routeros.min.css":()=>m(()=>import("./Crgs7yFs.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/school-book.css":()=>m(()=>import("./LblvxY6b.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/school-book.min.css":()=>m(()=>import("./BdVCUJhi.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/shades-of-purple.css":()=>m(()=>import("./DRz_jCHX.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/shades-of-purple.min.css":()=>m(()=>import("./DpylqMzJ.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/srcery.css":()=>m(()=>import("./B61uT3CW.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/srcery.min.css":()=>m(()=>import("./TQCH58c-.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/stackoverflow-dark.css":()=>m(()=>import("./BT5L44YG.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/stackoverflow-dark.min.css":()=>m(()=>import("./DajvQbnX.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/stackoverflow-light.css":()=>m(()=>import("./BBZmgI-p.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/stackoverflow-light.min.css":()=>m(()=>import("./CbQdoUMr.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/sunburst.css":()=>m(()=>import("./Bu-XDe-v.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/sunburst.min.css":()=>m(()=>import("./BPGUzEOI.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/tokyo-night-dark.css":()=>m(()=>import("./p3LfoqkZ.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/tokyo-night-dark.min.css":()=>m(()=>import("./CB6yk-gf.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/tokyo-night-light.css":()=>m(()=>import("./Tz5BmeZV.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/tokyo-night-light.min.css":()=>m(()=>import("./BHjk8tyZ.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/tomorrow-night-blue.css":()=>m(()=>import("./Bl2ixBLQ.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/tomorrow-night-blue.min.css":()=>m(()=>import("./DgeFv8mc.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/tomorrow-night-bright.css":()=>m(()=>import("./BSxnOzde.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/tomorrow-night-bright.min.css":()=>m(()=>import("./_ZKbJSys.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/vs.css":()=>m(()=>import("./C411F98i.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/vs.min.css":()=>m(()=>import("./DgkgHKa7.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/vs2015.css":()=>m(()=>import("./CjcoIUKY.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/vs2015.min.css":()=>m(()=>import("./BkFcnOJ4.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/xcode.css":()=>m(()=>import("./BU77MBNb.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/xcode.min.css":()=>m(()=>import("./B9mt8Zol.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/xt256.css":()=>m(()=>import("./C4cCs7Jj.js"),[],import.meta.url).then(e=>e.default),"../../../../../../node_modules/highlight.js/styles/xt256.min.css":()=>m(()=>import("./Cgxk1Rdf.js"),[],import.meta.url).then(e=>e.default)}),Yg=aM(sn(cf).map(e=>{const t=e.endsWith(".min.css")?".min.css":".css";return e.slice(`${A1}`.length,t.length*-1)}));function m5(e){return`${A1}${e}.css`}function g5({defaultTheme:e="github-dark",darkLightBgs:t,additionalThemes:n,classes:r=".ProseMirror",debug:o=!1}={}){o&&console.log({themeModules:cf,themeModuleNames:Yg});const s=Q(e),i=Q(Yg),l=Q({});n&&ze(n,h=>{o&&console.log("Adding additional themes:",n);for(const[p,g]of Object.entries(h))l.value[p]=g});const a=Q("");async function c(h){if(l.value[h])return;const p=m5(h),g=await cf[p]();o&&console.log("Loading theme:",{themeName:h,themeLoadingKey:p,themeStyle:g}),a.value=g}c(s.value);const u=Ee(()=>s.value.includes("dark")),d=Ee(()=>({dark:"#1e1e1e",light:"#ffffff",...(t==null?void 0:t.value)??{}})[u.value?"dark":"light"]),f=Ee(()=>{const h=`
			${Jp(a.value,3)}
			.hljs {
				background-color: ${d.value};
			}
		`;return[cM(r)?h:it`
			${r} {
				${Jp(h,1)}
			}
		`]});return{theme:s,knownThemes:i,loadTheme:c,isDark:u,backgroundColor:d,themeCss:f,rawThemeCss:a}}function _5(e,t){if(e.type==="command"){const n=typeof e.args=="function"?e.args(t):e.args??[];t.commands.command(({commands:r})=>(r[e.command](...n),!0))}}const y5=["title"],Qg=Se({__name:"CommandBarItem",props:{item:{},editor:{}},emits:["close"],setup(e,{emit:t}){const n=e,r=t,o=Ne(fh,_5);function s(){n.item.type==="command"&&(o(n.item,n.editor),r("close"))}return(i,l)=>{const a=yn;return z(),ee("div",{class:"group/menu-item px-1 rounded-sm hover:text-accent-700 dark:hover:text-accent-300 cursor-pointer",title:i.item.type==="command"?i.item.description:i.item.title,onPointerdown:l[0]||(l[0]=ks(()=>{},["prevent"])),onClick:s},[te(a,{class:"min-w-[1rem] text-center flex items-center justify-center h-full"},{default:me(()=>[i.item.icon?(z(),ke($o("component"in i.item.icon?i.item.icon.component:i.item.icon),Ft(Ve({key:0},"props"in i.item.icon?{editor:i.editor,...i.item.icon.props}:{editor:i.editor})),null,16)):Pe("",!0)]),_:1})],40,y5)}}}),b5={class:"rounded border-neutral-300 dark:border-neutral-700 border bg-neutral-50 dark:bg-neutral-950 p-1 flex [&>div]:px-1 [&>div:last-of-type]:pr-0 [&>div]:border-neutral-300 [&>div]:dark:border-neutral-700 [&>div]:border-r [&>div:last-of-type]:border-r-0"},v5={key:0},E5={key:1,class:"flex gap-1"},k5=Se({__name:"CommandBar",props:{editor:{},commands:{}},setup(e){return(t,n)=>(z(),ee("div",b5,[(z(!0),ee(Xe,null,gi(t.commands,r=>(z(),ee(Xe,{key:r.title},[r.type==="command"?(z(),ee("div",v5,[r.canShow===void 0||r.canShow(t.editor.state)?(z(),ke(Qg,{key:0,editor:t.editor,item:r},null,8,["editor","item"])):Pe("",!0)])):r.type==="group"&&r.variations.some(o=>o.canShow===void 0||o.canShow(t.editor.state))?(z(),ee("div",E5,[(z(!0),ee(Xe,null,gi(r.variations,o=>(z(),ke(Qg,{item:o,editor:t.editor,key:o.title},null,8,["item","editor"]))),128))])):Pe("",!0)],64))),128))]))}}),w5=["p",0],x5=["blockquote",0],C5=["hr"],T5=["pre",["code",0]],S5=["br"],M5={doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM(){return w5}},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM(){return x5}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM(){return C5}},heading:{attrs:{level:{default:1,validate:"number"}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM(e){return["h"+e.attrs.level,0]}},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM(){return T5}},text:{group:"inline"},image:{inline:!0,attrs:{src:{validate:"string"},alt:{default:null,validate:"string|null"},title:{default:null,validate:"string|null"}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs(e){return{src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")}}}],toDOM(e){let{src:t,alt:n,title:r}=e.attrs;return["img",{src:t,alt:n,title:r}]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return S5}}},A5=["em",0],O5=["strong",0],I5=["code",0],R5={link:{attrs:{href:{validate:"string"},title:{default:null,validate:"string|null"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs(e){return{href:e.getAttribute("href"),title:e.getAttribute("title")}}}],toDOM(e){let{href:t,title:n}=e.attrs;return["a",{href:t,title:n},0]}},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"},{style:"font-style=normal",clearMark:e=>e.type.name=="em"}],toDOM(){return A5}},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name=="strong"},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],toDOM(){return O5}},code:{parseDOM:[{tag:"code"}],toDOM(){return I5}}},Zg=new Ic({nodes:M5,marks:R5}),Ul=Tn.prototype.tag=Object.create(null);function O1(e,t,n){let r=[],o=0,s=Ul;for(let i=0;i<t.length;i++){let l=t[i];if(typeof l=="string"){let a=/<(\w+)>/g,c,u=0,d="";for(;c=a.exec(l);)d+=l.slice(u,c.index),o+=c.index-u,u=c.index+c[0].length,s==Ul&&(s=Object.create(null)),s[c[1]]=o;d+=l.slice(u),o+=l.length-u,d&&r.push(n(e.text(d)))}else{if(l.tag&&l.tag!=Tn.prototype.tag){s==Ul&&(s=Object.create(null));for(let a in l.tag)s[a]=l.tag[a]+(l.flat||l.isText?0:1)+o}if(l.flat)for(let a=0;a<l.flat.length;a++){let c=n(l.flat[a]);o+=c.nodeSize,r.push(c)}else{let a=n(l);o+=a.nodeSize,r.push(a)}}}return{nodes:r,tag:s}}function D5(e){return e}function I1(e,t){let n=t[0];if(!t.length||n&&(typeof n=="string"||n instanceof Tn||n.flat))return e;if(t.shift(),!e)return n;if(!n)return e;let r={};for(let o in e)r[o]=e[o];for(let o in n)r[o]=n[o];return r}function e0(e,t=null){let n=function(...r){let o=I1(t,r),{nodes:s,tag:i}=O1(e.schema,r,D5),l=e.create(o,s);return i!=Ul&&(l.tag=i),l};if(e.isLeaf)try{n.flat=[e.create(t)]}catch{}return n}function t0(e,t){return function(...n){let r=e.create(I1(t,n)),{nodes:o,tag:s}=O1(e.schema,n,i=>{let l=r.addToSet(i.marks);return l.length>i.marks.length?i.mark(l):i});return{flat:o,tag:s}}}function R1(e,t){let n={schema:e};for(let r in e.nodes)n[r]=e0(e.nodes[r],{});for(let r in e.marks)n[r]=t0(e.marks[r],{});if(t)for(let r in t){let o=t[r],s=o.nodeType||o.markType||r,i;(i=e.nodes[s])?n[r]=e0(i,o):(i=e.marks[s])&&(n[r]=t0(i,o))}return n}const L5=new Ic({nodes:bI(Zg.spec.nodes,"paragraph block*","block"),marks:Zg.spec.marks});let vt=R1(L5,{p:{nodeType:"paragraph"},pre:{nodeType:"code_block"},h1:{nodeType:"heading",level:1},h2:{nodeType:"heading",level:2},h3:{nodeType:"heading",level:3},li:{nodeType:"list_item"},ul:{nodeType:"bullet_list"},ol:{nodeType:"ordered_list"},br:{nodeType:"hard_break"},img:{nodeType:"image",src:"img.png"},hr:{nodeType:"horizontal_rule"},a:{markType:"link",href:"foo"}});vt.doc;vt.p;vt.code_block;vt.pre;vt.h1;vt.h2;vt.h3;vt.li;vt.ul;vt.ol;vt.img;vt.hr;vt.br;vt.blockquote;vt.a;vt.em;vt.strong;vt.code;const j5=Tt.create({name:"BaseShortcuts",addKeyboardShortcuts(){return{Backspace:()=>this.editor.commands.backspace(),"Ctrl-Backspace":()=>this.editor.commands.deleteItem(),"Ctrl-z":()=>this.editor.commands.undo(),"Ctrl-Shift-z":()=>this.editor.commands.redo(),"Ctrl-y":()=>this.editor.commands.redo(),"Ctrl-b":()=>this.editor.commands.toggleBold(),"Ctrl-i":()=>this.editor.commands.toggleItalic(),Enter:()=>this.editor.commands.enter(),"Shift-Enter":()=>this.editor.commands.first(({commands:e})=>[()=>e.blockquoteShiftEnter(),()=>e.insertBreak()]),"Ctrl-.":()=>this.editor.commands.indentItem(),"Ctrl-,":()=>(this.editor.commands.unindentItem(),!0),Escape:()=>this.editor.commands.first(({commands:e})=>[()=>e.closeLinkMenu(),()=>e.blur()]),Tab:()=>this.editor.commands.codeBlockIndent(),"Shift-Tab":()=>this.editor.commands.codeBlockUnindent(),"Ctrl-k":()=>this.editor.commands.openLinkMenu(),"Ctrl-Shift-k":()=>this.editor.commands.openLinkMenu({type:"internal"}),"Ctrl-Alt-k":()=>this.editor.commands.expandSelectionToLink()}}});function D1(e,t){let n;return e.doc.nodesBetween(0,e.doc.content.size-1,(r,o)=>r.attrs.loadingId===t?(n=o,!1):!0),n}const P5=(e,t=!1)=>(n,r)=>({tr:o,editor:s,view:i,commands:l,dispatch:a})=>{const c=no(i,"insertFile",{args:[n,r],view:i,commands:l});return c.redirected?c.result:(a&&o.setMeta("fileLoaderIgnore",!0),a?(Promise.allSettled(n.reverse().map(async u=>{var w;t&&console.log(`insertFile for ${u.name}`,u);const d=e.filterFile?e.filterFile(u):u;if(!d)return;t&&console.log(`filterFile for ${u.name}`,d);const f=e.insertPosition(d,s,r);if(t&&console.log(`insertPosition for ${u.name}`,f),f===void 0)return;const h=e.insertLoadingNode,p=h(d,s,f,r);if(t&&console.log(`insertId for ${u.name}`,p),!p)return;const g=await((w=e.loadFile)==null?void 0:w.call(e,d,p,s));if(t&&console.log(`result for ${u.name}`,g),!g)return e.onLoadError(d,s,void 0,new Error("fileLoader returned nothing."),p);const y=D1(s.state,p);if(t&&console.log(`replacePos for ${u.name}`,y),y===void 0)return e.onLoadError(d,s,y,new Error("Could not find node to replace."),p);const _=e.replaceLoadingNode(s,y,g,p);t&&console.log(`called replaceLoadingNode for ${u.name}, replaced node:`,_)})).then(()=>{}),!0):n.some(u=>{var d;return((d=e.filterFile)==null?void 0:d.call(e,u))??!0}))};function L1(e,t,n,r,o){const s=e.doc.nodeAt(t);if(!s)return!1;if(s.type===n){let i;return Un(e.doc,t,l=>{if(r.includes(l.parent.type))if(l.parent.childCount===1)i=l;else return!0;else if(i)return!0;return!1}),i?e.delete(i.start()-1,i.end()+1):e.replaceWith(t,t+s.nodeSize,o.create()),!0}return!1}function n0(e,t,n,r,o,s=L1){const i=Ae(n,t),l=r.map(u=>Ae(u,t)),a=Ae(o,t),c=[];e.doc.descendants((u,d)=>{u.type===i&&c.push(d)});for(const u of c.reverse()){const d=e.mapping.map(u);d!==u&&Jt(),s(e,d,i,l,a)}return e.setMeta("preventClearDocument",!0),e.setMeta("addToHistory",!1),e}const N5=new Re("fileLoader");function V5(e,t){let n=!1;return new Oe({key:N5,stateInit:r=>{if(t.cleanupOnLoad)return n=!0,n0(r,e.schema,e.state.schema.nodes.fileLoader,[e.state.schema.nodes.item,e.state.schema.nodes.list],e.state.schema.nodes.paragraph)},appendTransaction:(r,o,s)=>{if(!(!s.tr.getMeta("cleanFileLoaders")&&(!t.cleanupOnLoad||n)))return n=!0,n0(s.tr,e.schema,e.state.schema.nodes.fileLoader,[e.state.schema.nodes.item,e.state.schema.nodes.list],e.state.schema.nodes.paragraph)},filterTransaction:r=>!r.getMeta("fileLoaderIgnore"),props:{handleDOMEvents:{drop:(r,o)=>{var a;o.preventDefault();const s=r.posAtCoords({left:o.clientX,top:o.clientY});if(!s)return;const i=s.inside>0?s.inside:s.pos-1,l=Array.from(((a=o.dataTransfer)==null?void 0:a.files)??[]);e.commands.insertFile(l,i)},paste:(r,o)=>{var l,a;const s=Array.from(((l=o.clipboardData)==null?void 0:l.files)??[]);(a=o.clipboardData)!=null&&a.getData("text/html")||e.commands.insertFile(s)}}}})}function $5(e,t){var n;if(!t.handler)throw new Error("The FileLoader needs to be configered with a handler (see FileLoaderHandler).");if((!t.handler.insertLoadingNode||!t.handler.onLoadError||!((n=t.handler)!=null&&n.insertPosition))&&e.state.schema.nodes.item===void 0)throw new Error("Could not find item node in schema. Add the block extensions or specify a custom `handler.insertLoadingNode` function for the FileLoader.")}const B5=bt.create({name:"fileLoader",instancePerEditor:!0,group:"block",content:"",marks:"",addOptions(){return{cleanupOnLoad:!0,onDrop:void 0,onPaste:void 0,handler:void 0,embeddedBlockCommandRedirect:void 0,HTMLAttributes:{class:`
					rounded
					animate-pulse
					bg-accent-200
					text-accent-800
					dark:bg-accent-700
					dark:text-accent-300
					px-2
				`}}},addAttributes(){return{HTMLAttributes:{default:{}},preview:{default:void 0},fileName:{default:void 0},loading:{default:!0},loadingId:{default:void 0}}},parseHTML(){return[{tag:`div[type=${this.name}]`,getAttrs:e=>{const t=e.getAttribute("file-name"),n=e.getAttribute("file-loading"),r=e.getAttribute("file-loading-id");return{fileName:t,loadingId:Va(r,10)?r:void 0,loading:n==="true"}}}]},renderHTML({node:e,HTMLAttributes:t}){return["div",$e(this.options.HTMLAttributes,t,{"file-loading-id":e.attrs.loadingId,"file-name":e.attrs.fileName,"file-loading":e.attrs.loading,type:this.name}),`Loading "${e.attrs.fileName??"Unknown"}" ...`]},addCommands(){return $5(this.editor,this.options),{insertFile:P5(this.options.handler)}},addProseMirrorPlugins(){const e=this;return[V5(e.editor,e.options)]}});var ro={};ro.removeLeadingAndTrailingHTTPWhitespace=e=>e.replace(/^[ \t\n\r]+/u,"").replace(/[ \t\n\r]+$/u,"");ro.removeTrailingHTTPWhitespace=e=>e.replace(/[ \t\n\r]+$/u,"");ro.isHTTPWhitespaceChar=e=>e===" "||e==="	"||e===`
`||e==="\r";ro.solelyContainsHTTPTokenCodePoints=e=>/^[-!#$%&'*+.^_`|~A-Za-z0-9]*$/u.test(e);ro.soleyContainsHTTPQuotedStringTokenCodePoints=e=>/^[\t\u0020-\u007E\u0080-\u00FF]*$/u.test(e);ro.asciiLowercase=e=>e.replace(/[A-Z]/ug,t=>t.toLowerCase());ro.collectAnHTTPQuotedString=(e,t)=>{let n="";for(t++;;){for(;t<e.length&&e[t]!=='"'&&e[t]!=="\\";)n+=e[t],++t;if(t>=e.length)break;const r=e[t];if(++t,r==="\\"){if(t>=e.length){n+="\\";break}n+=e[t],++t}else break}return[n,t]};const{removeLeadingAndTrailingHTTPWhitespace:H5,removeTrailingHTTPWhitespace:r0,isHTTPWhitespaceChar:F5,solelyContainsHTTPTokenCodePoints:zu,soleyContainsHTTPQuotedStringTokenCodePoints:z5,asciiLowercase:Ku,collectAnHTTPQuotedString:K5}=ro;var W5=e=>{e=H5(e);let t=0,n="";for(;t<e.length&&e[t]!=="/";)n+=e[t],++t;if(n.length===0||!zu(n)||t>=e.length)return null;++t;let r="";for(;t<e.length&&e[t]!==";";)r+=e[t],++t;if(r=r0(r),r.length===0||!zu(r))return null;const o={type:Ku(n),subtype:Ku(r),parameters:new Map};for(;t<e.length;){for(++t;F5(e[t]);)++t;let s="";for(;t<e.length&&e[t]!==";"&&e[t]!=="=";)s+=e[t],++t;if(s=Ku(s),t<e.length){if(e[t]===";")continue;++t}let i=null;if(e[t]==='"')for([i,t]=K5(e,t);t<e.length&&e[t]!==";";)++t;else{for(i="";t<e.length&&e[t]!==";";)i+=e[t],++t;if(i=r0(i),i==="")continue}s.length>0&&zu(s)&&z5(i)&&!o.parameters.has(s)&&o.parameters.set(s,i)}return o};const U5=Iv(W5);class q5{constructor(t){We(this,"loadFile");We(this,"onLoadError");We(this,"insertPosition");We(this,"insertLoadingNode");We(this,"replaceLoadingNode");We(this,"filterFile");this.loadFile=t.loadFile,this.replaceLoadingNode=t.replaceLoadingNode,t.onLoadError?this.onLoadError=t.onLoadError:this.onLoadError=this.defaultOnLoadError,t.insertPosition?this.insertPosition=t.insertPosition:this.insertPosition=this.defaultInsertPosition,t.insertLoadingNode?this.insertLoadingNode=t.insertLoadingNode:this.insertLoadingNode=this.defaultInsertLoadingNode,t.filterFile?this.filterFile=t.filterFile:this.filterFile=this.defaultFilterFile}defaultFilterFile(t){return t}defaultInsertPosition(t,n,r){const o=r??n.state.selection.anchor,s=Un(n.state.doc,o,i=>i.node().type.name==="item").$pos;return s?s.end()+1:void 0}defaultOnLoadError(t,n,r){r===void 0&&Jt(),n.commands.command(({tr:o})=>(L1(o,r,n.schema.nodes.fileLoader,[n.state.schema.nodes.item,n.state.schema.nodes.list],n.schema.nodes.paragraph),!0))}defaultInsertLoadingNode(t,n,r){const o={loadingId:_o(10),fileName:t.name,loading:!0};return n.commands.command(({tr:s})=>{const i=n.schema.nodes;return s.insert(r,i.item.create({},i.fileLoader.create(o))),!0}),o.loadingId}}async function G5(e){return new Promise((t,n)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>{t(r.result)},r.onerror=o=>{n(o)}})}const J5=2e3,X5=new q5({filterFile:e=>{const t=U5(e.type);if(e.parsedMime=t,!!t&&t.type==="image")return e},replaceLoadingNode(e,t,n){const r=e.schema.nodes,o=n.file.parsedMime;return e.commands.command(({tr:i})=>o.type==="image"?(i.replaceWith(t,t+1,r.image.create({src:n.result})),!0):(i.delete(t,t+1),!1))},loadFile:async(e,t,n)=>{const r=await G5(e),o=D1(n.state,t);if(o!==void 0&&n.commands.command(({tr:s})=>(s.setNodeAttribute(o,"preview",r),!0)),e.parsedMime.type==="image")return await wd(J5*Math.random()),{file:e,result:r}}}),Y5={class:"self-start"},Q5=["src"],Z5=Se({__name:"FileLoaderNodeView",props:Gi,setup(e){return(t,n)=>(z(),ke(S(qi),{class:st(S(Bn)(`
		group/file-loader
		rounded
		animate-pulse
		bg-accent-200
		text-accent-800
		dark:bg-accent-700
		dark:text-accent-300
		px-2
		flex
		flex-col
		items-center
		gap-2
	`)),contenteditable:"false"},{default:me(()=>[le("div",Y5,Dt(`Loading "${t.node.attrs.fileName??"Unknown"}" ...`),1),t.node.attrs.preview?(z(),ee("img",{key:0,class:"!max-h-[200px] !max-w-[200px] mb-2",src:t.node.attrs.preview,alt:"Loading Image"},null,8,Q5)):Pe("",!0)]),_:1},8,["class"]))}});function eB(e){return e instanceof Tn&&"attrs"in e?delete e.attrs.blockId:delete e.blockId,e}const Dh=[B5.extend({addOptions(){var e;return{...(e=this.parent)==null?void 0:e.call(this),handler:X5}},addNodeView(){return Ji(Z5,{stopEvent(){return!0},ignoreMutation(){return!0}})}}),j5,...Rh],tB=sh(Dh),o0=R1(tB);o0.itemNoId=(...e)=>eB(o0.item(...e));function nB(e,t){var l;const n=t.getMeta("no-schema-convert")?t.steps:JSON.parse(JSON.stringify(t.steps)).map(a=>ht.fromJSON(e.schema,a)),r=e.tr;ja(t,r);const o=(l=t.doc.nodeAt(1))==null?void 0:l.attrs.blockId;!o&&!t.getMeta("no-step-convert")&&Jt();const s=o?$a(t.doc,o):void 0,i=s&&!t.getMeta("no-step-convert")?Wt.offset(s.start!==void 0?s.start-1:0):void 0;for(const a of n){const c=i?a.map(i):a;r.step(c)}return r}function rB(e){if(e)return{type:"doc",content:[{type:"list",content:[e]}]}}function oB(e,t){if(!t)return;let n;return xd(e.content,r=>(!n&&r&&r.type==="item"&&r.attrs.blockId===t&&(n=r),r),{before:!0}),n}class sB{constructor({editorOptions:t,getTitle:n,getSuggestions:r,load:o,cache:s,refCounter:i}){We(this,"_callbacks",{update:[]});We(this,"_load");We(this,"_cache");We(this,"_refCounter");We(this,"getSuggestions");We(this,"getEmbedTitle");We(this,"editor");We(this,"_loading",{});this.getEmbedTitle=n?({docId:l,blockId:a})=>n(l,a):({docId:l,blockId:a})=>`${l}${a?`#${a}`:""}`,this._load=o,this._cache=s,this._refCounter=i,this.getSuggestions=r,this.editor=new uv({...t,extensions:t.extensions.map(l=>l.config.instancePerEditor?l.extend():l),injectCSS:!1})}_init(t){for(const n of this.editor.extensionManager.extensions)n.config.onStateInit&&n.config.onStateInit(t);return t}updateDocument(t,n,r){const o=this.getFromCache(t,{errorIfNotFound:!0}),s=nB(o,n),i=o.apply(s);this._cache.set(t.docId,i);for(const l of this._callbacks.update)l(t,s,Te(o),Te(i),r)}addEventListener(t,n){this._callbacks[t].push(n)}removeEventListener(t,n){const r=this._callbacks[t].indexOf(n);if(r===-1)throw new Error("Tried to remove a callback that was not registered.");this._callbacks[t].splice(r,1)}unload({docId:t}){this._refCounter.unload(t)}async load({docId:t}){var r;(r=this._loading)[t]??(r[t]=this._loadInternal({docId:t}));const n=await this._loading[t];return n===void 0&&Jt(),this._loading[t]=void 0,this._refCounter.load(t,n),this._cache.set(t,n),n}async _loadInternal({docId:t}){const n=this.getFromCache({docId:t},{errorIfNotFound:!1});if(n)return this._refCounter.load(t,n),n;const r=this.editor.schema,o=await this._load(t),s=Oa(o,r);let i=fo.create({doc:s,schema:r,plugins:[...this.editor.extensionManager.plugins]});const l=i.tr;l.setMeta("addToHistory",!1);for(const a of i.plugins)a.spec.stateInit&&a.spec.stateInit(l);return i=i.apply(l),i}getFullState(t){return this.getFromCache(t,{errorIfNotFound:!0})}getFromCache({docId:t},n){const r=this._cache.get(t);if(r)return r;if(n!=null&&n.errorIfNotFound)throw new Error(`Could not find cached state for document ${t}. Expected document to be loaded.`)}getEmbeddedContent(t){const r=this.getFullState(t).doc.toJSON(),o=oB(r,t.blockId);if(!(t.blockId&&!o))return rB(o)??r}}function iB(e,t,{loadDelay:n=0}={}){const r=Q({});return{documentApi:new sB({editorOptions:e,getSuggestions:async s=>{const i=[];for(const l of sn(t)){const a=t[l].title??l;a.includes(s)&&i.push({title:a,docId:l})}return n&&await wd(n),i},getTitle:(s,i)=>{var l;return(((l=t[s])==null?void 0:l.title)??s)+(i?`#${i}`:"")},cache:{get(s){var i;return Te((i=r.value[s])==null?void 0:i.state)},set(s,i){r.value[s].state=i}},load:async s=>{if(n&&await wd(n),!t[s])throw new Error(`No embed found for docId ${s} in: ${JSON.stringify(t,null,"	")}`);return L2(t[s].content,Dh)},refCounter:{load(s,i){var l;(l=r.value)[s]||(l[s]={state:i,count:0}),r.value[s].count++},unload:s=>{r.value[s]?r.value[s].count===1?delete r.value[s]:r.value[s].count--:Jt()}}}),cache:r,embeds:t}}const lB={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 448 512"};function aB(e,t){return z(),ee("svg",lB,t[0]||(t[0]=[le("path",{fill:"currentColor",d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32"},null,-1)]))}const cB=Me({name:"fa-solid-plus",render:aB}),uB={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 512 512"};function dB(e,t){return z(),ee("svg",uB,t[0]||(t[0]=[le("path",{fill:"currentColor",d:"m173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69L432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001"},null,-1)]))}const fB=Me({name:"fa-solid-check",render:dB}),hB={class:"flex flex-nowrap flex-row gap-1 border border-transparent"},pB=Se({__name:"BubbleMenuLinkActions",props:{linkMark:{},linkHref:{},isChanged:{type:Boolean}},emits:["close","copy","save","remove"],setup(e,{emit:t}){const n=t;return(r,o)=>{const s=fB,i=yn,l=cB,a=Z0("lib-button"),c=d1,u=dh;return z(),ee("div",hB,[te(a,{border:!1,disabled:!r.isChanged,class:"text-ok-700 dark:text-ok-300","aria-label":r.linkMark?"Save":"Add",title:r.linkMark?"Save":"Add",onClick:o[0]||(o[0]=d=>n("save",d))},{default:me(()=>[r.linkMark?(z(),ke(i,{key:0},{default:me(()=>[te(s,{class:"w-[1.25em]"})]),_:1})):(z(),ke(i,{key:1},{default:me(()=>[te(l)]),_:1}))]),_:1},8,["disabled","aria-label","title"]),r.linkHref?(z(),ke(a,{key:0,border:!1,class:"text-neutral-700 dark:text-neutral-300","aria-label":"Copy",title:"Copy",onClick:o[1]||(o[1]=d=>n("copy",r.linkHref))},{default:me(()=>[te(i,null,{default:me(()=>[te(c,{class:"w-[1.25em]"})]),_:1})]),_:1})):Pe("",!0),r.linkMark?(z(),ke(a,{key:1,border:!1,class:"text-neutral-700 dark:text-neutral-300","aria-label":"Remove Link",title:"Remove Link",onClick:o[2]||(o[2]=d=>n("remove"))},{default:me(()=>[te(i,null,{default:me(()=>[te(u,{class:"w-[1.25em]"})]),_:1})]),_:1})):Pe("",!0)])}}}),mB={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 24 24"};function gB(e,t){return z(),ee("svg",mB,t[0]||(t[0]=[le("path",{fill:"currentColor",d:"M17 7h-3c-.55 0-1 .45-1 1s.45 1 1 1h3c1.65 0 3 1.35 3 3s-1.35 3-3 3h-3c-.55 0-1 .45-1 1s.45 1 1 1h3c2.76 0 5-2.24 5-5s-2.24-5-5-5m-9 5c0 .55.45 1 1 1h6c.55 0 1-.45 1-1s-.45-1-1-1H9c-.55 0-1 .45-1 1m2 3H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h3c.55 0 1-.45 1-1s-.45-1-1-1H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h3c.55 0 1-.45 1-1s-.45-1-1-1"},null,-1)]))}const _B=Me({name:"ic-round-link",render:gB}),yB={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 24 24"};function bB(e,t){return z(),ee("svg",yB,t[0]||(t[0]=[le("path",{fill:"currentColor",d:"M5 9h14c.55 0 1 .45 1 1s-.45 1-1 1H5c-.55 0-1-.45-1-1s.45-1 1-1m0 4h8c.55 0 1 .45 1 1s-.45 1-1 1H5c-.55 0-1-.45-1-1s.45-1 1-1"},null,-1)]))}const vB=Me({name:"ic-round-short-text",render:bB}),EB={class:"flex flex-col gap-1"},kB={class:"flex flex-col gap-1"},wB={class:"flex flex-nowrap flex-row gap-1 justify-start border border-transparent"},xB=Se({__name:"BubbleMenuExternalLink",props:En({editor:{},linkSuggestions:{},linkMark:{},isChanged:{type:Boolean}},{linkHref:{required:!0},linkHrefModifiers:{},linkTextValue:{required:!0},linkTextValueModifiers:{}}),emits:En(["close","copy","remove"],["update:linkHref","update:linkTextValue"]),setup(e,{expose:t,emit:n}){const r=e,o=n,s=qn(e,"linkHref"),i=qn(e,"linkTextValue"),l=Q(null);function a(){window.open(s.value,"_blank")}t({focus:u=>{var h;const d=u==="link"?"link-input":"text-input",f=(h=l.value)==null?void 0:h.querySelector(`.${d}`);f&&f.focus()}});function c(u){r.editor.commands.changeOrAddLink(s.value,i.value,!1),o("close",u instanceof Event?u:void 0)}return(u,d)=>{const f=yn;return z(),ee("div",{class:"flex flex-nowrap flex-row gap-1 items-start",ref_key:"el",ref:l},[le("div",EB,[te(S(ki),{class:"text-input","wrapper-class":"flex flex-nowrap gap-1",modelValue:i.value,"onUpdate:modelValue":d[0]||(d[0]=h=>i.value=h),onKeydown:d[1]||(d[1]=sa(h=>o("close",h),["esc"])),onSubmit:c},{label:me(h=>[te(S(kd),Ve(h,{title:"Link Text","aria-label":"Link Text",class:"flex items-center"}),{default:me(()=>[te(S(vB),{class:"w-[1.25em] !h-auto"})]),_:2},1040)]),_:1},8,["modelValue"]),te(S(ki),{class:"link-input","wrapper-class":"flex flex-nowrap gap-1",suggestions:u.linkSuggestions,modelValue:s.value,"onUpdate:modelValue":d[2]||(d[2]=h=>s.value=h),onKeydown:d[3]||(d[3]=sa(h=>o("close",h),["esc"])),onSubmit:c},{label:me(h=>[te(S(kd),Ve(h,{"aria-label":"Location",title:"Location",class:"flex items-center"}),{default:me(()=>[te(S(_B),{class:"w-[1.25em] !h-auto"})]),_:2},1040)]),_:1},8,["suggestions","modelValue"])]),le("div",kB,[te(pB,{"link-mark":u.linkMark,"link-href":s.value,"is-changed":u.isChanged,onSave:c,onCopy:d[4]||(d[4]=h=>o("copy",h)),onRemove:d[5]||(d[5]=h=>o("remove"))},null,8,["link-mark","link-href","is-changed"]),le("div",wB,[s.value?(z(),ke(S(dr),{key:0,border:!1,class:"text-neutral-700 dark:text-neutral-300","aria-label":"Go to Link",title:"Go to Link",onClick:a},{default:me(()=>[te(f,null,{default:me(()=>[te(S(u1),{class:"w-[1.25em] !h-auto"})]),_:1})]),_:1})):Pe("",!0)])])],512)}}}),CB=Se({__name:"BubbleMenuLink",props:{editor:{},linkSuggestions:{},internalLinkSuggestions:{},getLinkSuggestions:{type:Function},getLinkInternalSuggestions:{type:Function},getInternalLinkHref:{type:Function}},setup(e){const t=e,n=Q();Q(null);const r=Q(!1),o=Q(""),s=Q(""),i=Q(""),l=Q(!1),a=Q();function c(y){o.value=(y==null?void 0:y.attrs.href)??"";const _=t.editor.state,w=_.selection;if(y){const b=zl(_,Te(y.type),w.from);b||Jt(),s.value=_.doc.cut(b.from,b.to).textContent}else w.empty?s.value="":s.value=_.doc.cut(w.from,w.to).textContent;i.value=s.value,y!=null&&y.attrs.internal&&(l.value=!0)}const u=Ee(()=>!a.value||i.value!==s.value||o.value!==a.value.attrs.href);function d(y){t.editor.commands.closeLinkMenu(),y==null||y.preventDefault()}function f(){t.editor.commands.unsetLink(),d()}function h(){const y=Bt.getState(t.editor.state);if(!y)return;const _=Ys(t.editor.state).find(b=>b.type.name==="link"),w=_===a.value;a.value=_,l.value=y.type==="internal",(!w||!_)&&c(y.state?_:void 0),r.value=!!y.state,y.state==="focus"&&Gt(()=>{var b;(b=n.value)==null||b.focus(a.value?"link":"text")})}const p=Ee(()=>{var y;return t.linkSuggestions??((y=t.getLinkSuggestions)==null?void 0:y.call(t,o.value,s.value))}),g=Ee(()=>{var y;return t.internalLinkSuggestions??((y=t.getLinkInternalSuggestions)==null?void 0:y.call(t,o.value))});return ze(()=>t.editor.state,()=>h()),St(()=>{h(),t.editor.on("transaction",h)}),kn(()=>{t.editor.off("transaction",h)}),(y,_)=>{const w=Z0("bubble-menu-internal-link");return r.value?(z(),ee("div",{key:0,tabindex:"0",class:st(S(nt)(`
		rounded
		border-neutral-300
		dark:border-neutral-700
		border
		bg-neutral-50
		dark:bg-neutral-950
		p-2
	`))},[l.value?Pe("",!0):(z(),ke(xB,{key:0,editor:y.editor,"link-suggestions":p.value,"link-mark":a.value,"is-changed":u.value,ref_key:"component",ref:n,"link-href":o.value,"onUpdate:linkHref":_[0]||(_[0]=b=>o.value=b),"link-text-value":s.value,"onUpdate:linkTextValue":_[1]||(_[1]=b=>s.value=b),onClose:d,onCopy:S(Ei),onRemove:f},null,8,["editor","link-suggestions","link-mark","is-changed","link-href","link-text-value","onCopy"])),l.value?(z(),ke(w,{key:1,editor:y.editor,"link-suggestions":g.value,"link-mark":a.value,"is-changed":u.value,"get-internal-link-href":y.getInternalLinkHref,ref_key:"component",ref:n,"link-text":s.value,"onUpdate:linkText":_[2]||(_[2]=b=>s.value=b),onClose:d,onCopy:S(Ei),onRemove:f},null,8,["editor","link-suggestions","link-mark","is-changed","get-internal-link-href","link-text","onCopy"])):Pe("",!0)],2)):Pe("",!0)}}}),uf={title:"Some Doc",content:it`
		<li blockid="some-sub-id"><p>A</p></li>
		<li blockid="some-sub-id2"><p>B</p></li>
	`,embedder:it`
		<li><div type="embeddedDoc" embeddocid="someDoc"></div></li>
	`,subEmbedders:[it` <li><div type="embeddedDoc" embeddocid="someDoc" embedblockid="some-sub-id"></div></li> `,it` <li><div type="embeddedDoc" embeddocid="someDoc" embedblockid="some-sub-id2"></div></li> `]},TB={title:"Some Doc 2",content:it`
		<li blockid="some-sub-id"><p>C</p></li>
	`,embedder:it`
		<li><div type="embeddedDoc" embeddocid="someDoc2"></div></li>
	`,subEmbedders:[it`
		<li><div type="embeddedDoc" embeddocid="someDoc2" embedblockid="some-sub-id"></div></li>
	`]},SB={title:"Some Doc 3",content:it`
		<li blockid="some-sub-id"><p>D</p></li>
		<li blockid="some-sub-id2"><p>E</p></li>
	`,embedder:it`
		<li><div type="embeddedDoc" embeddocid="someDoc3"></div></li>
	`,subEmbedders:[it` <li><div type="embeddedDoc" embeddocid="someDoc3" embedblockid="some-sub-id"></div></li> `,it` <li><div type="embeddedDoc" embeddocid="someDoc3" embedblockid="some-sub-id2"></div></li> `]},MB=it`
<li>
	<table>
		<thead>
			<th>a</th>
			<th>b</th>
		</thead>
		<tbody>
		<tr>
			<td>a2</td>
			<td>b2</td>
		</tr>
		<tr>
			<td>a3</td>
			<td>b3</td>
		</tr>
		</tbody>
	</table>
</li>
`,AB=it`
<li><p>Paragraph</p></li>
<li><p>Paragraph with<br/> line break.</p></li>
`,OB=it`
<li><p><mark data-color="yellow">Yellow</mark></p></li>
<li><p><mark data-color="orange">Orange</mark></p></li>
<li><p><mark data-color="red">Red</mark></p></li>
<li><p><mark data-color="green">Green</mark></p></li>
<li><p><mark data-color="blue">Blue</mark></p></li>
<li><b>Bold</b></li>
<li><i>Italic</i></li>
<li><s>Strikethrough</s></li>
<li><u>Underline</u></li>
<li><sub>Subscript</sub></li>
<li><sup>Superscript</sup></li>
<li><code>Code</code></li>
<li><b> Bold <i> Italic <a href="https://www.google.com">Link</a></i></b></li>
<li><b> Bold <i> Italic <a href="internal://some-id">Internal Link</a></i></b></li>
`,IB=it`
<li><blockquote><p>Blockquote</p></blockquote></li>
<li><h1>Heading 1</h1></li>
<li><h2>Heading 2</h2></li>
<li><h3>Heading 3</h3></li>
<li><h4>Heading 4</h4></li>
<li><h5>Heading 5</h5></li>
<li><h6>Heading 6</h6></li>
<li><p>Image</p></li>
<!-- is removed-->
<li><div type="fileLoader" file-name="some-file.png" file-loading="true" file-loading-id="some-id"></div> </li>
<li><img src="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAIAAADTED8xAAADMElEQVR4nOzVwQnAIBQFQYXff81RUkQCOyDj1YOPnbXWPmeTRef+/3O/OyBjzh3CD95BfqICMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMK0CMO0TAAD//2Anhf4QtqobAAAAAElFTkSuQmCC"/></li>
${MB}
${uf.embedder}
${uf.subEmbedders[0]}
`,RB=it`
${AB}
${OB}
${IB}
`,DB={title:"Root",embedder:it`
		<li><div embeddocid="root"></div></li>
	`,content:it`
	<ul>
		${RB}
	<ul>
`},LB={root:DB,someDoc:uf,someDoc2:TB,someDoc3:SB},jB={class:"bg-bg text-fg dark:bg-fg dark:text-bg flex flex-col h-full items-center"},PB=Se({__name:"App",setup(e){const t=Q(null),{outline:n}=rM(t),r=Q(!1),{theme:o,knownThemes:s,themeCss:i,isDark:l,backgroundColor:a}=g5();JC({style:i});function c(){const _=o.value;o.value="",Gt(()=>{o.value=_})}const u={extensions:Dh},d={openInternal:_=>{window.alert(`This would open an internal link to ${_}.`),console.log(`Would open internal link to ${_}.`)}},f=vn(["some","suggestions"]),h=Jl({linkMenu:{component:CB,props:_=>({editor:_,linkSuggestions:f,getInternalLinkHref(w){return`internal://${w.replace(/[^a-zA-Z0-9-_]/g,"")}`}})},commandBar:{component:k5,props:_=>({editor:_,commands:n1.commands}),popupOptions:{pinToItemDistance:_=>{const{$from:w,$to:b}=_.selection,E=w.node(-1),T=b.node(-1);return E.type!==T.type?0:E.type.name.startsWith("table")?120:0}}}}),{cache:p,documentApi:g,embeds:y}=iB(u,LB);return(_,w)=>{var T,x;const b=LS,E=ki;return z(),ee("div",{tabindex:"0",class:st(S(nt)(`
		${S(n)?"group outlined outlined-visible":"[&_*]:outline-none"}
	`,r.value&&"dark","h-screen")),ref_key:"el",ref:t},[le("div",jB,[te(b,{"onUpdate:darkMode":w[0]||(w[0]=D=>r.value=D)}),te(E,{"wrapper-class":"grow-0 max-h-[200px] overflow-y-auto",suggestions:S(s),"restrict-to-suggestions":!0,"model-value":S(o),onBlur:c,onSubmit:w[1]||(w[1]=D=>o.value=D)},null,8,["suggestions","model-value"]),It(" "+Dt((x=(T=S(p)["some-id"])==null?void 0:T.state)==null?void 0:x.doc.textContent)+" ",1),te(yc,Ve({class:"max-w-[700px] flex-1 max-h-[700px]"},{codeBlocksThemeIsDark:S(l),cssVariables:{pmCodeBlockBgColor:S(a)},docId:"root",documentApi:S(g),linkOptions:d,editorOptions:u,menus:h.value}),null,16),w[2]||(w[2]=le("div",{class:"py-[50px]"},null,-1))])],2)}}}),NB=Se({__name:"app",setup(e){return(t,n)=>{const r=PT;return z(),ke(r,null,{default:me(()=>[te(PB)]),_:1})}}}),VB={__name:"nuxt-error-page",props:{error:Object},setup(e){const n=e.error;n.stack&&n.stack.split(`
`).splice(1).map(d=>({text:d.replace("webpack:/","").replace(".vue",".js").trim(),internal:d.includes("node_modules")&&!d.includes(".cache")||d.includes("internal")||d.includes("new Promise")})).map(d=>`<span class="stack${d.internal?" internal":""}">${d.text}</span>`).join(`
`);const r=Number(n.statusCode||500),o=r===404,s=n.statusMessage??(o?"Page Not Found":"Internal Server Error"),i=n.message||n.toString(),l=void 0,u=o?Je(()=>m(()=>import("./CuDMerAG.js"),__vite__mapDeps([394,395,396]),import.meta.url)):Je(()=>m(()=>import("./COUzoPTg.js"),__vite__mapDeps([397,395,398]),import.meta.url));return(d,f)=>(z(),ke(S(u),Ft(fn({statusCode:S(r),statusMessage:S(s),description:S(i),stack:S(l)})),null,16))}},$B={key:0},s0={__name:"nuxt-root",setup(e){const t=()=>null,n=Ct(),r=n.deferHydration();if(n.isHydrating){const a=n.hooks.hookOnce("app:error",r);Do().beforeEach(a)}const o=!1;tt(dy,fy()),n.hooks.callHookWith(a=>a.map(c=>c()),"vue:setup");const s=jf(),i=!1;Y0((a,c,u)=>{if(n.hooks.callHook("vue:error",a,c,u).catch(d=>console.error("[nuxt] Error in `vue:error` hook",d)),Wx(a)&&(a.fatal||a.unhandled))return n.runWithContext(()=>zx(a)),!1});const l=!1;return(a,c)=>(z(),ke(yk,{onResolve:S(r)},{default:me(()=>[S(i)?(z(),ee("div",$B)):S(s)?(z(),ke(S(VB),{key:1,error:S(s)},null,8,["error"])):S(l)?(z(),ke(S(t),{key:2,context:S(l)},null,8,["context"])):S(o)?(z(),ke($o(S(o)),{key:3})):(z(),ke(S(NB),{key:4}))]),_:1},8,["onResolve"]))}};let i0;{let e;i0=async function(){var i,l;if(e)return e;const r=!!(((i=window.__NUXT__)==null?void 0:i.serverRendered)??((l=document.getElementById("__NUXT_DATA__"))==null?void 0:l.dataset.ssr)==="true")?gw(s0):mw(s0),o=Cx({vueApp:r});async function s(a){await o.callHook("app:error",a),o.payload.error=o.payload.error||Pf(a)}r.config.errorHandler=s;try{await Mx(o,LT)}catch(a){s(a)}try{await o.hooks.callHook("app:created",r),await o.hooks.callHook("app:beforeMount",r),r.mount(kx),await o.hooks.callHook("app:mounted",r),await Gt()}catch(a){s(a)}return r.config.errorHandler===s&&(r.config.errorHandler=void 0),r},e=i0().catch(t=>{throw console.error("Error while mounting app:",t),t})}export{Kc as $,me as A,It as B,UB as C,Af as D,md as E,ze as F,G0 as G,q0 as H,Zr as I,yn as J,dr as K,M3 as L,En as M,Ho as N,br as O,qn as P,ke as Q,Vo as R,S,Fi as T,Ve as U,nt as V,ct as W,st as X,Wn as Y,Pe as Z,t1 as _,Ct as a,vn as a0,GB as a1,ha as a2,YS as a3,LS as a4,r_ as a5,Me as a6,ss as a7,Ac as a8,Xe as a9,m as aA,Iv as aB,rM as aC,$o as aD,gi as aa,KS as ab,ki as ac,kd as ad,JS as ae,KB as af,zB as ag,Nk as ah,ks as ai,WS as aj,Gt as ak,xd as al,vi as am,it as an,Jp as ao,Ei as ap,sa as aq,Bo as ar,sn as as,Fo as at,Iy as au,FB as av,Fn as aw,eM as ax,Jt as ay,pa as az,Vf as b,Kp as c,Se as d,kn as e,qB as f,Z0 as g,Ds as h,Ee as i,Ls as j,Fx as k,Sc as l,Hx as m,WB as n,St as o,G_ as p,bi as q,Q as r,Df as s,z as t,Do as u,ee as v,ld as w,le as x,Dt as y,te as z};
